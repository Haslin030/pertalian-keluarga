(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function eg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Uu={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function uv(){if(uh)return zl;uh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return zl.Fragment=t,zl.jsx=l,zl.jsxs=l,zl}var ch;function cv(){return ch||(ch=1,Uu.exports=uv()),Uu.exports}var C=cv(),Lu={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function fv(){if(fh)return Ee;fh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function V(x,k,F){this.props=x,this.context=k,this.refs=w,this.updater=F||M}V.prototype.isReactComponent={},V.prototype.setState=function(x,k){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,k,"setState")},V.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function W(){}W.prototype=V.prototype;function O(x,k,F){this.props=x,this.context=k,this.refs=w,this.updater=F||M}var X=O.prototype=new W;X.constructor=O,b(X,V.prototype),X.isPureReactComponent=!0;var ne=Array.isArray;function oe(){}var Y={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function Z(x,k,F){var Q=F.ref;return{$$typeof:i,type:x,key:k,ref:Q!==void 0?Q:null,props:F}}function he(x,k){return Z(x.type,k,x.props)}function ce(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function Se(x){var k={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(F){return k[F]})}var _e=/\/+/g;function Ve(x,k){return typeof x=="object"&&x!==null&&x.key!=null?Se(""+x.key):k.toString(36)}function ft(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(oe,oe):(x.status="pending",x.then(function(k){x.status==="pending"&&(x.status="fulfilled",x.value=k)},function(k){x.status==="pending"&&(x.status="rejected",x.reason=k)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,k,F,Q,ie){var J=typeof x;(J==="undefined"||J==="boolean")&&(x=null);var ae=!1;if(x===null)ae=!0;else switch(J){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(x.$$typeof){case i:case t:ae=!0;break;case v:return ae=x._init,G(ae(x._payload),k,F,Q,ie)}}if(ae)return ie=ie(x),ae=Q===""?"."+Ve(x,0):Q,ne(ie)?(F="",ae!=null&&(F=ae.replace(_e,"$&/")+"/"),G(ie,k,F,"",function(Je){return Je})):ie!=null&&(ce(ie)&&(ie=he(ie,F+(ie.key==null||x&&x.key===ie.key?"":(""+ie.key).replace(_e,"$&/")+"/")+ae)),k.push(ie)),1;ae=0;var Ne=Q===""?".":Q+":";if(ne(x))for(var ve=0;ve<x.length;ve++)Q=x[ve],J=Ne+Ve(Q,ve),ae+=G(Q,k,F,J,ie);else if(ve=A(x),typeof ve=="function")for(x=ve.call(x),ve=0;!(Q=x.next()).done;)Q=Q.value,J=Ne+Ve(Q,ve++),ae+=G(Q,k,F,J,ie);else if(J==="object"){if(typeof x.then=="function")return G(ft(x),k,F,Q,ie);throw k=String(x),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ae}function $(x,k,F){if(x==null)return x;var Q=[],ie=0;return G(x,Q,"","",function(J){return k.call(F,J,ie++)}),Q}function fe(x){if(x._status===-1){var k=x._result;k=k(),k.then(function(F){(x._status===0||x._status===-1)&&(x._status=1,x._result=F)},function(F){(x._status===0||x._status===-1)&&(x._status=2,x._result=F)}),x._status===-1&&(x._status=0,x._result=k)}if(x._status===1)return x._result.default;throw x._result}var Re=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Me={map:$,forEach:function(x,k,F){$(x,function(){k.apply(this,arguments)},F)},count:function(x){var k=0;return $(x,function(){k++}),k},toArray:function(x){return $(x,function(k){return k})||[]},only:function(x){if(!ce(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ee.Activity=T,Ee.Children=Me,Ee.Component=V,Ee.Fragment=l,Ee.Profiler=r,Ee.PureComponent=O,Ee.StrictMode=a,Ee.Suspense=y,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Y.H.useMemoCache(x)}},Ee.cache=function(x){return function(){return x.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(x,k,F){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Q=b({},x.props),ie=x.key;if(k!=null)for(J in k.key!==void 0&&(ie=""+k.key),k)!ye.call(k,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&k.ref===void 0||(Q[J]=k[J]);var J=arguments.length-2;if(J===1)Q.children=F;else if(1<J){for(var ae=Array(J),Ne=0;Ne<J;Ne++)ae[Ne]=arguments[Ne+2];Q.children=ae}return Z(x.type,ie,Q)},Ee.createContext=function(x){return x={$$typeof:p,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:f,_context:x},x},Ee.createElement=function(x,k,F){var Q,ie={},J=null;if(k!=null)for(Q in k.key!==void 0&&(J=""+k.key),k)ye.call(k,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ie[Q]=k[Q]);var ae=arguments.length-2;if(ae===1)ie.children=F;else if(1<ae){for(var Ne=Array(ae),ve=0;ve<ae;ve++)Ne[ve]=arguments[ve+2];ie.children=Ne}if(x&&x.defaultProps)for(Q in ae=x.defaultProps,ae)ie[Q]===void 0&&(ie[Q]=ae[Q]);return Z(x,J,ie)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(x){return{$$typeof:g,render:x}},Ee.isValidElement=ce,Ee.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:fe}},Ee.memo=function(x,k){return{$$typeof:m,type:x,compare:k===void 0?null:k}},Ee.startTransition=function(x){var k=Y.T,F={};Y.T=F;try{var Q=x(),ie=Y.S;ie!==null&&ie(F,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(oe,Re)}catch(J){Re(J)}finally{k!==null&&F.types!==null&&(k.types=F.types),Y.T=k}},Ee.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Ee.use=function(x){return Y.H.use(x)},Ee.useActionState=function(x,k,F){return Y.H.useActionState(x,k,F)},Ee.useCallback=function(x,k){return Y.H.useCallback(x,k)},Ee.useContext=function(x){return Y.H.useContext(x)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(x,k){return Y.H.useDeferredValue(x,k)},Ee.useEffect=function(x,k){return Y.H.useEffect(x,k)},Ee.useEffectEvent=function(x){return Y.H.useEffectEvent(x)},Ee.useId=function(){return Y.H.useId()},Ee.useImperativeHandle=function(x,k,F){return Y.H.useImperativeHandle(x,k,F)},Ee.useInsertionEffect=function(x,k){return Y.H.useInsertionEffect(x,k)},Ee.useLayoutEffect=function(x,k){return Y.H.useLayoutEffect(x,k)},Ee.useMemo=function(x,k){return Y.H.useMemo(x,k)},Ee.useOptimistic=function(x,k){return Y.H.useOptimistic(x,k)},Ee.useReducer=function(x,k,F){return Y.H.useReducer(x,k,F)},Ee.useRef=function(x){return Y.H.useRef(x)},Ee.useState=function(x){return Y.H.useState(x)},Ee.useSyncExternalStore=function(x,k,F){return Y.H.useSyncExternalStore(x,k,F)},Ee.useTransition=function(){return Y.H.useTransition()},Ee.version="19.2.3",Ee}var dh;function lc(){return dh||(dh=1,Lu.exports=fv()),Lu.exports}var j=lc();const dv=eg(j);var Gu={exports:{}},Bl={},ku={exports:{}},Hu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph;function pv(){return ph||(ph=1,(function(i){function t(G,$){var fe=G.length;G.push($);e:for(;0<fe;){var Re=fe-1>>>1,Me=G[Re];if(0<r(Me,$))G[Re]=$,G[fe]=Me,fe=Re;else break e}}function l(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var $=G[0],fe=G.pop();if(fe!==$){G[0]=fe;e:for(var Re=0,Me=G.length,x=Me>>>1;Re<x;){var k=2*(Re+1)-1,F=G[k],Q=k+1,ie=G[Q];if(0>r(F,fe))Q<Me&&0>r(ie,F)?(G[Re]=ie,G[Q]=fe,Re=Q):(G[Re]=F,G[k]=fe,Re=k);else if(Q<Me&&0>r(ie,fe))G[Re]=ie,G[Q]=fe,Re=Q;else break e}}return $}function r(G,$){var fe=G.sortIndex-$.sortIndex;return fe!==0?fe:G.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],m=[],v=1,T=null,E=3,A=!1,M=!1,b=!1,w=!1,V=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function X(G){for(var $=l(m);$!==null;){if($.callback===null)a(m);else if($.startTime<=G)a(m),$.sortIndex=$.expirationTime,t(y,$);else break;$=l(m)}}function ne(G){if(b=!1,X(G),!M)if(l(y)!==null)M=!0,oe||(oe=!0,Se());else{var $=l(m);$!==null&&ft(ne,$.startTime-G)}}var oe=!1,Y=-1,ye=5,Z=-1;function he(){return w?!0:!(i.unstable_now()-Z<ye)}function ce(){if(w=!1,oe){var G=i.unstable_now();Z=G;var $=!0;try{e:{M=!1,b&&(b=!1,W(Y),Y=-1),A=!0;var fe=E;try{t:{for(X(G),T=l(y);T!==null&&!(T.expirationTime>G&&he());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,E=T.priorityLevel;var Me=Re(T.expirationTime<=G);if(G=i.unstable_now(),typeof Me=="function"){T.callback=Me,X(G),$=!0;break t}T===l(y)&&a(y),X(G)}else a(y);T=l(y)}if(T!==null)$=!0;else{var x=l(m);x!==null&&ft(ne,x.startTime-G),$=!1}}break e}finally{T=null,E=fe,A=!1}$=void 0}}finally{$?Se():oe=!1}}}var Se;if(typeof O=="function")Se=function(){O(ce)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ve=_e.port2;_e.port1.onmessage=ce,Se=function(){Ve.postMessage(null)}}else Se=function(){V(ce,0)};function ft(G,$){Y=V(function(){G(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(G){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var fe=E;E=$;try{return G()}finally{E=fe}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=E;E=G;try{return $()}finally{E=fe}},i.unstable_scheduleCallback=function(G,$,fe){var Re=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Re+fe:Re):fe=Re,G){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=fe+Me,G={id:v++,callback:$,priorityLevel:G,startTime:fe,expirationTime:Me,sortIndex:-1},fe>Re?(G.sortIndex=fe,t(m,G),l(y)===null&&G===l(m)&&(b?(W(Y),Y=-1):b=!0,ft(ne,fe-Re))):(G.sortIndex=Me,t(y,G),M||A||(M=!0,oe||(oe=!0,Se()))),G},i.unstable_shouldYield=he,i.unstable_wrapCallback=function(G){var $=E;return function(){var fe=E;E=$;try{return G.apply(this,arguments)}finally{E=fe}}}})(Hu)),Hu}var hh;function hv(){return hh||(hh=1,ku.exports=pv()),ku.exports}var Pu={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function mv(){if(mh)return Ht;mh=1;var i=lc();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:m,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ht.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return f(y,m,null,v)},Ht.flushSync=function(y){var m=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=m,a.p=v,a.d.f()}},Ht.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},Ht.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ht.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ht.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},Ht.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ht.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},Ht.requestFormReset=function(y){a.d.r(y)},Ht.unstable_batchedUpdates=function(y,m){return y(m)},Ht.useFormState=function(y,m,v){return p.H.useFormState(y,m,v)},Ht.useFormStatus=function(){return p.H.useHostTransitionStatus()},Ht.version="19.2.3",Ht}var gh;function gv(){if(gh)return Pu.exports;gh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Pu.exports=mv(),Pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function yv(){if(yh)return Bl;yh=1;var i=hv(),t=lc(),l=gv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return y(d),e;if(h===s)return y(d),n;h=h.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=h;else{for(var S=!1,_=d.child;_;){if(_===o){S=!0,o=d,s=h;break}if(_===s){S=!0,s=d,o=h;break}_=_.sibling}if(!S){for(_=h.child;_;){if(_===o){S=!0,o=h,s=d;break}if(_===s){S=!0,s=h,o=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),O=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case V:return"Profiler";case w:return"StrictMode";case ne:return"Suspense";case oe:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case O:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case X:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:Ve(e.type)||"Memo";case ye:n=e._payload,e=e._init;try{return Ve(e(n))}catch{}}return null}var ft=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Re=[],Me=-1;function x(e){return{current:e}}function k(e){0>Me||(e.current=Re[Me],Re[Me]=null,Me--)}function F(e,n){Me++,Re[Me]=e.current,e.current=n}var Q=x(null),ie=x(null),J=x(null),ae=x(null);function Ne(e,n){switch(F(J,n),F(ie,e),F(Q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Dp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Dp(n),e=Up(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(Q),F(Q,e)}function ve(){k(Q),k(ie),k(J)}function Je(e){e.memoizedState!==null&&F(ae,e);var n=Q.current,o=Up(n,e.type);n!==o&&(F(ie,e),F(Q,o))}function nt(e){ie.current===e&&(k(Q),k(ie)),ae.current===e&&(k(ae),Hl._currentValue=fe)}var je,xt;function dt(e){if(je===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);je=n&&n[1]||"",xt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+e+xt}var qt=!1;function Mt(e,n){if(!e||qt)return"";qt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(H){var L=H}Reflect.construct(e,[],B)}else{try{B.call()}catch(H){L=H}e.call(B.prototype)}}else{try{throw Error()}catch(H){L=H}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(H){if(H&&L&&typeof H.stack=="string")return[H.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),S=h[0],_=h[1];if(S&&_){var N=S.split(`
`),U=_.split(`
`);for(d=s=0;s<N.length&&!N[s].includes("DetermineComponentFrameRoot");)s++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(s===N.length||d===U.length)for(s=N.length-1,d=U.length-1;1<=s&&0<=d&&N[s]!==U[d];)d--;for(;1<=s&&0<=d;s--,d--)if(N[s]!==U[d]){if(s!==1||d!==1)do if(s--,d--,0>d||N[s]!==U[d]){var P=`
`+N[s].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=s&&0<=d);break}}}finally{qt=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?dt(o):""}function en(e,n){switch(e.tag){case 26:case 27:case 5:return dt(e.type);case 16:return dt("Lazy");case 13:return e.child!==n&&n!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return Mt(e.type,!1);case 11:return Mt(e.type.render,!1);case 1:return Mt(e.type,!0);case 31:return dt("Activity");default:return""}}function Yt(e){try{var n="",o=null;do n+=en(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var vt=Object.prototype.hasOwnProperty,K=i.unstable_scheduleCallback,be=i.unstable_cancelCallback,pt=i.unstable_shouldYield,ht=i.unstable_requestPaint,Ue=i.unstable_now,ji=i.unstable_getCurrentPriorityLevel,oi=i.unstable_ImmediatePriority,z=i.unstable_UserBlockingPriority,se=i.unstable_NormalPriority,ee=i.unstable_LowPriority,re=i.unstable_IdlePriority,pe=i.log,Ie=i.unstable_setDisableYieldValue,ze=null,me=null;function Le(e){if(typeof pe=="function"&&Ie(e),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(ze,e)}catch{}}var Ce=Math.clz32?Math.clz32:li,Ft=Math.log,tn=Math.LN2;function li(e){return e>>>=0,e===0?32:31-(Ft(e)/tn|0)|0}var cn=256,eo=262144,He=4194304;function Xe(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function et(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~h,s!==0?d=Xe(s):(S&=_,S!==0?d=Xe(S):o||(o=_&~e,o!==0&&(d=Xe(o))))):(_=s&~h,_!==0?d=Xe(_):S!==0?d=Xe(S):o||(o=s&~e,o!==0&&(d=Xe(o)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,o=n&-n,h>=o||h===32&&(o&4194048)!==0)?n:d}function it(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function bt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var e=He;return He<<=1,(He&62914560)===0&&(He=4194304),e}function lt(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function ut(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jt(e,n,o,s,d,h){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,N=e.expirationTimes,U=e.hiddenUpdates;for(o=S&~o;0<o;){var P=31-Ce(o),B=1<<P;_[P]=0,N[P]=-1;var L=U[P];if(L!==null)for(U[P]=null,P=0;P<L.length;P++){var H=L[P];H!==null&&(H.lane&=-536870913)}o&=~B}s!==0&&An(e,s,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~n))}function An(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Ce(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function Vt(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Ce(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function fn(e,n){var o=n&-n;return o=(o&42)!==0?1:to(o),(o&(e.suspendedLanes|n))!==0?0:o}function to(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ai(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:nh(e.type))}function $o(e,n){var o=$.p;try{return $.p=e,n()}finally{$.p=o}}var xn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+xn,Xt="__reactProps$"+xn,no="__reactContainer$"+xn,As="__reactEvents$"+xn,Wg="__reactListeners$"+xn,jg="__reactHandles$"+xn,vc="__reactResources$"+xn,Wo="__reactMarker$"+xn;function xs(e){delete e[Nt],delete e[Xt],delete e[As],delete e[Wg],delete e[jg]}function io(e){var n=e[Nt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[no]||o[Nt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Vp(e);e!==null;){if(o=e[Nt])return o;e=Vp(e)}return n}e=o,o=e.parentNode}return null}function oo(e){if(e=e[Nt]||e[no]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function jo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function lo(e){var n=e[vc];return n||(n=e[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function It(e){e[Wo]=!0}var Sc=new Set,Tc={};function Li(e,n){ao(e,n),ao(e+"Capture",n)}function ao(e,n){for(Tc[e]=n,e=0;e<n.length;e++)Sc.add(n[e])}var ey=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ec={},_c={};function ty(e){return vt.call(_c,e)?!0:vt.call(Ec,e)?!1:ey.test(e)?_c[e]=!0:(Ec[e]=!0,!1)}function Jl(e,n,o){if(ty(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Xl(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function kn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ny(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,h.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ns(e){if(!e._valueTracker){var n=Cc(e)?"checked":"value";e._valueTracker=ny(e,n,""+e[n])}}function Ac(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=Cc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function Kl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var iy=/[\n"\\]/g;function pn(e){return e.replace(iy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Rs(e,n,o,s,d,h,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+dn(n)):e.value!==""+dn(n)&&(e.value=""+dn(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?Ms(e,S,dn(n)):o!=null?Ms(e,S,dn(o)):s!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+dn(_):e.removeAttribute("name")}function xc(e,n,o,s,d,h,S,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Ns(e);return}o=o!=null?""+dn(o):"",n=n!=null?""+dn(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Ns(e)}function Ms(e,n,o){n==="number"&&Kl(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function so(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+dn(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Nc(e,n,o){if(n!=null&&(n=""+dn(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+dn(o):""}function Rc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(ft(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=dn(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),Ns(e)}function ro(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var oy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||oy.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function bc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&Mc(e,d,s)}else for(var h in n)n.hasOwnProperty(h)&&Mc(e,h,n[h])}function bs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ay=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ql(e){return ay.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Is=null;function ws(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uo=null,co=null;function Ic(e){var n=oo(e);if(n&&(e=n.stateNode)){var o=e[Xt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Rs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[Xt]||null;if(!d)throw Error(a(90));Rs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&Ac(s)}break e;case"textarea":Nc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&so(e,!!o.multiple,n,!1)}}}var Ds=!1;function wc(e,n,o){if(Ds)return e(n,o);Ds=!0;try{var s=e(n);return s}finally{if(Ds=!1,(uo!==null||co!==null)&&(ka(),uo&&(n=uo,e=co,co=uo=null,Ic(n),e)))for(n=0;n<e.length;n++)Ic(e[n])}}function el(e,n){var o=e.stateNode;if(o===null)return null;var s=o[Xt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Us=!1;if(Pn)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Us=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Us=!1}var si=null,Ls=null,Zl=null;function Dc(){if(Zl)return Zl;var e,n=Ls,o=n.length,s,d="value"in si?si.value:si.textContent,h=d.length;for(e=0;e<o&&n[e]===d[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===d[h-s];s++);return Zl=d.slice(e,1<s?1-s:void 0)}function $l(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Wl(){return!0}function Uc(){return!1}function Kt(e){function n(o,s,d,h,S){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Wl:Uc,this.isPropagationStopped=Uc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Kt(Gi),nl=T({},Gi,{view:0,detail:0}),sy=Kt(nl),Gs,ks,il,ea=T({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==il&&(il&&e.type==="mousemove"?(Gs=e.screenX-il.screenX,ks=e.screenY-il.screenY):ks=Gs=0,il=e),Gs)},movementY:function(e){return"movementY"in e?e.movementY:ks}}),Lc=Kt(ea),ry=T({},ea,{dataTransfer:0}),uy=Kt(ry),cy=T({},nl,{relatedTarget:0}),Hs=Kt(cy),fy=T({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),dy=Kt(fy),py=T({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hy=Kt(py),my=T({},Gi,{data:0}),Gc=Kt(my),gy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vy[e])?!!n[e]:!1}function Ps(){return Sy}var Ty=T({},nl,{key:function(e){if(e.key){var n=gy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=$l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(e){return e.type==="keypress"?$l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ey=Kt(Ty),_y=T({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=Kt(_y),Cy=T({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Ay=Kt(Cy),xy=T({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ny=Kt(xy),Ry=T({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),My=Kt(Ry),by=T({},Gi,{newState:0,oldState:0}),Iy=Kt(by),wy=[9,13,27,32],qs=Pn&&"CompositionEvent"in window,ol=null;Pn&&"documentMode"in document&&(ol=document.documentMode);var Dy=Pn&&"TextEvent"in window&&!ol,Hc=Pn&&(!qs||ol&&8<ol&&11>=ol),Pc=" ",qc=!1;function Vc(e,n){switch(e){case"keyup":return wy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fo=!1;function Uy(e,n){switch(e){case"compositionend":return zc(n);case"keypress":return n.which!==32?null:(qc=!0,Pc);case"textInput":return e=n.data,e===Pc&&qc?null:e;default:return null}}function Ly(e,n){if(fo)return e==="compositionend"||!qs&&Vc(e,n)?(e=Dc(),Zl=Ls=si=null,fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hc&&n.locale!=="ko"?null:n.data;default:return null}}var Gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Gy[e.type]:n==="textarea"}function Oc(e,n,o,s){uo?co?co.push(s):co=[s]:uo=s,n=Oa(n,"onChange"),0<n.length&&(o=new jl("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var ll=null,al=null;function ky(e){Np(e,0)}function ta(e){var n=jo(e);if(Ac(n))return e}function Yc(e,n){if(e==="change")return n}var Fc=!1;if(Pn){var Vs;if(Pn){var zs="oninput"in document;if(!zs){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),zs=typeof Jc.oninput=="function"}Vs=zs}else Vs=!1;Fc=Vs&&(!document.documentMode||9<document.documentMode)}function Xc(){ll&&(ll.detachEvent("onpropertychange",Kc),al=ll=null)}function Kc(e){if(e.propertyName==="value"&&ta(al)){var n=[];Oc(n,al,e,ws(e)),wc(ky,n)}}function Hy(e,n,o){e==="focusin"?(Xc(),ll=n,al=o,ll.attachEvent("onpropertychange",Kc)):e==="focusout"&&Xc()}function Py(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ta(al)}function qy(e,n){if(e==="click")return ta(n)}function Vy(e,n){if(e==="input"||e==="change")return ta(n)}function zy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var nn=typeof Object.is=="function"?Object.is:zy;function sl(e,n){if(nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!vt.call(n,d)||!nn(e[d],n[d]))return!1}return!0}function Qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zc(e,n){var o=Qc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Qc(o)}}function $c(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?$c(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Wc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Kl(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Kl(e.document)}return n}function Bs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var By=Pn&&"documentMode"in document&&11>=document.documentMode,po=null,Os=null,rl=null,Ys=!1;function jc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ys||po==null||po!==Kl(s)||(s=po,"selectionStart"in s&&Bs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),rl&&sl(rl,s)||(rl=s,s=Oa(Os,"onSelect"),0<s.length&&(n=new jl("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=po)))}function ki(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var ho={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},Fs={},ef={};Pn&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function Hi(e){if(Fs[e])return Fs[e];if(!ho[e])return e;var n=ho[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in ef)return Fs[e]=n[o];return e}var tf=Hi("animationend"),nf=Hi("animationiteration"),of=Hi("animationstart"),Oy=Hi("transitionrun"),Yy=Hi("transitionstart"),Fy=Hi("transitioncancel"),lf=Hi("transitionend"),af=new Map,Js="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Js.push("scrollEnd");function Nn(e,n){af.set(e,n),Li(n,[e])}var na=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hn=[],mo=0,Xs=0;function ia(){for(var e=mo,n=Xs=mo=0;n<e;){var o=hn[n];hn[n++]=null;var s=hn[n];hn[n++]=null;var d=hn[n];hn[n++]=null;var h=hn[n];if(hn[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}h!==0&&sf(o,d,h)}}function oa(e,n,o,s){hn[mo++]=e,hn[mo++]=n,hn[mo++]=o,hn[mo++]=s,Xs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ks(e,n,o,s){return oa(e,n,o,s),la(e)}function Pi(e,n){return oa(e,null,null,n),la(e)}function sf(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,h=e.return;h!==null;)h.childLanes|=o,s=h.alternate,s!==null&&(s.childLanes|=o),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-Ce(o),e=h.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),h):null}function la(e){if(50<Il)throw Il=0,iu=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var go={};function Jy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,n,o,s){return new Jy(e,n,o,s)}function Qs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qn(e,n){var o=e.alternate;return o===null?(o=on(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function rf(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function aa(e,n,o,s,d,h){var S=0;if(s=e,typeof e=="function")Qs(e)&&(S=1);else if(typeof e=="string")S=$0(e,o,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=on(31,o,n,d),e.elementType=Z,e.lanes=h,e;case b:return qi(o.children,d,h,n);case w:S=8,d|=24;break;case V:return e=on(12,o,n,d|2),e.elementType=V,e.lanes=h,e;case ne:return e=on(13,o,n,d),e.elementType=ne,e.lanes=h,e;case oe:return e=on(19,o,n,d),e.elementType=oe,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:S=10;break e;case W:S=9;break e;case X:S=11;break e;case Y:S=14;break e;case ye:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=on(S,o,n,d),n.elementType=e,n.type=s,n.lanes=h,n}function qi(e,n,o,s){return e=on(7,e,s,n),e.lanes=o,e}function Zs(e,n,o){return e=on(6,e,null,n),e.lanes=o,e}function uf(e){var n=on(18,null,null,0);return n.stateNode=e,n}function $s(e,n,o){return n=on(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var cf=new WeakMap;function mn(e,n){if(typeof e=="object"&&e!==null){var o=cf.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Yt(n)},cf.set(e,n),n)}return{value:e,source:n,stack:Yt(n)}}var yo=[],vo=0,sa=null,ul=0,gn=[],yn=0,ri=null,Dn=1,Un="";function Vn(e,n){yo[vo++]=ul,yo[vo++]=sa,sa=e,ul=n}function ff(e,n,o){gn[yn++]=Dn,gn[yn++]=Un,gn[yn++]=ri,ri=e;var s=Dn;e=Un;var d=32-Ce(s)-1;s&=~(1<<d),o+=1;var h=32-Ce(n)+d;if(30<h){var S=d-d%5;h=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Dn=1<<32-Ce(n)+d|o<<d|s,Un=h+e}else Dn=1<<h|o<<d|s,Un=e}function Ws(e){e.return!==null&&(Vn(e,1),ff(e,1,0))}function js(e){for(;e===sa;)sa=yo[--vo],yo[vo]=null,ul=yo[--vo],yo[vo]=null;for(;e===ri;)ri=gn[--yn],gn[yn]=null,Un=gn[--yn],gn[yn]=null,Dn=gn[--yn],gn[yn]=null}function df(e,n){gn[yn++]=Dn,gn[yn++]=Un,gn[yn++]=ri,Dn=n.id,Un=n.overflow,ri=e}var Ut=null,at=null,Pe=!1,ui=null,vn=!1,er=Error(a(519));function ci(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(mn(n,e)),er}function pf(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[Nt]=e,n[Xt]=s,o){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(o=0;o<Dl.length;o++)De(Dl[o],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),xc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),Rc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||Ip(n.textContent,o)?(s.popover!=null&&(De("beforetoggle",n),De("toggle",n)),s.onScroll!=null&&De("scroll",n),s.onScrollEnd!=null&&De("scrollend",n),s.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||ci(e,!0)}function hf(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Ut=Ut.return}}function So(e){if(e!==Ut)return!1;if(!Pe)return hf(e),Pe=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||vu(e.type,e.memoizedProps)),o=!o),o&&at&&ci(e),hf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));at=qp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));at=qp(e)}else n===27?(n=at,Ai(e.type)?(e=Cu,Cu=null,at=e):at=n):at=Ut?Tn(e.stateNode.nextSibling):null;return!0}function Vi(){at=Ut=null,Pe=!1}function tr(){var e=ui;return e!==null&&(Wt===null?Wt=e:Wt.push.apply(Wt,e),ui=null),e}function cl(e){ui===null?ui=[e]:ui.push(e)}var nr=x(null),zi=null,zn=null;function fi(e,n,o){F(nr,n._currentValue),n._currentValue=o}function Bn(e){e._currentValue=nr.current,k(nr)}function ir(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function or(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var S=d.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=d;for(var N=0;N<n.length;N++)if(_.context===n[N]){h.lanes|=o,_=h.alternate,_!==null&&(_.lanes|=o),ir(h.return,o,e),s||(S=null);break e}h=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,h=S.alternate,h!==null&&(h.lanes|=o),ir(S,o,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function To(e,n,o,s){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;nn(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===ae.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Hl):e=[Hl])}d=d.return}e!==null&&or(n,e,o,s),n.flags|=262144}function ra(e){for(e=e.firstContext;e!==null;){if(!nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){zi=e,zn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Lt(e){return mf(zi,e)}function ua(e,n){return zi===null&&Bi(e),mf(e,n)}function mf(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},zn===null){if(e===null)throw Error(a(308));zn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zn=zn.next=n;return o}var Xy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Ky=i.unstable_scheduleCallback,Qy=i.unstable_NormalPriority,Et={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lr(){return{controller:new Xy,data:new Map,refCount:0}}function fl(e){e.refCount--,e.refCount===0&&Ky(Qy,function(){e.controller.abort()})}var dl=null,ar=0,Eo=0,_o=null;function Zy(e,n){if(dl===null){var o=dl=[];ar=0,Eo=uu(),_o={status:"pending",value:void 0,then:function(s){o.push(s)}}}return ar++,n.then(gf,gf),n}function gf(){if(--ar===0&&dl!==null){_o!==null&&(_o.status="fulfilled");var e=dl;dl=null,Eo=0,_o=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $y(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var yf=G.S;G.S=function(e,n){ep=Ue(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Zy(e,n),yf!==null&&yf(e,n)};var Oi=x(null);function sr(){var e=Oi.current;return e!==null?e:tt.pooledCache}function ca(e,n){n===null?F(Oi,Oi.current):F(Oi,n.pool)}function vf(){var e=sr();return e===null?null:{parent:Et._currentValue,pool:e}}var Co=Error(a(460)),rr=Error(a(474)),fa=Error(a(542)),da={then:function(){}};function Sf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tf(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Hn,Hn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_f(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=tt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_f(e),e}throw Fi=n,Co}}function Yi(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Fi=o,Co):o}}var Fi=null;function Ef(){if(Fi===null)throw Error(a(459));var e=Fi;return Fi=null,e}function _f(e){if(e===Co||e===fa)throw Error(a(483))}var Ao=null,pl=0;function pa(e){var n=pl;return pl+=1,Ao===null&&(Ao=[]),Tf(Ao,e,n)}function hl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ha(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cf(e){function n(I,R){if(e){var D=I.deletions;D===null?(I.deletions=[R],I.flags|=16):D.push(R)}}function o(I,R){if(!e)return null;for(;R!==null;)n(I,R),R=R.sibling;return null}function s(I){for(var R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function d(I,R){return I=qn(I,R),I.index=0,I.sibling=null,I}function h(I,R,D){return I.index=D,e?(D=I.alternate,D!==null?(D=D.index,D<R?(I.flags|=67108866,R):D):(I.flags|=67108866,R)):(I.flags|=1048576,R)}function S(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function _(I,R,D,q){return R===null||R.tag!==6?(R=Zs(D,I.mode,q),R.return=I,R):(R=d(R,D),R.return=I,R)}function N(I,R,D,q){var de=D.type;return de===b?P(I,R,D.props.children,q,D.key):R!==null&&(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ye&&Yi(de)===R.type)?(R=d(R,D.props),hl(R,D),R.return=I,R):(R=aa(D.type,D.key,D.props,null,I.mode,q),hl(R,D),R.return=I,R)}function U(I,R,D,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=$s(D,I.mode,q),R.return=I,R):(R=d(R,D.children||[]),R.return=I,R)}function P(I,R,D,q,de){return R===null||R.tag!==7?(R=qi(D,I.mode,q,de),R.return=I,R):(R=d(R,D),R.return=I,R)}function B(I,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Zs(""+R,I.mode,D),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case A:return D=aa(R.type,R.key,R.props,null,I.mode,D),hl(D,R),D.return=I,D;case M:return R=$s(R,I.mode,D),R.return=I,R;case ye:return R=Yi(R),B(I,R,D)}if(ft(R)||Se(R))return R=qi(R,I.mode,D,null),R.return=I,R;if(typeof R.then=="function")return B(I,pa(R),D);if(R.$$typeof===O)return B(I,ua(I,R),D);ha(I,R)}return null}function L(I,R,D,q){var de=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return de!==null?null:_(I,R,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case A:return D.key===de?N(I,R,D,q):null;case M:return D.key===de?U(I,R,D,q):null;case ye:return D=Yi(D),L(I,R,D,q)}if(ft(D)||Se(D))return de!==null?null:P(I,R,D,q,null);if(typeof D.then=="function")return L(I,R,pa(D),q);if(D.$$typeof===O)return L(I,R,ua(I,D),q);ha(I,D)}return null}function H(I,R,D,q,de){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return I=I.get(D)||null,_(R,I,""+q,de);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return I=I.get(q.key===null?D:q.key)||null,N(R,I,q,de);case M:return I=I.get(q.key===null?D:q.key)||null,U(R,I,q,de);case ye:return q=Yi(q),H(I,R,D,q,de)}if(ft(q)||Se(q))return I=I.get(D)||null,P(R,I,q,de,null);if(typeof q.then=="function")return H(I,R,D,pa(q),de);if(q.$$typeof===O)return H(I,R,D,ua(R,q),de);ha(R,q)}return null}function le(I,R,D,q){for(var de=null,Be=null,ue=R,xe=R=0,ke=null;ue!==null&&xe<D.length;xe++){ue.index>xe?(ke=ue,ue=null):ke=ue.sibling;var Oe=L(I,ue,D[xe],q);if(Oe===null){ue===null&&(ue=ke);break}e&&ue&&Oe.alternate===null&&n(I,ue),R=h(Oe,R,xe),Be===null?de=Oe:Be.sibling=Oe,Be=Oe,ue=ke}if(xe===D.length)return o(I,ue),Pe&&Vn(I,xe),de;if(ue===null){for(;xe<D.length;xe++)ue=B(I,D[xe],q),ue!==null&&(R=h(ue,R,xe),Be===null?de=ue:Be.sibling=ue,Be=ue);return Pe&&Vn(I,xe),de}for(ue=s(ue);xe<D.length;xe++)ke=H(ue,I,xe,D[xe],q),ke!==null&&(e&&ke.alternate!==null&&ue.delete(ke.key===null?xe:ke.key),R=h(ke,R,xe),Be===null?de=ke:Be.sibling=ke,Be=ke);return e&&ue.forEach(function(bi){return n(I,bi)}),Pe&&Vn(I,xe),de}function ge(I,R,D,q){if(D==null)throw Error(a(151));for(var de=null,Be=null,ue=R,xe=R=0,ke=null,Oe=D.next();ue!==null&&!Oe.done;xe++,Oe=D.next()){ue.index>xe?(ke=ue,ue=null):ke=ue.sibling;var bi=L(I,ue,Oe.value,q);if(bi===null){ue===null&&(ue=ke);break}e&&ue&&bi.alternate===null&&n(I,ue),R=h(bi,R,xe),Be===null?de=bi:Be.sibling=bi,Be=bi,ue=ke}if(Oe.done)return o(I,ue),Pe&&Vn(I,xe),de;if(ue===null){for(;!Oe.done;xe++,Oe=D.next())Oe=B(I,Oe.value,q),Oe!==null&&(R=h(Oe,R,xe),Be===null?de=Oe:Be.sibling=Oe,Be=Oe);return Pe&&Vn(I,xe),de}for(ue=s(ue);!Oe.done;xe++,Oe=D.next())Oe=H(ue,I,xe,Oe.value,q),Oe!==null&&(e&&Oe.alternate!==null&&ue.delete(Oe.key===null?xe:Oe.key),R=h(Oe,R,xe),Be===null?de=Oe:Be.sibling=Oe,Be=Oe);return e&&ue.forEach(function(rv){return n(I,rv)}),Pe&&Vn(I,xe),de}function We(I,R,D,q){if(typeof D=="object"&&D!==null&&D.type===b&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case A:e:{for(var de=D.key;R!==null;){if(R.key===de){if(de=D.type,de===b){if(R.tag===7){o(I,R.sibling),q=d(R,D.props.children),q.return=I,I=q;break e}}else if(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ye&&Yi(de)===R.type){o(I,R.sibling),q=d(R,D.props),hl(q,D),q.return=I,I=q;break e}o(I,R);break}else n(I,R);R=R.sibling}D.type===b?(q=qi(D.props.children,I.mode,q,D.key),q.return=I,I=q):(q=aa(D.type,D.key,D.props,null,I.mode,q),hl(q,D),q.return=I,I=q)}return S(I);case M:e:{for(de=D.key;R!==null;){if(R.key===de)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){o(I,R.sibling),q=d(R,D.children||[]),q.return=I,I=q;break e}else{o(I,R);break}else n(I,R);R=R.sibling}q=$s(D,I.mode,q),q.return=I,I=q}return S(I);case ye:return D=Yi(D),We(I,R,D,q)}if(ft(D))return le(I,R,D,q);if(Se(D)){if(de=Se(D),typeof de!="function")throw Error(a(150));return D=de.call(D),ge(I,R,D,q)}if(typeof D.then=="function")return We(I,R,pa(D),q);if(D.$$typeof===O)return We(I,R,ua(I,D),q);ha(I,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(o(I,R.sibling),q=d(R,D),q.return=I,I=q):(o(I,R),q=Zs(D,I.mode,q),q.return=I,I=q),S(I)):o(I,R)}return function(I,R,D,q){try{pl=0;var de=We(I,R,D,q);return Ao=null,de}catch(ue){if(ue===Co||ue===fa)throw ue;var Be=on(29,ue,null,I.mode);return Be.lanes=q,Be.return=I,Be}finally{}}}var Ji=Cf(!0),Af=Cf(!1),di=!1;function ur(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hi(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Fe&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=la(e),sf(e,null,o),n}return oa(e,s,n,o),la(e)}function ml(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Vt(e,o)}}function fr(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=S:h=h.next=S,o=o.next}while(o!==null);h===null?d=h=n:h=h.next=n}else d=h=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var dr=!1;function gl(){if(dr){var e=_o;if(e!==null)throw e}}function yl(e,n,o,s){dr=!1;var d=e.updateQueue;di=!1;var h=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var N=_,U=N.next;N.next=null,S===null?h=U:S.next=U,S=N;var P=e.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==S&&(_===null?P.firstBaseUpdate=U:_.next=U,P.lastBaseUpdate=N))}if(h!==null){var B=d.baseState;S=0,P=U=N=null,_=h;do{var L=_.lane&-536870913,H=L!==_.lane;if(H?(Ge&L)===L:(s&L)===L){L!==0&&L===Eo&&(dr=!0),P!==null&&(P=P.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=e,ge=_;L=n;var We=o;switch(ge.tag){case 1:if(le=ge.payload,typeof le=="function"){B=le.call(We,B,L);break e}B=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ge.payload,L=typeof le=="function"?le.call(We,B,L):le,L==null)break e;B=T({},B,L);break e;case 2:di=!0}}L=_.callback,L!==null&&(e.flags|=64,H&&(e.flags|=8192),H=d.callbacks,H===null?d.callbacks=[L]:H.push(L))}else H={lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(U=P=H,N=B):P=P.next=H,S|=L;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;H=_,_=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);P===null&&(N=B),d.baseState=N,d.firstBaseUpdate=U,d.lastBaseUpdate=P,h===null&&(d.shared.lanes=0),Si|=S,e.lanes=S,e.memoizedState=B}}function xf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Nf(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)xf(o[e],n)}var xo=x(null),ma=x(0);function Rf(e,n){e=$n,F(ma,e),F(xo,n),$n=e|n.baseLanes}function pr(){F(ma,$n),F(xo,xo.current)}function hr(){$n=ma.current,k(xo),k(ma)}var ln=x(null),Sn=null;function mi(e){var n=e.alternate;F(St,St.current&1),F(ln,e),Sn===null&&(n===null||xo.current!==null||n.memoizedState!==null)&&(Sn=e)}function mr(e){F(St,St.current),F(ln,e),Sn===null&&(Sn=e)}function Mf(e){e.tag===22?(F(St,St.current),F(ln,e),Sn===null&&(Sn=e)):gi()}function gi(){F(St,St.current),F(ln,ln.current)}function an(e){k(ln),Sn===e&&(Sn=null),k(St)}var St=x(0);function ga(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Eu(o)||_u(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var On=0,Ae=null,Ze=null,_t=null,ya=!1,No=!1,Xi=!1,va=0,vl=0,Ro=null,Wy=0;function mt(){throw Error(a(321))}function gr(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!nn(e[o],n[o]))return!1;return!0}function yr(e,n,o,s,d,h){return On=h,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?fd:Dr,Xi=!1,h=o(s,d),Xi=!1,No&&(h=If(n,o,s,d)),bf(e),h}function bf(e){G.H=El;var n=Ze!==null&&Ze.next!==null;if(On=0,_t=Ze=Ae=null,ya=!1,vl=0,Ro=null,n)throw Error(a(300));e===null||Ct||(e=e.dependencies,e!==null&&ra(e)&&(Ct=!0))}function If(e,n,o,s){Ae=e;var d=0;do{if(No&&(Ro=null),vl=0,No=!1,25<=d)throw Error(a(301));if(d+=1,_t=Ze=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=dd,h=n(o,s)}while(No);return h}function jy(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Sl(n):n,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(Ae.flags|=1024),n}function vr(){var e=va!==0;return va=0,e}function Sr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Tr(e){if(ya){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ya=!1}On=0,_t=Ze=Ae=null,No=!1,vl=va=0,Ro=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ae.memoizedState=_t=e:_t=_t.next=e,_t}function Tt(){if(Ze===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var n=_t===null?Ae.memoizedState:_t.next;if(n!==null)_t=n,Ze=e;else{if(e===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},_t===null?Ae.memoizedState=_t=e:_t=_t.next=e}return _t}function Sa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(e){var n=vl;return vl+=1,Ro===null&&(Ro=[]),e=Tf(Ro,e,n),n=Ae,(_t===null?n.memoizedState:_t.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?fd:Dr),e}function Ta(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Sl(e);if(e.$$typeof===O)return Lt(e)}throw Error(a(438,String(e)))}function Er(e){var n=null,o=Ae.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=Ae.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Sa(),Ae.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=he;return n.index++,o}function Yn(e,n){return typeof n=="function"?n(e):n}function Ea(e){var n=Tt();return _r(n,Ze,e)}function _r(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,h=s.pending;if(h!==null){if(d!==null){var S=d.next;d.next=h.next,h.next=S}n.baseQueue=d=h,s.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var _=S=null,N=null,U=n,P=!1;do{var B=U.lane&-536870913;if(B!==U.lane?(Ge&B)===B:(On&B)===B){var L=U.revertLane;if(L===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),B===Eo&&(P=!0);else if((On&L)===L){U=U.next,L===Eo&&(P=!0);continue}else B={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(_=N=B,S=h):N=N.next=B,Ae.lanes|=L,Si|=L;B=U.action,Xi&&o(h,B),h=U.hasEagerState?U.eagerState:o(h,B)}else L={lane:B,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(_=N=L,S=h):N=N.next=L,Ae.lanes|=B,Si|=B;U=U.next}while(U!==null&&U!==n);if(N===null?S=h:N.next=_,!nn(h,e.memoizedState)&&(Ct=!0,P&&(o=_o,o!==null)))throw o;e.memoizedState=h,e.baseState=S,e.baseQueue=N,s.lastRenderedState=h}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Cr(e){var n=Tt(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,h=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do h=e(h,S.action),S=S.next;while(S!==d);nn(h,n.memoizedState)||(Ct=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,s]}function wf(e,n,o){var s=Ae,d=Tt(),h=Pe;if(h){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!nn((Ze||d).memoizedState,o);if(S&&(d.memoizedState=o,Ct=!0),d=d.queue,Nr(Lf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||_t!==null&&_t.memoizedState.tag&1){if(s.flags|=2048,Mo(9,{destroy:void 0},Uf.bind(null,s,d,o,n),null),tt===null)throw Error(a(349));h||(On&127)!==0||Df(s,n,o)}return o}function Df(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ae.updateQueue,n===null?(n=Sa(),Ae.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Uf(e,n,o,s){n.value=o,n.getSnapshot=s,Gf(n)&&kf(e)}function Lf(e,n,o){return o(function(){Gf(n)&&kf(e)})}function Gf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!nn(e,o)}catch{return!0}}function kf(e){var n=Pi(e,2);n!==null&&jt(n,e,2)}function Ar(e){var n=zt();if(typeof e=="function"){var o=e;if(e=o(),Xi){Le(!0);try{o()}finally{Le(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},n}function Hf(e,n,o,s){return e.baseState=o,_r(e,Ze,typeof s=="function"?s:Yn)}function e0(e,n,o,s,d){if(Aa(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};G.T!==null?o(!0):h.isTransition=!1,s(h),o=n.pending,o===null?(h.next=n.pending=h,Pf(n,h)):(h.next=o.next,n.pending=o.next=h)}}function Pf(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var h=G.T,S={};G.T=S;try{var _=o(d,s),N=G.S;N!==null&&N(S,_),qf(e,n,_)}catch(U){xr(e,n,U)}finally{h!==null&&S.types!==null&&(h.types=S.types),G.T=h}}else try{h=o(d,s),qf(e,n,h)}catch(U){xr(e,n,U)}}function qf(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Vf(e,n,s)},function(s){return xr(e,n,s)}):Vf(e,n,o)}function Vf(e,n,o){n.status="fulfilled",n.value=o,zf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Pf(e,o)))}function xr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,zf(n),n=n.next;while(n!==s)}e.action=null}function zf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Bf(e,n){return n}function Of(e,n){if(Pe){var o=tt.formState;if(o!==null){e:{var s=Ae;if(Pe){if(at){t:{for(var d=at,h=vn;d.nodeType!==8;){if(!h){d=null;break t}if(d=Tn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){at=Tn(d.nextSibling),s=d.data==="F!";break e}}ci(s)}s=!1}s&&(n=o[0])}}return o=zt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bf,lastRenderedState:n},o.queue=s,o=rd.bind(null,Ae,s),s.dispatch=o,s=Ar(!1),h=wr.bind(null,Ae,!1,s.queue),s=zt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=e0.bind(null,Ae,d,h,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function Yf(e){var n=Tt();return Ff(n,Ze,e)}function Ff(e,n,o){if(n=_r(e,n,Bf)[0],e=Ea(Yn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Sl(n)}catch(S){throw S===Co?fa:S}else s=n;n=Tt();var d=n.queue,h=d.dispatch;return o!==n.memoizedState&&(Ae.flags|=2048,Mo(9,{destroy:void 0},t0.bind(null,d,o),null)),[s,h,e]}function t0(e,n){e.action=n}function Jf(e){var n=Tt(),o=Ze;if(o!==null)return Ff(n,o,e);Tt(),n=n.memoizedState,o=Tt();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Mo(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=Sa(),Ae.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Xf(){return Tt().memoizedState}function _a(e,n,o,s){var d=zt();Ae.flags|=e,d.memoizedState=Mo(1|n,{destroy:void 0},o,s===void 0?null:s)}function Ca(e,n,o,s){var d=Tt();s=s===void 0?null:s;var h=d.memoizedState.inst;Ze!==null&&s!==null&&gr(s,Ze.memoizedState.deps)?d.memoizedState=Mo(n,h,o,s):(Ae.flags|=e,d.memoizedState=Mo(1|n,h,o,s))}function Kf(e,n){_a(8390656,8,e,n)}function Nr(e,n){Ca(2048,8,e,n)}function n0(e){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=Sa(),Ae.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Qf(e){var n=Tt().memoizedState;return n0({ref:n,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Zf(e,n){return Ca(4,2,e,n)}function $f(e,n){return Ca(4,4,e,n)}function Wf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jf(e,n,o){o=o!=null?o.concat([e]):null,Ca(4,4,Wf.bind(null,n,e),o)}function Rr(){}function ed(e,n){var o=Tt();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&gr(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function td(e,n){var o=Tt();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&gr(n,s[1]))return s[0];if(s=e(),Xi){Le(!0);try{e()}finally{Le(!1)}}return o.memoizedState=[s,n],s}function Mr(e,n,o){return o===void 0||(On&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=np(),Ae.lanes|=e,Si|=e,o)}function nd(e,n,o,s){return nn(o,n)?o:xo.current!==null?(e=Mr(e,o,s),nn(e,n)||(Ct=!0),e):(On&42)===0||(On&1073741824)!==0&&(Ge&261930)===0?(Ct=!0,e.memoizedState=o):(e=np(),Ae.lanes|=e,Si|=e,n)}function id(e,n,o,s,d){var h=$.p;$.p=h!==0&&8>h?h:8;var S=G.T,_={};G.T=_,wr(e,!1,n,o);try{var N=d(),U=G.S;if(U!==null&&U(_,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var P=$y(N,s);Tl(e,n,P,un(e))}else Tl(e,n,s,un(e))}catch(B){Tl(e,n,{then:function(){},status:"rejected",reason:B},un())}finally{$.p=h,S!==null&&_.types!==null&&(S.types=_.types),G.T=S}}function i0(){}function br(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=od(e).queue;id(e,d,n,fe,o===null?i0:function(){return ld(e),o(s)})}function od(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:fe},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ld(e){var n=od(e);n.next===null&&(n=e.alternate.memoizedState),Tl(e,n.next.queue,{},un())}function Ir(){return Lt(Hl)}function ad(){return Tt().memoizedState}function sd(){return Tt().memoizedState}function o0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=un();e=pi(o);var s=hi(n,e,o);s!==null&&(jt(s,n,o),ml(s,n,o)),n={cache:lr()},e.payload=n;return}n=n.return}}function l0(e,n,o){var s=un();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Aa(e)?ud(n,o):(o=Ks(e,n,o,s),o!==null&&(jt(o,e,s),cd(o,n,s)))}function rd(e,n,o){var s=un();Tl(e,n,o,s)}function Tl(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Aa(e))ud(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var S=n.lastRenderedState,_=h(S,o);if(d.hasEagerState=!0,d.eagerState=_,nn(_,S))return oa(e,n,d,0),tt===null&&ia(),!1}catch{}finally{}if(o=Ks(e,n,d,s),o!==null)return jt(o,e,s),cd(o,n,s),!0}return!1}function wr(e,n,o,s){if(s={lane:2,revertLane:uu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Aa(e)){if(n)throw Error(a(479))}else n=Ks(e,o,s,2),n!==null&&jt(n,e,2)}function Aa(e){var n=e.alternate;return e===Ae||n!==null&&n===Ae}function ud(e,n){No=ya=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function cd(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Vt(e,o)}}var El={readContext:Lt,use:Ta,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};El.useEffectEvent=mt;var fd={readContext:Lt,use:Ta,useCallback:function(e,n){return zt().memoizedState=[e,n===void 0?null:n],e},useContext:Lt,useEffect:Kf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,_a(4194308,4,Wf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return _a(4194308,4,e,n)},useInsertionEffect:function(e,n){_a(4,2,e,n)},useMemo:function(e,n){var o=zt();n=n===void 0?null:n;var s=e();if(Xi){Le(!0);try{e()}finally{Le(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=zt();if(o!==void 0){var d=o(n);if(Xi){Le(!0);try{o(n)}finally{Le(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=l0.bind(null,Ae,e),[s.memoizedState,e]},useRef:function(e){var n=zt();return e={current:e},n.memoizedState=e},useState:function(e){e=Ar(e);var n=e.queue,o=rd.bind(null,Ae,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Rr,useDeferredValue:function(e,n){var o=zt();return Mr(o,e,n)},useTransition:function(){var e=Ar(!1);return e=id.bind(null,Ae,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=Ae,d=zt();if(Pe){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),tt===null)throw Error(a(349));(Ge&127)!==0||Df(s,n,o)}d.memoizedState=o;var h={value:o,getSnapshot:n};return d.queue=h,Kf(Lf.bind(null,s,h,e),[e]),s.flags|=2048,Mo(9,{destroy:void 0},Uf.bind(null,s,h,o,n),null),o},useId:function(){var e=zt(),n=tt.identifierPrefix;if(Pe){var o=Un,s=Dn;o=(s&~(1<<32-Ce(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=va++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=Wy++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ir,useFormState:Of,useActionState:Of,useOptimistic:function(e){var n=zt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=wr.bind(null,Ae,!0,o),o.dispatch=n,[e,n]},useMemoCache:Er,useCacheRefresh:function(){return zt().memoizedState=o0.bind(null,Ae)},useEffectEvent:function(e){var n=zt(),o={impl:e};return n.memoizedState=o,function(){if((Fe&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Dr={readContext:Lt,use:Ta,useCallback:ed,useContext:Lt,useEffect:Nr,useImperativeHandle:jf,useInsertionEffect:Zf,useLayoutEffect:$f,useMemo:td,useReducer:Ea,useRef:Xf,useState:function(){return Ea(Yn)},useDebugValue:Rr,useDeferredValue:function(e,n){var o=Tt();return nd(o,Ze.memoizedState,e,n)},useTransition:function(){var e=Ea(Yn)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:Sl(e),n]},useSyncExternalStore:wf,useId:ad,useHostTransitionStatus:Ir,useFormState:Yf,useActionState:Yf,useOptimistic:function(e,n){var o=Tt();return Hf(o,Ze,e,n)},useMemoCache:Er,useCacheRefresh:sd};Dr.useEffectEvent=Qf;var dd={readContext:Lt,use:Ta,useCallback:ed,useContext:Lt,useEffect:Nr,useImperativeHandle:jf,useInsertionEffect:Zf,useLayoutEffect:$f,useMemo:td,useReducer:Cr,useRef:Xf,useState:function(){return Cr(Yn)},useDebugValue:Rr,useDeferredValue:function(e,n){var o=Tt();return Ze===null?Mr(o,e,n):nd(o,Ze.memoizedState,e,n)},useTransition:function(){var e=Cr(Yn)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:Sl(e),n]},useSyncExternalStore:wf,useId:ad,useHostTransitionStatus:Ir,useFormState:Jf,useActionState:Jf,useOptimistic:function(e,n){var o=Tt();return Ze!==null?Hf(o,Ze,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Er,useCacheRefresh:sd};dd.useEffectEvent=Qf;function Ur(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:T({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Lr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=un(),d=pi(s);d.payload=n,o!=null&&(d.callback=o),n=hi(e,d,s),n!==null&&(jt(n,e,s),ml(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=un(),d=pi(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=hi(e,d,s),n!==null&&(jt(n,e,s),ml(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=un(),s=pi(o);s.tag=2,n!=null&&(s.callback=n),n=hi(e,s,o),n!==null&&(jt(n,e,o),ml(n,e,o))}};function pd(e,n,o,s,d,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,S):n.prototype&&n.prototype.isPureReactComponent?!sl(o,s)||!sl(d,h):!0}function hd(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&Lr.enqueueReplaceState(n,n.state,null)}function Ki(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=T({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function md(e){na(e)}function gd(e){console.error(e)}function yd(e){na(e)}function xa(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function vd(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gr(e,n,o){return o=pi(o),o.tag=3,o.payload={element:null},o.callback=function(){xa(e,n)},o}function Sd(e){return e=pi(e),e.tag=3,e}function Td(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;e.payload=function(){return d(h)},e.callback=function(){vd(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){vd(n,o,s),typeof d!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function a0(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&To(n,o,d,!0),o=ln.current,o!==null){switch(o.tag){case 31:case 13:return Sn===null?Ha():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===da?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),au(e,s,d)),!1;case 22:return o.flags|=65536,s===da?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),au(e,s,d)),!1}throw Error(a(435,o.tag))}return au(e,s,d),Ha(),!1}if(Pe)return n=ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==er&&(e=Error(a(422),{cause:s}),cl(mn(e,o)))):(s!==er&&(n=Error(a(423),{cause:s}),cl(mn(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=mn(s,o),d=Gr(e.stateNode,s,d),fr(e,d),gt!==4&&(gt=2)),!1;var h=Error(a(520),{cause:s});if(h=mn(h,o),bl===null?bl=[h]:bl.push(h),gt!==4&&(gt=2),n===null)return!0;s=mn(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=Gr(o.stateNode,s,e),fr(o,e),!1;case 1:if(n=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ti===null||!Ti.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Sd(d),Td(d,e,o,s),fr(o,d),!1}o=o.return}while(o!==null);return!1}var kr=Error(a(461)),Ct=!1;function Gt(e,n,o,s){n.child=e===null?Af(n,null,o,s):Ji(n,e.child,o,s)}function Ed(e,n,o,s,d){o=o.render;var h=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return Bi(n),s=yr(e,n,o,S,h,d),_=vr(),e!==null&&!Ct?(Sr(e,n,d),Fn(e,n,d)):(Pe&&_&&Ws(n),n.flags|=1,Gt(e,n,s,d),n.child)}function _d(e,n,o,s,d){if(e===null){var h=o.type;return typeof h=="function"&&!Qs(h)&&h.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=h,Cd(e,n,h,s,d)):(e=aa(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Yr(e,d)){var S=h.memoizedProps;if(o=o.compare,o=o!==null?o:sl,o(S,s)&&e.ref===n.ref)return Fn(e,n,d)}return n.flags|=1,e=qn(h,s),e.ref=n.ref,e.return=n,n.child=e}function Cd(e,n,o,s,d){if(e!==null){var h=e.memoizedProps;if(sl(h,s)&&e.ref===n.ref)if(Ct=!1,n.pendingProps=s=h,Yr(e,d))(e.flags&131072)!==0&&(Ct=!0);else return n.lanes=e.lanes,Fn(e,n,d)}return Hr(e,n,o,s,d)}function Ad(e,n,o,s){var d=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~h}else s=0,n.child=null;return xd(e,n,h,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ca(n,h!==null?h.cachePool:null),h!==null?Rf(n,h):pr(),Mf(n);else return s=n.lanes=536870912,xd(e,n,h!==null?h.baseLanes|o:o,o,s)}else h!==null?(ca(n,h.cachePool),Rf(n,h),gi(),n.memoizedState=null):(e!==null&&ca(n,null),pr(),gi());return Gt(e,n,d,o),n.child}function _l(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function xd(e,n,o,s,d){var h=sr();return h=h===null?null:{parent:Et._currentValue,pool:h},n.memoizedState={baseLanes:o,cachePool:h},e!==null&&ca(n,null),pr(),Mf(n),e!==null&&To(e,n,s,!0),n.childLanes=d,null}function Na(e,n){return n=Ma({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Nd(e,n,o){return Ji(n,e.child,null,o),e=Na(n,n.pendingProps),e.flags|=2,an(n),n.memoizedState=null,e}function s0(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pe){if(s.mode==="hidden")return e=Na(n,s),n.lanes=536870912,_l(null,e);if(mr(n),(e=at)?(e=Pp(e,vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ri!==null?{id:Dn,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},o=uf(e),o.return=n,n.child=o,Ut=n,at=null)):e=null,e===null)throw ci(n);return n.lanes=536870912,null}return Na(n,s)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(mr(n),d)if(n.flags&256)n.flags&=-257,n=Nd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ct||To(e,n,o,!1),d=(o&e.childLanes)!==0,Ct||d){if(s=tt,s!==null&&(S=fn(s,o),S!==0&&S!==h.retryLane))throw h.retryLane=S,Pi(e,S),jt(s,e,S),kr;Ha(),n=Nd(e,n,o)}else e=h.treeContext,at=Tn(S.nextSibling),Ut=n,Pe=!0,ui=null,vn=!1,e!==null&&df(n,e),n=Na(n,s),n.flags|=4096;return n}return e=qn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ra(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Hr(e,n,o,s,d){return Bi(n),o=yr(e,n,o,s,void 0,d),s=vr(),e!==null&&!Ct?(Sr(e,n,d),Fn(e,n,d)):(Pe&&s&&Ws(n),n.flags|=1,Gt(e,n,o,d),n.child)}function Rd(e,n,o,s,d,h){return Bi(n),n.updateQueue=null,o=If(n,s,o,d),bf(e),s=vr(),e!==null&&!Ct?(Sr(e,n,h),Fn(e,n,h)):(Pe&&s&&Ws(n),n.flags|=1,Gt(e,n,o,h),n.child)}function Md(e,n,o,s,d){if(Bi(n),n.stateNode===null){var h=go,S=o.contextType;typeof S=="object"&&S!==null&&(h=Lt(S)),h=new o(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Lr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},ur(n),S=o.contextType,h.context=typeof S=="object"&&S!==null?Lt(S):go,h.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Ur(n,o,S,s),h.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&Lr.enqueueReplaceState(h,h.state,null),yl(n,s,h,d),gl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var _=n.memoizedProps,N=Ki(o,_);h.props=N;var U=h.context,P=o.contextType;S=go,typeof P=="object"&&P!==null&&(S=Lt(P));var B=o.getDerivedStateFromProps;P=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||U!==S)&&hd(n,h,s,S),di=!1;var L=n.memoizedState;h.state=L,yl(n,s,h,d),gl(),U=n.memoizedState,_||L!==U||di?(typeof B=="function"&&(Ur(n,o,B,s),U=n.memoizedState),(N=di||pd(n,o,N,s,L,U,S))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=U),h.props=s,h.state=U,h.context=S,s=N):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,cr(e,n),S=n.memoizedProps,P=Ki(o,S),h.props=P,B=n.pendingProps,L=h.context,U=o.contextType,N=go,typeof U=="object"&&U!==null&&(N=Lt(U)),_=o.getDerivedStateFromProps,(U=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==B||L!==N)&&hd(n,h,s,N),di=!1,L=n.memoizedState,h.state=L,yl(n,s,h,d),gl();var H=n.memoizedState;S!==B||L!==H||di||e!==null&&e.dependencies!==null&&ra(e.dependencies)?(typeof _=="function"&&(Ur(n,o,_,s),H=n.memoizedState),(P=di||pd(n,o,P,s,L,H,N)||e!==null&&e.dependencies!==null&&ra(e.dependencies))?(U||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,H,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,H,N)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=H),h.props=s,h.state=H,h.context=N,s=P):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,Ra(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=Ji(n,e.child,null,d),n.child=Ji(n,null,o,d)):Gt(e,n,o,d),n.memoizedState=h.state,e=n.child):e=Fn(e,n,d),e}function bd(e,n,o,s){return Vi(),n.flags|=256,Gt(e,n,o,s),n.child}var Pr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qr(e){return{baseLanes:e,cachePool:vf()}}function Vr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=rn),e}function Id(e,n,o){var s=n.pendingProps,d=!1,h=(n.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pe){if(d?mi(n):gi(),(e=at)?(e=Pp(e,vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ri!==null?{id:Dn,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},o=uf(e),o.return=n,n.child=o,Ut=n,at=null)):e=null,e===null)throw ci(n);return _u(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(gi(),d=n.mode,_=Ma({mode:"hidden",children:_},d),s=qi(s,d,o,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=qr(o),s.childLanes=Vr(e,S,o),n.memoizedState=Pr,_l(null,s)):(mi(n),zr(n,_))}var N=e.memoizedState;if(N!==null&&(_=N.dehydrated,_!==null)){if(h)n.flags&256?(mi(n),n.flags&=-257,n=Br(e,n,o)):n.memoizedState!==null?(gi(),n.child=e.child,n.flags|=128,n=null):(gi(),_=s.fallback,d=n.mode,s=Ma({mode:"visible",children:s.children},d),_=qi(_,d,o,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,Ji(n,e.child,null,o),s=n.child,s.memoizedState=qr(o),s.childLanes=Vr(e,S,o),n.memoizedState=Pr,n=_l(null,s));else if(mi(n),_u(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var U=S.dgst;S=U,s=Error(a(419)),s.stack="",s.digest=S,cl({value:s,source:null,stack:null}),n=Br(e,n,o)}else if(Ct||To(e,n,o,!1),S=(o&e.childLanes)!==0,Ct||S){if(S=tt,S!==null&&(s=fn(S,o),s!==0&&s!==N.retryLane))throw N.retryLane=s,Pi(e,s),jt(S,e,s),kr;Eu(_)||Ha(),n=Br(e,n,o)}else Eu(_)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,at=Tn(_.nextSibling),Ut=n,Pe=!0,ui=null,vn=!1,e!==null&&df(n,e),n=zr(n,s.children),n.flags|=4096);return n}return d?(gi(),_=s.fallback,d=n.mode,N=e.child,U=N.sibling,s=qn(N,{mode:"hidden",children:s.children}),s.subtreeFlags=N.subtreeFlags&65011712,U!==null?_=qn(U,_):(_=qi(_,d,o,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,_l(null,s),s=n.child,_=e.child.memoizedState,_===null?_=qr(o):(d=_.cachePool,d!==null?(N=Et._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=vf(),_={baseLanes:_.baseLanes|o,cachePool:d}),s.memoizedState=_,s.childLanes=Vr(e,S,o),n.memoizedState=Pr,_l(e.child,s)):(mi(n),o=e.child,e=o.sibling,o=qn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function zr(e,n){return n=Ma({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ma(e,n){return e=on(22,e,null,n),e.lanes=0,e}function Br(e,n,o){return Ji(n,e.child,null,o),e=zr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wd(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),ir(e.return,n,o)}function Or(e,n,o,s,d,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:h}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=d,S.treeForkCount=h)}function Dd(e,n,o){var s=n.pendingProps,d=s.revealOrder,h=s.tail;s=s.children;var S=St.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,F(St,S),Gt(e,n,s,o),s=Pe?ul:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wd(e,o,n);else if(e.tag===19)wd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&ga(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Or(n,!1,d,o,h,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ga(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Or(n,!0,o,null,h,s);break;case"together":Or(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function Fn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Si|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(To(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=qn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=qn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Yr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ra(e)))}function r0(e,n,o){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),fi(n,Et,e.memoizedState.cache),Vi();break;case 27:case 5:Je(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:fi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mr(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(mi(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Id(e,n,o):(mi(n),e=Fn(e,n,o),e!==null?e.sibling:null);mi(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(To(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return Dd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),F(St,St.current),s)break;return null;case 22:return n.lanes=0,Ad(e,n,o,n.pendingProps);case 24:fi(n,Et,e.memoizedState.cache)}return Fn(e,n,o)}function Ud(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ct=!0;else{if(!Yr(e,o)&&(n.flags&128)===0)return Ct=!1,r0(e,n,o);Ct=(e.flags&131072)!==0}else Ct=!1,Pe&&(n.flags&1048576)!==0&&ff(n,ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Yi(n.elementType),n.type=e,typeof e=="function")Qs(e)?(s=Ki(e,s),n.tag=1,n=Md(null,n,e,s,o)):(n.tag=0,n=Hr(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===X){n.tag=11,n=Ed(null,n,e,s,o);break e}else if(d===Y){n.tag=14,n=_d(null,n,e,s,o);break e}}throw n=Ve(e)||e,Error(a(306,n,""))}}return n;case 0:return Hr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=Ki(s,n.pendingProps),Md(e,n,s,d,o);case 3:e:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;d=h.element,cr(e,n),yl(n,s,null,o);var S=n.memoizedState;if(s=S.cache,fi(n,Et,s),s!==h.cache&&or(n,[Et],o,!0),gl(),s=S.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=bd(e,n,s,o);break e}else if(s!==d){d=mn(Error(a(424)),n),cl(d),n=bd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=Tn(e.firstChild),Ut=n,Pe=!0,ui=null,vn=!0,o=Af(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Vi(),s===d){n=Fn(e,n,o);break e}Gt(e,n,s,o)}n=n.child}return n;case 26:return Ra(e,n),e===null?(o=Yp(n.type,null,n.pendingProps,null))?n.memoizedState=o:Pe||(o=n.type,e=n.pendingProps,s=Ya(J.current).createElement(o),s[Nt]=n,s[Xt]=e,kt(s,o,e),It(s),n.stateNode=s):n.memoizedState=Yp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Je(n),e===null&&Pe&&(s=n.stateNode=zp(n.type,n.pendingProps,J.current),Ut=n,vn=!0,d=at,Ai(n.type)?(Cu=d,at=Tn(s.firstChild)):at=d),Gt(e,n,n.pendingProps.children,o),Ra(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pe&&((d=s=at)&&(s=P0(s,n.type,n.pendingProps,vn),s!==null?(n.stateNode=s,Ut=n,at=Tn(s.firstChild),vn=!1,d=!0):d=!1),d||ci(n)),Je(n),d=n.type,h=n.pendingProps,S=e!==null?e.memoizedProps:null,s=h.children,vu(d,h)?s=null:S!==null&&vu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=yr(e,n,jy,null,null,o),Hl._currentValue=d),Ra(e,n),Gt(e,n,s,o),n.child;case 6:return e===null&&Pe&&((e=o=at)&&(o=q0(o,n.pendingProps,vn),o!==null?(n.stateNode=o,Ut=n,at=null,e=!0):e=!1),e||ci(n)),null;case 13:return Id(e,n,o);case 4:return Ne(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Ji(n,null,s,o):Gt(e,n,s,o),n.child;case 11:return Ed(e,n,n.type,n.pendingProps,o);case 7:return Gt(e,n,n.pendingProps,o),n.child;case 8:return Gt(e,n,n.pendingProps.children,o),n.child;case 12:return Gt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,fi(n,n.type,s.value),Gt(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,Bi(n),d=Lt(d),s=s(d),n.flags|=1,Gt(e,n,s,o),n.child;case 14:return _d(e,n,n.type,n.pendingProps,o);case 15:return Cd(e,n,n.type,n.pendingProps,o);case 19:return Dd(e,n,o);case 31:return s0(e,n,o);case 22:return Ad(e,n,o,n.pendingProps);case 24:return Bi(n),s=Lt(Et),e===null?(d=sr(),d===null&&(d=tt,h=lr(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),n.memoizedState={parent:s,cache:d},ur(n),fi(n,Et,d)):((e.lanes&o)!==0&&(cr(e,n),yl(n,null,null,o),gl()),d=e.memoizedState,h=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),fi(n,Et,s)):(s=h.cache,fi(n,Et,s),s!==d.cache&&or(n,[Et],o,!0))),Gt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Jn(e){e.flags|=4}function Fr(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(ap())e.flags|=8192;else throw Fi=da,rr}else e.flags&=-16777217}function Ld(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qp(n))if(ap())e.flags|=8192;else throw Fi=da,rr}function ba(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ot():536870912,e.lanes|=n,Do|=n)}function Cl(e,n){if(!Pe)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function st(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function u0(e,n,o){var s=n.pendingProps;switch(js(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(n),null;case 1:return st(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bn(Et),ve(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(So(n)?Jn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tr())),st(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(Jn(n),h!==null?(st(n),Ld(n,h)):(st(n),Fr(n,d,null,s,o))):h?h!==e.memoizedState?(Jn(n),st(n),Ld(n,h)):(st(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Jn(n),st(n),Fr(n,d,e,s,o)),null;case 27:if(nt(n),o=J.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Jn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return st(n),null}e=Q.current,So(n)?pf(n):(e=zp(d,s,o),n.stateNode=e,Jn(n))}return st(n),null;case 5:if(nt(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Jn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return st(n),null}if(h=Q.current,So(n))pf(n);else{var S=Ya(J.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}h[Nt]=n,h[Xt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=h;e:switch(kt(h,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Jn(n)}}return st(n),Fr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Jn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=J.current,So(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=Ut,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[Nt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Ip(e.nodeValue,o)),e||ci(n,!0)}else e=Ya(e).createTextNode(s),e[Nt]=n,n.stateNode=e}return st(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=So(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Nt]=n}else Vi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),e=!1}else o=tr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(an(n),n):(an(n),null);if((n.flags&128)!==0)throw Error(a(558))}return st(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=So(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Nt]=n}else Vi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;st(n),d=!1}else d=tr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(an(n),n):(an(n),null)}return an(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),ba(n,n.updateQueue),st(n),null);case 4:return ve(),e===null&&pu(n.stateNode.containerInfo),st(n),null;case 10:return Bn(n.type),st(n),null;case 19:if(k(St),s=n.memoizedState,s===null)return st(n),null;if(d=(n.flags&128)!==0,h=s.rendering,h===null)if(d)Cl(s,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=ga(e),h!==null){for(n.flags|=128,Cl(s,!1),e=h.updateQueue,n.updateQueue=e,ba(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)rf(o,e),o=o.sibling;return F(St,St.current&1|2),Pe&&Vn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&Ue()>La&&(n.flags|=128,d=!0,Cl(s,!1),n.lanes=4194304)}else{if(!d)if(e=ga(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,ba(n,e),Cl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Pe)return st(n),null}else 2*Ue()-s.renderingStartTime>La&&o!==536870912&&(n.flags|=128,d=!0,Cl(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,o=St.current,F(St,d?o&1|2:o&1),Pe&&Vn(n,s.treeForkCount),e):(st(n),null);case 22:case 23:return an(n),hr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(st(n),n.subtreeFlags&6&&(n.flags|=8192)):st(n),o=n.updateQueue,o!==null&&ba(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&k(Oi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bn(Et),st(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function c0(e,n){switch(js(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bn(Et),ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return nt(n),null;case 31:if(n.memoizedState!==null){if(an(n),n.alternate===null)throw Error(a(340));Vi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(an(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k(St),null;case 4:return ve(),null;case 10:return Bn(n.type),null;case 22:case 23:return an(n),hr(),e!==null&&k(Oi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bn(Et),null;case 25:return null;default:return null}}function Gd(e,n){switch(js(n),n.tag){case 3:Bn(Et),ve();break;case 26:case 27:case 5:nt(n);break;case 4:ve();break;case 31:n.memoizedState!==null&&an(n);break;case 13:an(n);break;case 19:k(St);break;case 10:Bn(n.type);break;case 22:case 23:an(n),hr(),e!==null&&k(Oi);break;case 24:Bn(Et)}}function Al(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var h=o.create,S=o.inst;s=h(),S.destroy=s}o=o.next}while(o!==d)}}catch(_){Qe(n,n.return,_)}}function yi(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var N=o,U=_;try{U()}catch(P){Qe(d,N,P)}}}s=s.next}while(s!==h)}}catch(P){Qe(n,n.return,P)}}function kd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Nf(n,o)}catch(s){Qe(e,e.return,s)}}}function Hd(e,n,o){o.props=Ki(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Qe(e,n,s)}}function xl(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){Qe(e,n,d)}}function Ln(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){Qe(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Qe(e,n,d)}else o.current=null}function Pd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){Qe(e,e.return,d)}}function Jr(e,n,o){try{var s=e.stateNode;D0(s,e.type,o,n),s[Xt]=n}catch(d){Qe(e,e.return,d)}}function qd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ai(e.type)||e.tag===4}function Xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Hn));else if(s!==4&&(s===27&&Ai(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Kr(e,n,o),e=e.sibling;e!==null;)Kr(e,n,o),e=e.sibling}function Ia(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Ai(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Ia(e,n,o),e=e.sibling;e!==null;)Ia(e,n,o),e=e.sibling}function Vd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);kt(n,s,o),n[Nt]=e,n[Xt]=o}catch(h){Qe(e,e.return,h)}}var Xn=!1,At=!1,Qr=!1,zd=typeof WeakSet=="function"?WeakSet:Set,wt=null;function f0(e,n){if(e=e.containerInfo,gu=$a,e=Wc(e),Bs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var S=0,_=-1,N=-1,U=0,P=0,B=e,L=null;t:for(;;){for(var H;B!==o||d!==0&&B.nodeType!==3||(_=S+d),B!==h||s!==0&&B.nodeType!==3||(N=S+s),B.nodeType===3&&(S+=B.nodeValue.length),(H=B.firstChild)!==null;)L=B,B=H;for(;;){if(B===e)break t;if(L===o&&++U===d&&(_=S),L===h&&++P===s&&(N=S),(H=B.nextSibling)!==null)break;B=L,L=B.parentNode}B=H}o=_===-1||N===-1?null:{start:_,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(yu={focusedElem:e,selectionRange:o},$a=!1,wt=n;wt!==null;)if(n=wt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,wt=e;else for(;wt!==null;){switch(n=wt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,o=n,d=h.memoizedProps,h=h.memoizedState,s=o.stateNode;try{var le=Ki(o.type,d);e=s.getSnapshotBeforeUpdate(le,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(ge){Qe(o,o.return,ge)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Tu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,wt=e;break}wt=n.return}}function Bd(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:Qn(e,o),s&4&&Al(5,o);break;case 1:if(Qn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){Qe(o,o.return,S)}else{var d=Ki(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Qe(o,o.return,S)}}s&64&&kd(o),s&512&&xl(o,o.return);break;case 3:if(Qn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Nf(e,n)}catch(S){Qe(o,o.return,S)}}break;case 27:n===null&&s&4&&Vd(o);case 26:case 5:Qn(e,o),n===null&&s&4&&Pd(o),s&512&&xl(o,o.return);break;case 12:Qn(e,o);break;case 31:Qn(e,o),s&4&&Fd(e,o);break;case 13:Qn(e,o),s&4&&Jd(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=T0.bind(null,o),V0(e,o))));break;case 22:if(s=o.memoizedState!==null||Xn,!s){n=n!==null&&n.memoizedState!==null||At,d=Xn;var h=At;Xn=s,(At=n)&&!h?Zn(e,o,(o.subtreeFlags&8772)!==0):Qn(e,o),Xn=d,At=h}break;case 30:break;default:Qn(e,o)}}function Od(e){var n=e.alternate;n!==null&&(e.alternate=null,Od(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&xs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Qt=!1;function Kn(e,n,o){for(o=o.child;o!==null;)Yd(e,n,o),o=o.sibling}function Yd(e,n,o){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(ze,o)}catch{}switch(o.tag){case 26:At||Ln(o,n),Kn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:At||Ln(o,n);var s=rt,d=Qt;Ai(o.type)&&(rt=o.stateNode,Qt=!1),Kn(e,n,o),Ll(o.stateNode),rt=s,Qt=d;break;case 5:At||Ln(o,n);case 6:if(s=rt,d=Qt,rt=null,Kn(e,n,o),rt=s,Qt=d,rt!==null)if(Qt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(o.stateNode)}catch(h){Qe(o,n,h)}else try{rt.removeChild(o.stateNode)}catch(h){Qe(o,n,h)}break;case 18:rt!==null&&(Qt?(e=rt,kp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Vo(e)):kp(rt,o.stateNode));break;case 4:s=rt,d=Qt,rt=o.stateNode.containerInfo,Qt=!0,Kn(e,n,o),rt=s,Qt=d;break;case 0:case 11:case 14:case 15:yi(2,o,n),At||yi(4,o,n),Kn(e,n,o);break;case 1:At||(Ln(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Hd(o,n,s)),Kn(e,n,o);break;case 21:Kn(e,n,o);break;case 22:At=(s=At)||o.memoizedState!==null,Kn(e,n,o),At=s;break;default:Kn(e,n,o)}}function Fd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vo(e)}catch(o){Qe(n,n.return,o)}}}function Jd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vo(e)}catch(o){Qe(n,n.return,o)}}function d0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new zd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new zd),n;default:throw Error(a(435,e.tag))}}function wa(e,n){var o=d0(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=E0.bind(null,e,s);s.then(d,d)}})}function Zt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],h=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Ai(_.type)){rt=_.stateNode,Qt=!1;break e}break;case 5:rt=_.stateNode,Qt=!1;break e;case 3:case 4:rt=_.stateNode.containerInfo,Qt=!0;break e}_=_.return}if(rt===null)throw Error(a(160));Yd(h,S,d),rt=null,Qt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xd(n,e),n=n.sibling}var Rn=null;function Xd(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(n,e),$t(e),s&4&&(yi(3,e,e.return),Al(3,e),yi(5,e,e.return));break;case 1:Zt(n,e),$t(e),s&512&&(At||o===null||Ln(o,o.return)),s&64&&Xn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=Rn;if(Zt(n,e),$t(e),s&512&&(At||o===null||Ln(o,o.return)),s&4){var h=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Wo]||h[Nt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),kt(h,s,o),h[Nt]=e,It(h),s=h;break e;case"link":var S=Xp("link","href",d).get(s+(o.href||""));if(S){for(var _=0;_<S.length;_++)if(h=S[_],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(_,1);break t}}h=d.createElement(s),kt(h,s,o),d.head.appendChild(h);break;case"meta":if(S=Xp("meta","content",d).get(s+(o.content||""))){for(_=0;_<S.length;_++)if(h=S[_],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(_,1);break t}}h=d.createElement(s),kt(h,s,o),d.head.appendChild(h);break;default:throw Error(a(468,s))}h[Nt]=e,It(h),s=h}e.stateNode=s}else Kp(d,e.type,e.stateNode);else e.stateNode=Jp(d,s,e.memoizedProps);else h!==s?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,s===null?Kp(d,e.type,e.stateNode):Jp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Jr(e,e.memoizedProps,o.memoizedProps)}break;case 27:Zt(n,e),$t(e),s&512&&(At||o===null||Ln(o,o.return)),o!==null&&s&4&&Jr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Zt(n,e),$t(e),s&512&&(At||o===null||Ln(o,o.return)),e.flags&32){d=e.stateNode;try{ro(d,"")}catch(le){Qe(e,e.return,le)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Jr(e,d,o!==null?o.memoizedProps:d)),s&1024&&(Qr=!0);break;case 6:if(Zt(n,e),$t(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(le){Qe(e,e.return,le)}}break;case 3:if(Xa=null,d=Rn,Rn=Fa(n.containerInfo),Zt(n,e),Rn=d,$t(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Vo(n.containerInfo)}catch(le){Qe(e,e.return,le)}Qr&&(Qr=!1,Kd(e));break;case 4:s=Rn,Rn=Fa(e.stateNode.containerInfo),Zt(n,e),$t(e),Rn=s;break;case 12:Zt(n,e),$t(e);break;case 31:Zt(n,e),$t(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wa(e,s)));break;case 13:Zt(n,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ua=Ue()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wa(e,s)));break;case 22:d=e.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,U=Xn,P=At;if(Xn=U||d,At=P||N,Zt(n,e),At=P,Xn=U,$t(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||N||Xn||At||Qi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){N=o=n;try{if(h=N.stateNode,d)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=N.stateNode;var B=N.memoizedProps.style,L=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(le){Qe(N,N.return,le)}}}else if(n.tag===6){if(o===null){N=n;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(le){Qe(N,N.return,le)}}}else if(n.tag===18){if(o===null){N=n;try{var H=N.stateNode;d?Hp(H,!0):Hp(N.stateNode,!1)}catch(le){Qe(N,N.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,wa(e,o))));break;case 19:Zt(n,e),$t(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wa(e,s)));break;case 30:break;case 21:break;default:Zt(n,e),$t(e)}}function $t(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(qd(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,h=Xr(e);Ia(e,h,d);break;case 5:var S=o.stateNode;o.flags&32&&(ro(S,""),o.flags&=-33);var _=Xr(e);Ia(e,_,S);break;case 3:case 4:var N=o.stateNode.containerInfo,U=Xr(e);Kr(e,U,N);break;default:throw Error(a(161))}}catch(P){Qe(e,e.return,P)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Kd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Kd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bd(e,n.alternate,n),n=n.sibling}function Qi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:yi(4,n,n.return),Qi(n);break;case 1:Ln(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Hd(n,n.return,o),Qi(n);break;case 27:Ll(n.stateNode);case 26:case 5:Ln(n,n.return),Qi(n);break;case 22:n.memoizedState===null&&Qi(n);break;case 30:Qi(n);break;default:Qi(n)}e=e.sibling}}function Zn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,h=n,S=h.flags;switch(h.tag){case 0:case 11:case 15:Zn(d,h,o),Al(4,h);break;case 1:if(Zn(d,h,o),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){Qe(s,s.return,U)}if(s=h,d=s.updateQueue,d!==null){var _=s.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)xf(N[d],_)}catch(U){Qe(s,s.return,U)}}o&&S&64&&kd(h),xl(h,h.return);break;case 27:Vd(h);case 26:case 5:Zn(d,h,o),o&&s===null&&S&4&&Pd(h),xl(h,h.return);break;case 12:Zn(d,h,o);break;case 31:Zn(d,h,o),o&&S&4&&Fd(d,h);break;case 13:Zn(d,h,o),o&&S&4&&Jd(d,h);break;case 22:h.memoizedState===null&&Zn(d,h,o),xl(h,h.return);break;case 30:break;default:Zn(d,h,o)}n=n.sibling}}function Zr(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&fl(o))}function $r(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&fl(e))}function Mn(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qd(e,n,o,s),n=n.sibling}function Qd(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Mn(e,n,o,s),d&2048&&Al(9,n);break;case 1:Mn(e,n,o,s);break;case 3:Mn(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&fl(e)));break;case 12:if(d&2048){Mn(e,n,o,s),e=n.stateNode;try{var h=n.memoizedProps,S=h.id,_=h.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Qe(n,n.return,N)}}else Mn(e,n,o,s);break;case 31:Mn(e,n,o,s);break;case 13:Mn(e,n,o,s);break;case 23:break;case 22:h=n.stateNode,S=n.alternate,n.memoizedState!==null?h._visibility&2?Mn(e,n,o,s):Nl(e,n):h._visibility&2?Mn(e,n,o,s):(h._visibility|=2,bo(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Zr(S,n);break;case 24:Mn(e,n,o,s),d&2048&&$r(n.alternate,n);break;default:Mn(e,n,o,s)}}function bo(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,S=n,_=o,N=s,U=S.flags;switch(S.tag){case 0:case 11:case 15:bo(h,S,_,N,d),Al(8,S);break;case 23:break;case 22:var P=S.stateNode;S.memoizedState!==null?P._visibility&2?bo(h,S,_,N,d):Nl(h,S):(P._visibility|=2,bo(h,S,_,N,d)),d&&U&2048&&Zr(S.alternate,S);break;case 24:bo(h,S,_,N,d),d&&U&2048&&$r(S.alternate,S);break;default:bo(h,S,_,N,d)}n=n.sibling}}function Nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:Nl(o,s),d&2048&&Zr(s.alternate,s);break;case 24:Nl(o,s),d&2048&&$r(s.alternate,s);break;default:Nl(o,s)}n=n.sibling}}var Rl=8192;function Io(e,n,o){if(e.subtreeFlags&Rl)for(e=e.child;e!==null;)Zd(e,n,o),e=e.sibling}function Zd(e,n,o){switch(e.tag){case 26:Io(e,n,o),e.flags&Rl&&e.memoizedState!==null&&W0(o,Rn,e.memoizedState,e.memoizedProps);break;case 5:Io(e,n,o);break;case 3:case 4:var s=Rn;Rn=Fa(e.stateNode.containerInfo),Io(e,n,o),Rn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Rl,Rl=16777216,Io(e,n,o),Rl=s):Io(e,n,o));break;default:Io(e,n,o)}}function $d(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ml(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];wt=s,jd(s,e)}$d(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wd(e),e=e.sibling}function Wd(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&yi(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Da(e)):Ml(e);break;default:Ml(e)}}function Da(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];wt=s,jd(s,e)}$d(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:yi(8,n,n.return),Da(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Da(n));break;default:Da(n)}e=e.sibling}}function jd(e,n){for(;wt!==null;){var o=wt;switch(o.tag){case 0:case 11:case 15:yi(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:fl(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,wt=s;else e:for(o=e;wt!==null;){s=wt;var d=s.sibling,h=s.return;if(Od(s),s===o){wt=null;break e}if(d!==null){d.return=h,wt=d;break e}wt=h}}}var p0={getCacheForType:function(e){var n=Lt(Et),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return Lt(Et).controller.signal}},h0=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,we=null,Ge=0,Ke=0,sn=null,vi=!1,wo=!1,Wr=!1,$n=0,gt=0,Si=0,Zi=0,jr=0,rn=0,Do=0,bl=null,Wt=null,eu=!1,Ua=0,ep=0,La=1/0,Ga=null,Ti=null,Rt=0,Ei=null,Uo=null,Wn=0,tu=0,nu=null,tp=null,Il=0,iu=null;function un(){return(Fe&2)!==0&&Ge!==0?Ge&-Ge:G.T!==null?uu():ai()}function np(){if(rn===0)if((Ge&536870912)===0||Pe){var e=eo;eo<<=1,(eo&3932160)===0&&(eo=262144),rn=e}else rn=536870912;return e=ln.current,e!==null&&(e.flags|=32),rn}function jt(e,n,o){(e===tt&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(Lo(e,0),_i(e,Ge,rn,!1)),ut(e,o),((Fe&2)===0||e!==tt)&&(e===tt&&((Fe&2)===0&&(Zi|=o),gt===4&&_i(e,Ge,rn,!1)),Gn(e))}function ip(e,n,o){if((Fe&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||it(e,n),d=s?y0(e,n):lu(e,n,!0),h=s;do{if(d===0){wo&&!s&&_i(e,n,0,!1);break}else{if(o=e.current.alternate,h&&!m0(o)){d=lu(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=bl;var N=_.current.memoizedState.isDehydrated;if(N&&(Lo(_,S).flags|=256),S=lu(_,S,!1),S!==2){if(Wr&&!N){_.errorRecoveryDisabledLanes|=h,Zi|=h,d=4;break e}h=Wt,Wt=d,h!==null&&(Wt===null?Wt=h:Wt.push.apply(Wt,h))}d=S}if(h=!1,d!==2)continue}}if(d===1){Lo(e,0),_i(e,n,0,!0);break}e:{switch(s=e,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:_i(s,n,rn,!vi);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Ua+300-Ue(),10<d)){if(_i(s,n,rn,!vi),et(s,0,!0)!==0)break e;Wn=n,s.timeoutHandle=Lp(op.bind(null,s,o,Wt,Ga,eu,n,rn,Zi,Do,vi,h,"Throttled",-0,0),d);break e}op(s,o,Wt,Ga,eu,n,rn,Zi,Do,vi,h,null,-0,0)}}break}while(!0);Gn(e)}function op(e,n,o,s,d,h,S,_,N,U,P,B,L,H){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Zd(n,h,B);var le=(h&62914560)===h?Ua-Ue():(h&4194048)===h?ep-Ue():0;if(le=j0(B,le),le!==null){Wn=h,e.cancelPendingCommit=le(dp.bind(null,e,n,h,o,s,d,S,_,N,P,B,null,L,H)),_i(e,h,S,!U);return}}dp(e,n,h,o,s,d,S,_,N)}function m0(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],h=d.getSnapshot;d=d.value;try{if(!nn(h(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _i(e,n,o,s){n&=~jr,n&=~Zi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var h=31-Ce(d),S=1<<h;s[h]=-1,d&=~S}o!==0&&An(e,o,n)}function ka(){return(Fe&6)===0?(wl(0),!1):!0}function ou(){if(we!==null){if(Ke===0)var e=we.return;else e=we,zn=zi=null,Tr(e),Ao=null,pl=0,e=we;for(;e!==null;)Gd(e.alternate,e),e=e.return;we=null}}function Lo(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,G0(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Wn=0,ou(),tt=e,we=o=qn(e.current,null),Ge=n,Ke=0,sn=null,vi=!1,wo=it(e,n),Wr=!1,Do=rn=jr=Zi=Si=gt=0,Wt=bl=null,eu=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Ce(s),h=1<<d;n|=e[d],s&=~h}return $n=n,ia(),o}function lp(e,n){Ae=null,G.H=El,n===Co||n===fa?(n=Ef(),Ke=3):n===rr?(n=Ef(),Ke=4):Ke=n===kr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sn=n,we===null&&(gt=1,xa(e,mn(n,e.current)))}function ap(){var e=ln.current;return e===null?!0:(Ge&4194048)===Ge?Sn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Sn:!1}function sp(){var e=G.H;return G.H=El,e===null?El:e}function rp(){var e=G.A;return G.A=p0,e}function Ha(){gt=4,vi||(Ge&4194048)!==Ge&&ln.current!==null||(wo=!0),(Si&134217727)===0&&(Zi&134217727)===0||tt===null||_i(tt,Ge,rn,!1)}function lu(e,n,o){var s=Fe;Fe|=2;var d=sp(),h=rp();(tt!==e||Ge!==n)&&(Ga=null,Lo(e,n)),n=!1;var S=gt;e:do try{if(Ke!==0&&we!==null){var _=we,N=sn;switch(Ke){case 8:ou(),S=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(n=!0);var U=Ke;if(Ke=0,sn=null,Go(e,_,N,U),o&&wo){S=0;break e}break;default:U=Ke,Ke=0,sn=null,Go(e,_,N,U)}}g0(),S=gt;break}catch(P){lp(e,P)}while(!0);return n&&e.shellSuspendCounter++,zn=zi=null,Fe=s,G.H=d,G.A=h,we===null&&(tt=null,Ge=0,ia()),S}function g0(){for(;we!==null;)up(we)}function y0(e,n){var o=Fe;Fe|=2;var s=sp(),d=rp();tt!==e||Ge!==n?(Ga=null,La=Ue()+500,Lo(e,n)):wo=it(e,n);e:do try{if(Ke!==0&&we!==null){n=we;var h=sn;t:switch(Ke){case 1:Ke=0,sn=null,Go(e,n,h,1);break;case 2:case 9:if(Sf(h)){Ke=0,sn=null,cp(n);break}n=function(){Ke!==2&&Ke!==9||tt!==e||(Ke=7),Gn(e)},h.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Sf(h)?(Ke=0,sn=null,cp(n)):(Ke=0,sn=null,Go(e,n,h,7));break;case 5:var S=null;switch(we.tag){case 26:S=we.memoizedState;case 5:case 27:var _=we;if(S?Qp(S):_.stateNode.complete){Ke=0,sn=null;var N=_.sibling;if(N!==null)we=N;else{var U=_.return;U!==null?(we=U,Pa(U)):we=null}break t}}Ke=0,sn=null,Go(e,n,h,5);break;case 6:Ke=0,sn=null,Go(e,n,h,6);break;case 8:ou(),gt=6;break e;default:throw Error(a(462))}}v0();break}catch(P){lp(e,P)}while(!0);return zn=zi=null,G.H=s,G.A=d,Fe=o,we!==null?0:(tt=null,Ge=0,ia(),gt)}function v0(){for(;we!==null&&!pt();)up(we)}function up(e){var n=Ud(e.alternate,e,$n);e.memoizedProps=e.pendingProps,n===null?Pa(e):we=n}function cp(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Rd(o,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=Rd(o,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:Tr(n);default:Gd(o,n),n=we=rf(n,$n),n=Ud(o,n,$n)}e.memoizedProps=e.pendingProps,n===null?Pa(e):we=n}function Go(e,n,o,s){zn=zi=null,Tr(n),Ao=null,pl=0;var d=n.return;try{if(a0(e,d,n,o,Ge)){gt=1,xa(e,mn(o,e.current)),we=null;return}}catch(h){if(d!==null)throw we=d,h;gt=1,xa(e,mn(o,e.current)),we=null;return}n.flags&32768?(Pe||s===1?e=!0:wo||(Ge&536870912)!==0?e=!1:(vi=e=!0,(s===2||s===9||s===3||s===6)&&(s=ln.current,s!==null&&s.tag===13&&(s.flags|=16384))),fp(n,e)):Pa(n)}function Pa(e){var n=e;do{if((n.flags&32768)!==0){fp(n,vi);return}e=n.return;var o=u0(n.alternate,n,$n);if(o!==null){we=o;return}if(n=n.sibling,n!==null){we=n;return}we=n=e}while(n!==null);gt===0&&(gt=5)}function fp(e,n){do{var o=c0(e.alternate,e);if(o!==null){o.flags&=32767,we=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){we=e;return}we=e=o}while(e!==null);gt=6,we=null}function dp(e,n,o,s,d,h,S,_,N){e.cancelPendingCommit=null;do qa();while(Rt!==0);if((Fe&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Xs,Jt(e,o,h,S,_,N),e===tt&&(we=tt=null,Ge=0),Uo=n,Ei=e,Wn=o,tu=h,nu=d,tp=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_0(se,function(){return yp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null,d=$.p,$.p=2,S=Fe,Fe|=4;try{f0(e,n,o)}finally{Fe=S,$.p=d,G.T=s}}Rt=1,pp(),hp(),mp()}}function pp(){if(Rt===1){Rt=0;var e=Ei,n=Uo,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var s=$.p;$.p=2;var d=Fe;Fe|=4;try{Xd(n,e);var h=yu,S=Wc(e.containerInfo),_=h.focusedElem,N=h.selectionRange;if(S!==_&&_&&_.ownerDocument&&$c(_.ownerDocument.documentElement,_)){if(N!==null&&Bs(_)){var U=N.start,P=N.end;if(P===void 0&&(P=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min(P,_.value.length);else{var B=_.ownerDocument||document,L=B&&B.defaultView||window;if(L.getSelection){var H=L.getSelection(),le=_.textContent.length,ge=Math.min(N.start,le),We=N.end===void 0?ge:Math.min(N.end,le);!H.extend&&ge>We&&(S=We,We=ge,ge=S);var I=Zc(_,ge),R=Zc(_,We);if(I&&R&&(H.rangeCount!==1||H.anchorNode!==I.node||H.anchorOffset!==I.offset||H.focusNode!==R.node||H.focusOffset!==R.offset)){var D=B.createRange();D.setStart(I.node,I.offset),H.removeAllRanges(),ge>We?(H.addRange(D),H.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),H.addRange(D))}}}}for(B=[],H=_;H=H.parentNode;)H.nodeType===1&&B.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var q=B[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}$a=!!gu,yu=gu=null}finally{Fe=d,$.p=s,G.T=o}}e.current=n,Rt=2}}function hp(){if(Rt===2){Rt=0;var e=Ei,n=Uo,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var s=$.p;$.p=2;var d=Fe;Fe|=4;try{Bd(e,n.alternate,n)}finally{Fe=d,$.p=s,G.T=o}}Rt=3}}function mp(){if(Rt===4||Rt===3){Rt=0,ht();var e=Ei,n=Uo,o=Wn,s=tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Rt=5:(Rt=0,Uo=Ei=null,gp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ti=null),Zo(o),n=n.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(ze,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=G.T,d=$.p,$.p=2,G.T=null;try{for(var h=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];h(_.value,{componentStack:_.stack})}}finally{G.T=n,$.p=d}}(Wn&3)!==0&&qa(),Gn(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===iu?Il++:(Il=0,iu=e):Il=0,wl(0)}}function gp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,fl(n)))}function qa(){return pp(),hp(),mp(),yp()}function yp(){if(Rt!==5)return!1;var e=Ei,n=tu;tu=0;var o=Zo(Wn),s=G.T,d=$.p;try{$.p=32>o?32:o,G.T=null,o=nu,nu=null;var h=Ei,S=Wn;if(Rt=0,Uo=Ei=null,Wn=0,(Fe&6)!==0)throw Error(a(331));var _=Fe;if(Fe|=4,Wd(h.current),Qd(h,h.current,S,o),Fe=_,wl(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(ze,h)}catch{}return!0}finally{$.p=d,G.T=s,gp(e,n)}}function vp(e,n,o){n=mn(o,n),n=Gr(e.stateNode,n,2),e=hi(e,n,2),e!==null&&(ut(e,2),Gn(e))}function Qe(e,n,o){if(e.tag===3)vp(e,e,o);else for(;n!==null;){if(n.tag===3){vp(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ti===null||!Ti.has(s))){e=mn(o,e),o=Sd(2),s=hi(n,o,2),s!==null&&(Td(o,s,n,e),ut(s,2),Gn(s));break}}n=n.return}}function au(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new h0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(Wr=!0,d.add(o),e=S0.bind(null,e,n,o),n.then(e,e))}function S0(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,tt===e&&(Ge&o)===o&&(gt===4||gt===3&&(Ge&62914560)===Ge&&300>Ue()-Ua?(Fe&2)===0&&Lo(e,0):jr|=o,Do===Ge&&(Do=0)),Gn(e)}function Sp(e,n){n===0&&(n=ot()),e=Pi(e,n),e!==null&&(ut(e,n),Gn(e))}function T0(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Sp(e,o)}function E0(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Sp(e,o)}function _0(e,n){return K(e,n)}var Va=null,ko=null,su=!1,za=!1,ru=!1,Ci=0;function Gn(e){e!==ko&&e.next===null&&(ko===null?Va=ko=e:ko=ko.next=e),za=!0,su||(su=!0,A0())}function wl(e,n){if(!ru&&za){ru=!0;do for(var o=!1,s=Va;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var S=s.suspendedLanes,_=s.pingedLanes;h=(1<<31-Ce(42|e)+1)-1,h&=d&~(S&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,Cp(s,h))}else h=Ge,h=et(s,s===tt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||it(s,h)||(o=!0,Cp(s,h));s=s.next}while(o);ru=!1}}function C0(){Tp()}function Tp(){za=su=!1;var e=0;Ci!==0&&L0()&&(e=Ci);for(var n=Ue(),o=null,s=Va;s!==null;){var d=s.next,h=Ep(s,n);h===0?(s.next=null,o===null?Va=d:o.next=d,d===null&&(ko=o)):(o=s,(e!==0||(h&3)!==0)&&(za=!0)),s=d}Rt!==0&&Rt!==5||wl(e),Ci!==0&&(Ci=0)}function Ep(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-Ce(h),_=1<<S,N=d[S];N===-1?((_&o)===0||(_&s)!==0)&&(d[S]=bt(_,n)):N<=n&&(e.expiredLanes|=_),h&=~_}if(n=tt,o=Ge,o=et(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&be(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||it(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&be(s),Zo(o)){case 2:case 8:o=z;break;case 32:o=se;break;case 268435456:o=re;break;default:o=se}return s=_p.bind(null,e),o=K(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&be(s),e.callbackPriority=2,e.callbackNode=null,2}function _p(e,n){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(qa()&&e.callbackNode!==o)return null;var s=Ge;return s=et(e,e===tt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ip(e,s,n),Ep(e,Ue()),e.callbackNode!=null&&e.callbackNode===o?_p.bind(null,e):null)}function Cp(e,n){if(qa())return null;ip(e,n,!0)}function A0(){k0(function(){(Fe&6)!==0?K(oi,C0):Tp()})}function uu(){if(Ci===0){var e=Eo;e===0&&(e=cn,cn<<=1,(cn&261888)===0&&(cn=256)),Ci=e}return Ci}function Ap(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ql(""+e)}function xp(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function x0(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var h=Ap((d[Xt]||null).action),S=s.submitter;S&&(n=(n=S[Xt]||null)?Ap(n.formAction):S.getAttribute("formAction"),n!==null&&(h=n,S=null));var _=new jl("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ci!==0){var N=S?xp(d,S):new FormData(d);br(o,{pending:!0,data:N,method:d.method,action:h},null,N)}}else typeof h=="function"&&(_.preventDefault(),N=S?xp(d,S):new FormData(d),br(o,{pending:!0,data:N,method:d.method,action:h},h,N))},currentTarget:d}]})}}for(var cu=0;cu<Js.length;cu++){var fu=Js[cu],N0=fu.toLowerCase(),R0=fu[0].toUpperCase()+fu.slice(1);Nn(N0,"on"+R0)}Nn(tf,"onAnimationEnd"),Nn(nf,"onAnimationIteration"),Nn(of,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Oy,"onTransitionRun"),Nn(Yy,"onTransitionStart"),Nn(Fy,"onTransitionCancel"),Nn(lf,"onTransitionEnd"),ao("onMouseEnter",["mouseout","mouseover"]),ao("onMouseLeave",["mouseout","mouseover"]),ao("onPointerEnter",["pointerout","pointerover"]),ao("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Np(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],N=_.instance,U=_.currentTarget;if(_=_.listener,N!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=U;try{h(d)}catch(P){na(P)}d.currentTarget=null,h=N}else for(S=0;S<s.length;S++){if(_=s[S],N=_.instance,U=_.currentTarget,_=_.listener,N!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=U;try{h(d)}catch(P){na(P)}d.currentTarget=null,h=N}}}}function De(e,n){var o=n[As];o===void 0&&(o=n[As]=new Set);var s=e+"__bubble";o.has(s)||(Rp(n,e,2,!1),o.add(s))}function du(e,n,o){var s=0;n&&(s|=4),Rp(o,e,s,n)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[Ba]){e[Ba]=!0,Sc.forEach(function(o){o!=="selectionchange"&&(M0.has(o)||du(o,!1,e),du(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ba]||(n[Ba]=!0,du("selectionchange",!1,n))}}function Rp(e,n,o,s){switch(nh(n)){case 2:var d=nv;break;case 8:d=iv;break;default:d=Mu}o=d.bind(null,n,o,e),d=void 0,!Us||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function hu(e,n,o,s,d){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=io(_),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){s=h=S;continue e}_=_.parentNode}}s=s.return}wc(function(){var U=h,P=ws(o),B=[];e:{var L=af.get(e);if(L!==void 0){var H=jl,le=e;switch(e){case"keypress":if($l(o)===0)break e;case"keydown":case"keyup":H=Ey;break;case"focusin":le="focus",H=Hs;break;case"focusout":le="blur",H=Hs;break;case"beforeblur":case"afterblur":H=Hs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Ay;break;case tf:case nf:case of:H=dy;break;case lf:H=Ny;break;case"scroll":case"scrollend":H=sy;break;case"wheel":H=My;break;case"copy":case"cut":case"paste":H=hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=kc;break;case"toggle":case"beforetoggle":H=Iy}var ge=(n&4)!==0,We=!ge&&(e==="scroll"||e==="scrollend"),I=ge?L!==null?L+"Capture":null:L;ge=[];for(var R=U,D;R!==null;){var q=R;if(D=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||D===null||I===null||(q=el(R,I),q!=null&&ge.push(Ul(R,q,D))),We)break;R=R.return}0<ge.length&&(L=new H(L,le,null,o,P),B.push({event:L,listeners:ge}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&o!==Is&&(le=o.relatedTarget||o.fromElement)&&(io(le)||le[no]))break e;if((H||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,H?(le=o.relatedTarget||o.toElement,H=U,le=le?io(le):null,le!==null&&(We=f(le),ge=le.tag,le!==We||ge!==5&&ge!==27&&ge!==6)&&(le=null)):(H=null,le=U),H!==le)){if(ge=Lc,q="onMouseLeave",I="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ge=kc,q="onPointerLeave",I="onPointerEnter",R="pointer"),We=H==null?L:jo(H),D=le==null?L:jo(le),L=new ge(q,R+"leave",H,o,P),L.target=We,L.relatedTarget=D,q=null,io(P)===U&&(ge=new ge(I,R+"enter",le,o,P),ge.target=D,ge.relatedTarget=We,q=ge),We=q,H&&le)t:{for(ge=b0,I=H,R=le,D=0,q=I;q;q=ge(q))D++;q=0;for(var de=R;de;de=ge(de))q++;for(;0<D-q;)I=ge(I),D--;for(;0<q-D;)R=ge(R),q--;for(;D--;){if(I===R||R!==null&&I===R.alternate){ge=I;break t}I=ge(I),R=ge(R)}ge=null}else ge=null;H!==null&&Mp(B,L,H,ge,!1),le!==null&&We!==null&&Mp(B,We,le,ge,!0)}}e:{if(L=U?jo(U):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var Be=Yc;else if(Bc(L))if(Fc)Be=Vy;else{Be=Py;var ue=Hy}else H=L.nodeName,!H||H.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&bs(U.elementType)&&(Be=Yc):Be=qy;if(Be&&(Be=Be(e,U))){Oc(B,Be,o,P);break e}ue&&ue(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&Ms(L,"number",L.value)}switch(ue=U?jo(U):window,e){case"focusin":(Bc(ue)||ue.contentEditable==="true")&&(po=ue,Os=U,rl=null);break;case"focusout":rl=Os=po=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,jc(B,o,P);break;case"selectionchange":if(By)break;case"keydown":case"keyup":jc(B,o,P)}var xe;if(qs)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else fo?Vc(e,o)&&(ke="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(Hc&&o.locale!=="ko"&&(fo||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&fo&&(xe=Dc()):(si=P,Ls="value"in si?si.value:si.textContent,fo=!0)),ue=Oa(U,ke),0<ue.length&&(ke=new Gc(ke,e,null,o,P),B.push({event:ke,listeners:ue}),xe?ke.data=xe:(xe=zc(o),xe!==null&&(ke.data=xe)))),(xe=Dy?Uy(e,o):Ly(e,o))&&(ke=Oa(U,"onBeforeInput"),0<ke.length&&(ue=new Gc("onBeforeInput","beforeinput",null,o,P),B.push({event:ue,listeners:ke}),ue.data=xe)),x0(B,e,U,o,P)}Np(B,n)})}function Ul(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Oa(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=el(e,o),d!=null&&s.unshift(Ul(e,d,h)),d=el(e,n),d!=null&&s.push(Ul(e,d,h))),e.tag===3)return s;e=e.return}return[]}function b0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mp(e,n,o,s,d){for(var h=n._reactName,S=[];o!==null&&o!==s;){var _=o,N=_.alternate,U=_.stateNode;if(_=_.tag,N!==null&&N===s)break;_!==5&&_!==26&&_!==27||U===null||(N=U,d?(U=el(o,h),U!=null&&S.unshift(Ul(o,U,N))):d||(U=el(o,h),U!=null&&S.push(Ul(o,U,N)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var I0=/\r\n?/g,w0=/\u0000|\uFFFD/g;function bp(e){return(typeof e=="string"?e:""+e).replace(I0,`
`).replace(w0,"")}function Ip(e,n){return n=bp(n),bp(e)===n}function $e(e,n,o,s,d,h){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||ro(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&ro(e,""+s);break;case"className":Xl(e,"class",s);break;case"tabIndex":Xl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(e,o,s);break;case"style":bc(e,s,h);break;case"data":if(n!=="object"){Xl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Ql(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(n!=="input"&&$e(e,n,"name",d.name,d,null),$e(e,n,"formEncType",d.formEncType,d,null),$e(e,n,"formMethod",d.formMethod,d,null),$e(e,n,"formTarget",d.formTarget,d,null)):($e(e,n,"encType",d.encType,d,null),$e(e,n,"method",d.method,d,null),$e(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Ql(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=Hn);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Ql(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":De("beforetoggle",e),De("toggle",e),Jl(e,"popover",s);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Jl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ly.get(o)||o,Jl(e,o,s))}}function mu(e,n,o,s,d,h){switch(o){case"style":bc(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?ro(e,s):(typeof s=="number"||typeof s=="bigint")&&ro(e,""+s);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),h=e[Xt]||null,h=h!=null?h[o]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):Jl(e,o,s)}}}function kt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var s=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var S=o[h];if(S!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(e,n,h,S,o,null)}}d&&$e(e,n,"srcSet",o.srcSet,o,null),s&&$e(e,n,"src",o.src,o,null);return;case"input":De("invalid",e);var _=h=S=d=null,N=null,U=null;for(s in o)if(o.hasOwnProperty(s)){var P=o[s];if(P!=null)switch(s){case"name":d=P;break;case"type":S=P;break;case"checked":N=P;break;case"defaultChecked":U=P;break;case"value":h=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:$e(e,n,s,P,o,null)}}xc(e,h,_,N,U,S,d,!1);return;case"select":De("invalid",e),s=S=h=null;for(d in o)if(o.hasOwnProperty(d)&&(_=o[d],_!=null))switch(d){case"value":h=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:$e(e,n,d,_,o,null)}n=h,o=S,e.multiple=!!s,n!=null?so(e,!!s,n,!1):o!=null&&so(e,!!s,o,!0);return;case"textarea":De("invalid",e),h=d=s=null;for(S in o)if(o.hasOwnProperty(S)&&(_=o[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:$e(e,n,S,_,o,null)}Rc(e,s,d,h);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(s=o[N],s!=null))switch(N){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:$e(e,n,N,s,o,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(s=0;s<Dl.length;s++)De(Dl[s],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(s=o[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$e(e,n,U,s,o,null)}return;default:if(bs(n)){for(P in o)o.hasOwnProperty(P)&&(s=o[P],s!==void 0&&mu(e,n,P,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&$e(e,n,_,s,o,null))}function D0(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,S=null,_=null,N=null,U=null,P=null;for(H in o){var B=o[H];if(o.hasOwnProperty(H)&&B!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=B;default:s.hasOwnProperty(H)||$e(e,n,H,null,s,B)}}for(var L in s){var H=s[L];if(B=o[L],s.hasOwnProperty(L)&&(H!=null||B!=null))switch(L){case"type":h=H;break;case"name":d=H;break;case"checked":U=H;break;case"defaultChecked":P=H;break;case"value":S=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==B&&$e(e,n,L,H,s,B)}}Rs(e,S,_,N,U,P,h,d);return;case"select":H=S=_=L=null;for(h in o)if(N=o[h],o.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":H=N;default:s.hasOwnProperty(h)||$e(e,n,h,null,s,N)}for(d in s)if(h=s[d],N=o[d],s.hasOwnProperty(d)&&(h!=null||N!=null))switch(d){case"value":L=h;break;case"defaultValue":_=h;break;case"multiple":S=h;default:h!==N&&$e(e,n,d,h,s,N)}n=_,o=S,s=H,L!=null?so(e,!!o,L,!1):!!s!=!!o&&(n!=null?so(e,!!o,n,!0):so(e,!!o,o?[]:"",!1));return;case"textarea":H=L=null;for(_ in o)if(d=o[_],o.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:$e(e,n,_,null,s,d)}for(S in s)if(d=s[S],h=o[S],s.hasOwnProperty(S)&&(d!=null||h!=null))switch(S){case"value":L=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&$e(e,n,S,d,s,h)}Nc(e,L,H);return;case"option":for(var le in o)if(L=o[le],o.hasOwnProperty(le)&&L!=null&&!s.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:$e(e,n,le,null,s,L)}for(N in s)if(L=s[N],H=o[N],s.hasOwnProperty(N)&&L!==H&&(L!=null||H!=null))switch(N){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:$e(e,n,N,L,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in o)L=o[ge],o.hasOwnProperty(ge)&&L!=null&&!s.hasOwnProperty(ge)&&$e(e,n,ge,null,s,L);for(U in s)if(L=s[U],H=o[U],s.hasOwnProperty(U)&&L!==H&&(L!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:$e(e,n,U,L,s,H)}return;default:if(bs(n)){for(var We in o)L=o[We],o.hasOwnProperty(We)&&L!==void 0&&!s.hasOwnProperty(We)&&mu(e,n,We,void 0,s,L);for(P in s)L=s[P],H=o[P],!s.hasOwnProperty(P)||L===H||L===void 0&&H===void 0||mu(e,n,P,L,s,H);return}}for(var I in o)L=o[I],o.hasOwnProperty(I)&&L!=null&&!s.hasOwnProperty(I)&&$e(e,n,I,null,s,L);for(B in s)L=s[B],H=o[B],!s.hasOwnProperty(B)||L===H||L==null&&H==null||$e(e,n,B,L,s,H)}function wp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],h=d.transferSize,S=d.initiatorType,_=d.duration;if(h&&_&&wp(S)){for(S=0,_=d.responseEnd,s+=1;s<o.length;s++){var N=o[s],U=N.startTime;if(U>_)break;var P=N.transferSize,B=N.initiatorType;P&&wp(B)&&(N=N.responseEnd,S+=P*(N<_?1:(_-U)/(N-U)))}if(--s,n+=8*(h+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gu=null,yu=null;function Ya(e){return e.nodeType===9?e:e.ownerDocument}function Dp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Su=null;function L0(){var e=window.event;return e&&e.type==="popstate"?e===Su?!1:(Su=e,!0):(Su=null,!1)}var Lp=typeof setTimeout=="function"?setTimeout:void 0,G0=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(e){return Gp.resolve(null).then(e).catch(H0)}:Lp;function H0(e){setTimeout(function(){throw e})}function Ai(e){return e==="head"}function kp(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),Vo(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Ll(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Ll(o);for(var h=o.firstChild;h;){var S=h.nextSibling,_=h.nodeName;h[Wo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||o.removeChild(h),h=S}}else o==="body"&&Ll(e.ownerDocument.body);o=d}while(o);Vo(n)}function Hp(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function Tu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Tu(o),xs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function P0(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Wo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function q0(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Tn(e.nextSibling),e===null))return null;return e}function Pp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tn(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function _u(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function V0(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Tn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Cu=null;function qp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Tn(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Vp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function zp(e,n,o){switch(n=Ya(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);xs(e)}var En=new Map,Bp=new Set;function Fa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jn=$.d;$.d={f:z0,r:B0,D:O0,C:Y0,L:F0,m:J0,X:K0,S:X0,M:Q0};function z0(){var e=jn.f(),n=ka();return e||n}function B0(e){var n=oo(e);n!==null&&n.tag===5&&n.type==="form"?ld(n):jn.r(e)}var Ho=typeof document>"u"?null:document;function Op(e,n,o){var s=Ho;if(s&&typeof n=="string"&&n){var d=pn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Bp.has(d)||(Bp.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),kt(n,"link",e),It(n),s.head.appendChild(n)))}}function O0(e){jn.D(e),Op("dns-prefetch",e,null)}function Y0(e,n){jn.C(e,n),Op("preconnect",e,n)}function F0(e,n,o){jn.L(e,n,o);var s=Ho;if(s&&e&&n){var d='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+pn(o.imageSizes)+'"]')):d+='[href="'+pn(e)+'"]';var h=d;switch(n){case"style":h=Po(e);break;case"script":h=qo(e)}En.has(h)||(e=T({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),En.set(h,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Gl(h))||n==="script"&&s.querySelector(kl(h))||(n=s.createElement("link"),kt(n,"link",e),It(n),s.head.appendChild(n)))}}function J0(e,n){jn.m(e,n);var o=Ho;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+pn(s)+'"][href="'+pn(e)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=qo(e)}if(!En.has(h)&&(e=T({rel:"modulepreload",href:e},n),En.set(h,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(kl(h)))return}s=o.createElement("link"),kt(s,"link",e),It(s),o.head.appendChild(s)}}}function X0(e,n,o){jn.S(e,n,o);var s=Ho;if(s&&e){var d=lo(s).hoistableStyles,h=Po(e);n=n||"default";var S=d.get(h);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(Gl(h)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},o),(o=En.get(h))&&Au(e,o);var N=S=s.createElement("link");It(N),kt(N,"link",e),N._p=new Promise(function(U,P){N.onload=U,N.onerror=P}),N.addEventListener("load",function(){_.loading|=1}),N.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ja(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(h,S)}}}function K0(e,n){jn.X(e,n);var o=Ho;if(o&&e){var s=lo(o).hoistableScripts,d=qo(e),h=s.get(d);h||(h=o.querySelector(kl(d)),h||(e=T({src:e,async:!0},n),(n=En.get(d))&&xu(e,n),h=o.createElement("script"),It(h),kt(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Q0(e,n){jn.M(e,n);var o=Ho;if(o&&e){var s=lo(o).hoistableScripts,d=qo(e),h=s.get(d);h||(h=o.querySelector(kl(d)),h||(e=T({src:e,async:!0,type:"module"},n),(n=En.get(d))&&xu(e,n),h=o.createElement("script"),It(h),kt(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Yp(e,n,o,s){var d=(d=J.current)?Fa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Po(o.href),o=lo(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Po(o.href);var h=lo(d).hoistableStyles,S=h.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=d.querySelector(Gl(e)))&&!h._p&&(S.instance=h,S.state.loading=5),En.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},En.set(e,o),h||Z0(d,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qo(o),o=lo(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Po(e){return'href="'+pn(e)+'"'}function Gl(e){return'link[rel="stylesheet"]['+e+"]"}function Fp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Z0(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),kt(n,"link",o),It(n),e.head.appendChild(n))}function qo(e){return'[src="'+pn(e)+'"]'}function kl(e){return"script[async]"+e}function Jp(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+pn(o.href)+'"]');if(s)return n.instance=s,It(s),s;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),It(s),kt(s,"style",d),Ja(s,o.precedence,e),n.instance=s;case"stylesheet":d=Po(o.href);var h=e.querySelector(Gl(d));if(h)return n.state.loading|=4,n.instance=h,It(h),h;s=Fp(o),(d=En.get(d))&&Au(s,d),h=(e.ownerDocument||e).createElement("link"),It(h);var S=h;return S._p=new Promise(function(_,N){S.onload=_,S.onerror=N}),kt(h,"link",s),n.state.loading|=4,Ja(h,o.precedence,e),n.instance=h;case"script":return h=qo(o.src),(d=e.querySelector(kl(h)))?(n.instance=d,It(d),d):(s=o,(d=En.get(h))&&(s=T({},o),xu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),It(d),kt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ja(s,o.precedence,e));return n.instance}function Ja(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)h=_;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Au(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Xa=null;function Xp(e,n,o){if(Xa===null){var s=new Map,d=Xa=new Map;d.set(o,s)}else d=Xa,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var h=o[d];if(!(h[Wo]||h[Nt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(h):s.set(S,[h])}}return s}function Kp(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function $0(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function W0(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Po(s.href),h=n.querySelector(Gl(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ka.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=h,It(h);return}h=n.ownerDocument||n,s=Fp(s),(d=En.get(d))&&Au(s,d),h=h.createElement("link"),It(h);var S=h;S._p=new Promise(function(_,N){S.onload=_,S.onerror=N}),kt(h,"link",s),o.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ka.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Nu=0;function j0(e,n){return e.stylesheets&&e.count===0&&Za(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Za(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Nu===0&&(Nu=62500*U0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Za(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Nu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Ka(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Za(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qa=null;function Za(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qa=new Map,n.forEach(ev,e),Qa=null,Ka.call(e))}function ev(e,n){if(!(n.state.loading&4)){var o=Qa.get(e);if(o)var s=o.get(null);else{o=new Map,Qa.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var S=d[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),h=o.get(S)||s,h===s&&o.set(null,d),o.set(S,d),this.count++,s=Ka.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Hl={$$typeof:O,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function tv(e,n,o,s,d,h,S,_,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lt(0),this.hiddenUpdates=lt(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Zp(e,n,o,s,d,h,S,_,N,U,P,B){return e=new tv(e,n,o,S,N,U,P,B,_),n=1,h===!0&&(n|=24),h=on(3,null,null,n),e.current=h,h.stateNode=e,n=lr(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:o,cache:n},ur(h),e}function $p(e){return e?(e=go,e):go}function Wp(e,n,o,s,d,h){d=$p(d),s.context===null?s.context=d:s.pendingContext=d,s=pi(n),s.payload={element:o},h=h===void 0?null:h,h!==null&&(s.callback=h),o=hi(e,s,n),o!==null&&(jt(o,e,n),ml(o,e,n))}function jp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Ru(e,n){jp(e,n),(e=e.alternate)&&jp(e,n)}function eh(e){if(e.tag===13||e.tag===31){var n=Pi(e,67108864);n!==null&&jt(n,e,67108864),Ru(e,67108864)}}function th(e){if(e.tag===13||e.tag===31){var n=un();n=to(n);var o=Pi(e,n);o!==null&&jt(o,e,n),Ru(e,n)}}var $a=!0;function nv(e,n,o,s){var d=G.T;G.T=null;var h=$.p;try{$.p=2,Mu(e,n,o,s)}finally{$.p=h,G.T=d}}function iv(e,n,o,s){var d=G.T;G.T=null;var h=$.p;try{$.p=8,Mu(e,n,o,s)}finally{$.p=h,G.T=d}}function Mu(e,n,o,s){if($a){var d=bu(s);if(d===null)hu(e,n,s,Wa,o),ih(e,s);else if(lv(d,e,n,o,s))s.stopPropagation();else if(ih(e,s),n&4&&-1<ov.indexOf(e)){for(;d!==null;){var h=oo(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=Xe(h.pendingLanes);if(S!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var N=1<<31-Ce(S);_.entanglements[1]|=N,S&=~N}Gn(h),(Fe&6)===0&&(La=Ue()+500,wl(0))}}break;case 31:case 13:_=Pi(h,2),_!==null&&jt(_,h,2),ka(),Ru(h,2)}if(h=bu(s),h===null&&hu(e,n,s,Wa,o),h===d)break;d=h}d!==null&&s.stopPropagation()}else hu(e,n,s,null,o)}}function bu(e){return e=ws(e),Iu(e)}var Wa=null;function Iu(e){if(Wa=null,e=io(e),e!==null){var n=f(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Wa=e,null}function nh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ji()){case oi:return 2;case z:return 8;case se:case ee:return 32;case re:return 268435456;default:return 32}default:return 32}}var wu=!1,xi=null,Ni=null,Ri=null,Pl=new Map,ql=new Map,Mi=[],ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ih(e,n){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Vl(e,n,o,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},n!==null&&(n=oo(n),n!==null&&eh(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function lv(e,n,o,s,d){switch(n){case"focusin":return xi=Vl(xi,e,n,o,s,d),!0;case"dragenter":return Ni=Vl(Ni,e,n,o,s,d),!0;case"mouseover":return Ri=Vl(Ri,e,n,o,s,d),!0;case"pointerover":var h=d.pointerId;return Pl.set(h,Vl(Pl.get(h)||null,e,n,o,s,d)),!0;case"gotpointercapture":return h=d.pointerId,ql.set(h,Vl(ql.get(h)||null,e,n,o,s,d)),!0}return!1}function oh(e){var n=io(e.target);if(n!==null){var o=f(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,$o(e.priority,function(){th(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,$o(e.priority,function(){th(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ja(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=bu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);Is=s,o.target.dispatchEvent(s),Is=null}else return n=oo(o),n!==null&&eh(n),e.blockedOn=o,!1;n.shift()}return!0}function lh(e,n,o){ja(e)&&o.delete(n)}function av(){wu=!1,xi!==null&&ja(xi)&&(xi=null),Ni!==null&&ja(Ni)&&(Ni=null),Ri!==null&&ja(Ri)&&(Ri=null),Pl.forEach(lh),ql.forEach(lh)}function es(e,n){e.blockedOn===n&&(e.blockedOn=null,wu||(wu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,av)))}var ts=null;function ah(e){ts!==e&&(ts=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ts===e&&(ts=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(Iu(s||o)===null)continue;break}var h=oo(o);h!==null&&(e.splice(n,3),n-=3,br(h,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function Vo(e){function n(N){return es(N,e)}xi!==null&&es(xi,e),Ni!==null&&es(Ni,e),Ri!==null&&es(Ri,e),Pl.forEach(n),ql.forEach(n);for(var o=0;o<Mi.length;o++){var s=Mi[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Mi.length&&(o=Mi[0],o.blockedOn===null);)oh(o),o.blockedOn===null&&Mi.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],h=o[s+1],S=d[Xt]||null;if(typeof h=="function")S||ah(o);else if(S){var _=null;if(h&&h.hasAttribute("formAction")){if(d=h,S=h[Xt]||null)_=S.formAction;else if(Iu(d)!==null)continue}else _=S.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),ah(o)}}}function sh(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Du(e){this._internalRoot=e}ns.prototype.render=Du.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=un();Wp(o,s,e,n,null,null)},ns.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Wp(e.current,2,null,e,null,null),ka(),n[no]=null}};function ns(e){this._internalRoot=e}ns.prototype.unstable_scheduleHydration=function(e){if(e){var n=ai();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Mi.length&&n!==0&&n<Mi[o].priority;o++);Mi.splice(o,0,e),o===0&&oh(e)}};var rh=t.version;if(rh!=="19.2.3")throw Error(a(527,rh,"19.2.3"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var sv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{ze=is.inject(sv),me=is}catch{}}return Bl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=md,h=gd,S=yd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Zp(e,1,!1,null,null,o,s,null,d,h,S,sh),e[no]=n.current,pu(e),new Du(n)},Bl.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",h=md,S=gd,_=yd,N=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),n=Zp(e,1,!0,n,o??null,s,d,N,h,S,_,sh),n.context=$p(null),o=n.current,s=un(),s=to(s),d=pi(s),d.callback=null,hi(o,d,s),o=s,n.current.lanes=o,ut(n,o),Gn(n),e[no]=n.current,pu(e),new ns(n)},Bl.version="19.2.3",Bl}var vh;function vv(){if(vh)return Gu.exports;vh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Gu.exports=yv(),Gu.exports}var Sv=vv();const Tv=eg(Sv);var Di=(i=>(i.SELECT="SELECT",i.ADD_PARENT="ADD_PARENT",i.ADD_CHILD="ADD_CHILD",i.ADD_SPOUSE="ADD_SPOUSE",i.PAN="PAN",i))(Di||{});/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_v=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,a)=>a?a.toUpperCase():l.toLowerCase()),Sh=i=>{const t=_v(i);return t.charAt(0).toUpperCase()+t.slice(1)},tg=(...i)=>i.filter((t,l,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===l).join(" ").trim(),Cv=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Av={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=j.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:r="",children:f,iconNode:p,...g},y)=>j.createElement("svg",{ref:y,...Av,width:t,height:t,stroke:i,strokeWidth:a?Number(l)*24/Number(t):l,className:tg("lucide",r),...!f&&!Cv(g)&&{"aria-hidden":"true"},...g},[...p.map(([m,v])=>j.createElement(m,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(i,t)=>{const l=j.forwardRef(({className:a,...r},f)=>j.createElement(xv,{ref:f,iconNode:t,className:tg(`lucide-${Ev(Sh(i))}`,`lucide-${i}`,a),...r}));return l.displayName=Sh(i),l};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Rv=yt("camera",Nv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bv=yt("download",Mv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],wv=yt("grid-3x3",Iv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Uv=yt("key",Dv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Gv=yt("lock-open",Lv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Hv=yt("lock",kv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],qv=yt("maximize",Pv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],zv=yt("mouse",Vv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Ov=yt("move",Bv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Fv=yt("panels-top-left",Yv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xv=yt("plus",Jv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Qv=yt("save",Kv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$v=yt("search",Zv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jv=yt("settings",Wv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tS=yt("trash-2",eS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],iS=yt("upload",nS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lS=yt("user",oS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sS=yt("users",aS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],uS=yt("wand-sparkles",rS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fS=yt("x",cS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],pS=yt("zoom-in",dS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],mS=yt("zoom-out",hS),qe={User:lS,Users:sS,Plus:Xv,Move:Ov,Download:bv,Upload:iS,Wand2:uS,Trash2:tS,X:fS,Save:Qv,ZoomIn:pS,ZoomOut:mS,Maximize:qv,Camera:Rv,Search:$v,Lock:Hv,Unlock:Gv,Key:Uv,Layout:Fv,Grid:wv,Settings:jv,Mouse:zv},Fl=180,ac=90,sc=100,ng=120,ei=160,qu={x:window.innerWidth/2,y:window.innerHeight/2,scale:1},Th={male:"bg-blue-100 border-blue-300 text-blue-900",female:"bg-pink-100 border-pink-300 text-pink-900",other:"bg-gray-100 border-gray-300 text-gray-900"},Jo={id:{searchPlaceholder:"Cari anggota keluarga...",noResults:"Tidak ditemukan",aiGenerator:"Generator AI",importJson:"Impor JSON",exportJson:"Ekspor JSON",viewMode:"Tampilan Kartu",autoLayout:"Atur Jarak",layoutSettings:"Pengaturan",siblingGap:"Jarak Saudara",cousinGap:"Jarak Sepupu/Grup",editTriggerLabel:"Buka Edit Detail:",editTriggerClick:"1x Klik",editTriggerHold:"Tahan Klik",apply:"Terapkan",toolPan:"Mode Geser (Pan)",toolSelect:"Mode Seleksi (Box)",scrollModeLabel:"Fungsi Scroll Mouse:",scrollZoom:"Zoom",scrollPan:"Geser",lockEditing:"Kunci Pengeditan",unlockEditing:"Buka Pengeditan",enterPassword:"Masukan Password untuk membuka kunci:",wrongPassword:"Password Salah!",meRoot:"Saya / Utama",parents:"Orang Tua",grandparents:"Kakek-Nenek",greatGrandparents:"Buyut",children:"Anak",grandchildren:"Cucu",greatGrandchildren:"Cicit",genAgo:"G Lalu",genAfter:"G Bawah",unlimited:"Tak Terbatas",gAgo:"G Lalu",child:"Anak",childSpouse:"Anak & Pasangan",grandchild:"Cucu",male:"Laki-laki",female:"Perempuan",other:"Lainnya",born:"Lahir",died:"Wafat",unknownDate:"Tanggal Tak Diketahui",rip:"Alm",editDetails:"Edit Detail",changePhoto:"Ganti Foto",remove:"Hapus",fullName:"Nama Lengkap",gender:"Jenis Kelamin",birthDate:"Tanggal Lahir",birthPlace:"Tempat Lahir",deceasedInfo:"Info Kematian (Opsional)",deathDate:"Tanggal Kematian",deathPlace:"Tempat Kematian",notes:"Catatan",notesPlaceholder:"Informasi tambahan, biografi, gelar...",familyConnections:"Hubungan Keluarga",parentsList:"Orang Tua",spousesList:"Pasangan",childrenList:"Anak",addLinkParent:"Tambah / Hubungkan Orang Tua",addLinkSpouse:"Tambah / Hubungkan Pasangan",addLinkChild:"Tambah / Hubungkan Anak",createNewParent:"Buat Orang Tua Baru",createNewSpouse:"Buat Pasangan Baru",createNewChild:"Buat Anak Baru",selectExisting:"Pilih yang ada...",searchSelectPlaceholder:"Cari nama...",link:"Hubungkan",cancel:"Batal",addChild:"Tambah Anak",save:"Simpan",confirmDelete:"Konfirmasi Hapus?",deletePerson:"Hapus Orang",customRightGap:"Jarak Kanan (Manual)",customLeftGap:"Jarak Kiri (Manual)",applyLayout:"Terapkan Layout",married:"Menikah",divorced:"Cerai",setDivorced:"Ubah ke Cerai",setMarried:"Ubah ke Menikah",aiTitle:"Generator Pohon AI",aiDesc:"Jelaskan keluarga Anda dalam bahasa alami, dan biarkan Gemini membuat pohon silsilah untuk Anda.",aiExample:'Contoh: "Saya Budi (lahir 1990). Ayah saya Joko dan ibu saya Siti. Saya punya adik bernama Sari."',aiPlaceholder:"Ketik sejarah keluarga Anda di sini...",generating:"Sedang Membuat...",generate:"Buat",aiError:"Gagal membuat pohon. Pastikan Kunci API valid dan teks jelas.",apiKeyLabel:"API Key Google Gemini",apiKeyPlaceholder:"Tempel API Key Anda disini (mulai dengan AIza...)",saveKey:"Simpan Key",changeKey:"Ganti API Key",noKeyWarning:"API Key diperlukan agar fitur ini berfungsi."},en:{searchPlaceholder:"Find family member...",noResults:"No results found",aiGenerator:"AI Generator",importJson:"Import JSON",exportJson:"Export JSON",viewMode:"Card View",autoLayout:"Auto Layout",layoutSettings:"Settings",siblingGap:"Sibling Gap",cousinGap:"Cousin/Group Gap",editTriggerLabel:"Open Edit Form:",editTriggerClick:"1x Click",editTriggerHold:"Hold Click",apply:"Apply",toolPan:"Pan Mode",toolSelect:"Select Mode (Box)",scrollModeLabel:"Mouse Scroll Function:",scrollZoom:"Zoom",scrollPan:"Pan",lockEditing:"Lock Editing",unlockEditing:"Unlock Editing",enterPassword:"Enter Password to unlock:",wrongPassword:"Wrong Password!",meRoot:"Me / Root",parents:"Parents",grandparents:"Grandparents",greatGrandparents:"Great G-Parents",children:"Children",grandchildren:"Grandchildren",greatGrandchildren:"Great G-Children",genAgo:"G Ago",genAfter:"G After",unlimited:"Unlimited",gAgo:"G Ago",child:"Child",childSpouse:"Child & Spouse",grandchild:"Grandchild",male:"Male",female:"Female",other:"Other",born:"b.",died:"d.",unknownDate:"Unknown Date",rip:"RIP",editDetails:"Edit Details",changePhoto:"Change Photo",remove:"Remove",fullName:"Full Name",gender:"Gender",birthDate:"Birth Date",birthPlace:"Birth Place",deceasedInfo:"Deceased Info (Optional)",deathDate:"Death Date",deathPlace:"Death Place",notes:"Notes",notesPlaceholder:"Additional information, biography, titles...",familyConnections:"Family Connections",parentsList:"Parents",spousesList:"Spouses",childrenList:"Children",addLinkParent:"Add / Link Parent",addLinkSpouse:"Add / Link Spouse",addLinkChild:"Add / Link Child",createNewParent:"Create New Parent",createNewSpouse:"Create New Spouse",createNewChild:"Create New Child",selectExisting:"Select Existing...",searchSelectPlaceholder:"Search name...",link:"Link",cancel:"Cancel",addChild:"Add Child",save:"Save",confirmDelete:"Confirm Delete?",deletePerson:"Delete Person",customRightGap:"Right Gap (Manual)",customLeftGap:"Left Gap (Manual)",applyLayout:"Apply Layout",married:"Married",divorced:"Divorced",setDivorced:"Set to Divorced",setMarried:"Set to Married",aiTitle:"AI Tree Generator",aiDesc:"Describe your family in natural language, and let Gemini build the tree for you.",aiExample:'Ex: "I am John (born 1990). My dad is Mark and mom is Sarah. I have a sister named Emily."',aiPlaceholder:"Type your family history here...",generating:"Generating...",generate:"Generate",aiError:"Failed to generate tree. Please ensure your API Key is valid and the text is clear.",apiKeyLabel:"Google Gemini API Key",apiKeyPlaceholder:"Paste your API Key here (starts with AIza...)",saveKey:"Save Key",changeKey:"Change API Key",noKeyWarning:"API Key is required for this feature to work."}},gS=({person:i,x:t,y:l,isSelected:a,onSelect:r,onMouseDown:f,language:p="id",viewMode:g="normal",editTrigger:y="click"})=>{const m=Th[i.gender]||Th.other,v=Jo[p],[T,E]=j.useState(!1),A=j.useRef(null),M=j.useRef({x:0,y:0}),b=t??i.x,w=l??i.y,V=ce=>ce?ce.split("-")[0]:"",W=V(i.birthDate),O=V(i.deathDate);let X=v.unknownDate;W?X=O?`${W} - ${O}`:`${v.born} ${W}`:O&&(X=`${v.died} ${O}`);const ne=v[i.gender]||i.gender,oe=g==="mini"?sc:Fl,Y=g==="mini"?ng:ac,ye=ce=>{f(ce,i.id),M.current={x:ce.clientX,y:ce.clientY},A.current=setTimeout(()=>{y==="hold"?(E(!0),navigator.vibrate&&navigator.vibrate(50),r(ce,i.id,!0)):E(!0)},600)},Z=ce=>{A.current&&!T&&Math.hypot(ce.clientX-M.current.x,ce.clientY-M.current.y)>10&&(clearTimeout(A.current),A.current=null)},he=ce=>{E(!1),A.current&&(clearTimeout(A.current),A.current=null,y==="click"?r(ce,i.id,!0):r(ce,i.id,!1))};return C.jsxs("div",{className:`absolute shadow-md rounded-lg flex transition-colors duration-200 
        ${m} 
        ${a?"ring-2 ring-indigo-500 z-10":"z-0"}
        ${T?"scale-110 ring-4 ring-orange-400 z-50 shadow-2xl cursor-grabbing":"hover:shadow-lg cursor-grab"}
        ${g==="mini"?"flex-col items-center justify-center p-1 text-center":"flex-row items-center space-x-3 p-2 text-left"}
      `,style:{width:oe,height:Y,transform:`translate(${b}px, ${w}px)`,userSelect:"none",touchAction:"none",willChange:a?"transform":"auto"},onPointerDown:ye,onPointerMove:Z,onPointerUp:he,onPointerLeave:he,onContextMenu:ce=>ce.preventDefault(),children:[C.jsx("img",{src:i.photoUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(i.name)}&background=random`,alt:i.name,className:`rounded-full border-2 border-white object-cover ${i.deathDate?"grayscale":""}
            ${g==="mini"?"w-16 h-16 mb-2":"w-12 h-12"}
        `,draggable:!1}),C.jsxs("div",{className:`flex-1 min-w-0 pointer-events-none ${g==="mini"?"w-full px-1":""}`,children:[C.jsx("h3",{className:`font-bold leading-tight ${g==="mini"?"text-xs truncate":"text-sm truncate"}`,children:i.name}),C.jsx("p",{className:"text-xs opacity-75 truncate",children:X}),g!=="mini"&&C.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[C.jsx("span",{className:"text-[10px] uppercase tracking-wider opacity-60",children:ne}),i.deathDate&&C.jsx("span",{className:"text-[10px] bg-gray-600 text-white px-1 rounded",children:v.rip})]})]})]})},yS=j.memo(gS,(i,t)=>i.person===t.person&&i.x===t.x&&i.y===t.y&&i.isSelected===t.isSelected&&i.viewMode===t.viewMode&&i.language===t.language&&i.editTrigger===t.editTrigger),vS=({data:i,viewport:t,setViewport:l,onUpdatePersonPosition:a,onMoveSelectedNodes:r,selectedPersonIds:f,onSelectPerson:p,onMultiSelect:g,language:y,viewMode:m,toolMode:v,scrollMode:T,editTrigger:E})=>{const A=j.useRef(null),[M,b]=j.useState(!1),[w,V]=j.useState({x:0,y:0}),[W,O]=j.useState(null),[X,ne]=j.useState({x:0,y:0}),oe=j.useRef(!1),[Y,ye]=j.useState(null),Z=j.useRef([]),he=j.useRef(-1),ce=m==="mini"?sc:Fl,Se=m==="mini"?ng:ac,_e=j.useCallback(x=>{var Q;if(T==="zoom"?!x.ctrlKey:x.ctrlKey){x.preventDefault();const J=x.deltaY*-.001,ae=Math.min(Math.max(.1,t.scale+J),3),Ne=(Q=A.current)==null?void 0:Q.getBoundingClientRect();if(Ne){const ve=x.clientX-Ne.left,Je=x.clientY-Ne.top,nt=(ve-t.x)/t.scale,je=(Je-t.y)/t.scale,xt=ve-nt*ae,dt=Je-je*ae;l({scale:ae,x:xt,y:dt})}else l(ve=>({...ve,scale:ae}))}else x.preventDefault(),l(ie=>({...ie,x:ie.x-x.deltaX,y:ie.y-x.deltaY}))},[t,l,T]);j.useEffect(()=>{const x=A.current;return x&&x.addEventListener("wheel",_e,{passive:!1}),()=>{x&&x.removeEventListener("wheel",_e)}},[_e]);const Ve=j.useCallback(x=>f.has(x.id)&&(X.x!==0||X.y!==0)?{x:x.x+X.x,y:x.y+X.y}:{x:x.x,y:x.y},[f,X]),ft=x=>{if(Z.current.push(x),x.target===A.current){if(Z.current.length===2){ye(null);return}const k=A.current.getBoundingClientRect(),F=x.clientX-k.left,Q=x.clientY-k.top;v===Di.SELECT?(x.target.setPointerCapture(x.pointerId),ye({startX:F,startY:Q,currentX:F,currentY:Q}),!x.shiftKey&&!x.ctrlKey&&p(null)):(b(!0),V({x:x.clientX,y:x.clientY}),p(null))}},G=x=>{var F;const k=Z.current.findIndex(Q=>Q.pointerId===x.pointerId);if(k>-1&&(Z.current[k]=x),Z.current.length===2){const Q=Z.current[0].clientX-Z.current[1].clientX,ie=Z.current[0].clientY-Z.current[1].clientY,J=Math.sqrt(Q*Q+ie*ie);if(he.current>0){const ae=J-he.current;let ve=t.scale+ae*.005;ve=Math.min(Math.max(.1,ve),3);const Je=(Z.current[0].clientX+Z.current[1].clientX)/2,nt=(Z.current[0].clientY+Z.current[1].clientY)/2,je=(F=A.current)==null?void 0:F.getBoundingClientRect(),xt=je?je.left:0,dt=je?je.top:0,qt=Je-xt,Mt=nt-dt,en=(qt-t.x)/t.scale,Yt=(Mt-t.y)/t.scale,vt=qt-en*ve,K=Mt-Yt*ve;l({scale:ve,x:vt,y:K})}he.current=J,b(!1),ye(null);return}if(Y&&Z.current.length<2&&A.current){const Q=A.current.getBoundingClientRect(),ie=x.clientX-Q.left,J=x.clientY-Q.top;ye(ae=>ae?{...ae,currentX:ie,currentY:J}:null);return}if(M&&Z.current.length<2){const Q=x.clientX-w.x,ie=x.clientY-w.y;l(J=>({...J,x:J.x+Q,y:J.y+ie})),V({x:x.clientX,y:x.clientY})}else if(W&&Z.current.length<2){const Q=(x.clientX-w.x)/t.scale,ie=(x.clientY-w.y)/t.scale;(Math.abs(Q)>1||Math.abs(ie)>1)&&(oe.current=!0),ne({x:Q,y:ie})}},$=x=>{const k=Z.current.findIndex(F=>F.pointerId===x.pointerId);if(k>-1&&Z.current.splice(k,1),Z.current.length<2&&(he.current=-1),Y){x.target.releasePointerCapture(x.pointerId);const F=Math.min(Y.startX,Y.currentX),Q=Math.min(Y.startY,Y.currentY),ie=Math.max(Y.startX,Y.currentX),J=Math.max(Y.startY,Y.currentY),ae=(F-t.x)/t.scale,Ne=(Q-t.y)/t.scale,ve=(ie-t.x)/t.scale,Je=(J-t.y)/t.scale,nt=new Set(x.shiftKey?f:[]);i.people.forEach(je=>{const xt=je.x+ce,dt=je.y+Se;je.x<ve&&xt>ae&&je.y<Je&&dt>Ne&&nt.add(je.id)}),nt.size>0?g(nt):x.shiftKey||p(null),ye(null)}W&&(oe.current?r(X.x,X.y):x.shiftKey),Z.current.length===1&&M?V({x:Z.current[0].clientX,y:Z.current[0].clientY}):b(!1),O(null),ne({x:0,y:0}),oe.current=!1},fe=j.useCallback((x,k)=>{x.stopPropagation(),!(Z.current.length>1)&&(oe.current=!1,O(k),V({x:x.clientX,y:x.clientY}))},[]),Re=j.useCallback((x,k,F)=>{p(k,x.shiftKey,F)},[p]),Me=()=>{const x=[],k=[],F=new Set,Q=(J,ae)=>[J,ae].sort().join("-");i.relationships.forEach(J=>{if(J.type==="spouse"){const ae=Q(J.sourceId,J.targetId);if(F.has(ae))return;F.add(ae);const Ne=i.people.find(Yt=>Yt.id===J.sourceId),ve=i.people.find(Yt=>Yt.id===J.targetId);if(!Ne||!ve)return;const Je=Ve(Ne),nt=Ve(ve),je=Je.x+ce/2,xt=Je.y+Se/2,dt=nt.x+ce/2,qt=nt.y+Se/2,Mt=(je+dt)/2,en=(xt+qt)/2;x.push(C.jsx("path",{d:`M ${je} ${xt} L ${dt} ${qt}`,stroke:"#94a3b8",strokeWidth:"3",fill:"none"},`spouse-line-${ae}`)),J.relationshipStatus==="divorced"?k.push(C.jsxs("g",{transform:`translate(${Mt}, ${en})`,children:[C.jsx("circle",{r:"8",fill:"#f4f1ea"}),C.jsx("line",{x1:"-3",y1:"-8",x2:"-8",y2:"8",stroke:"#ef4444",strokeWidth:"2"}),C.jsx("line",{x1:"8",y1:"-8",x2:"3",y2:"8",stroke:"#ef4444",strokeWidth:"2"})]},`spouse-divorced-${ae}`)):k.push(C.jsxs("g",{transform:`translate(${Mt}, ${en})`,children:[C.jsx("circle",{r:"12",fill:"white",stroke:"#64748b",strokeWidth:"2"}),C.jsx("path",{d:"M-4 0a3 3 0 1 1 5 0 M-1 0a3 3 0 1 0 5 0",stroke:"#64748b",strokeWidth:"1.5",fill:"none",strokeLinecap:"round"})]},`spouse-icon-${ae}`))}});const ie=new Map;return i.relationships.forEach(J=>{var ae;J.type==="parent"&&(ie.has(J.targetId)||ie.set(J.targetId,[]),(ae=ie.get(J.targetId))==null||ae.push(J.sourceId))}),ie.forEach((J,ae)=>{const Ne=i.people.find(vt=>vt.id===ae),ve=J.map(vt=>i.people.find(K=>K.id===vt)).filter(vt=>!!vt);if(!Ne||ve.length===0)return;const Je=Ve(Ne),nt=ve.map(vt=>Ve(vt));let je=0,xt=0;if(ve.length===1)je=nt[0].x+ce/2,xt=nt[0].y+Se;else{const vt=nt.reduce((be,pt)=>be+pt.x,0),K=nt.reduce((be,pt)=>be+pt.y,0);je=vt/ve.length+ce/2,xt=K/ve.length+Se/2}const dt=Je.x+ce/2,qt=Je.y,Mt=Math.max(...nt.map(vt=>vt.y))+Se;let en=Mt+30;Je.y>Mt+40&&(en=Mt+(Je.y-Mt)/2);const Yt=`M ${je} ${xt} V ${en} H ${dt} V ${qt}`;x.push(C.jsx("path",{d:Yt,stroke:"#334155",strokeWidth:"2",fill:"none",strokeLinejoin:"round"},`child-${ae}`))}),[...x,...k]};return C.jsxs("div",{ref:A,className:`w-full h-full relative overflow-hidden touch-none ${v===Di.PAN?"cursor-grab active:cursor-grabbing":"cursor-crosshair"}`,style:{backgroundColor:"#f4f1ea"},onPointerDown:ft,onPointerMove:G,onPointerUp:$,onPointerLeave:$,onPointerCancel:$,onPointerOut:$,children:[C.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:"radial-gradient(#475569 1px, transparent 1px)",backgroundSize:`${20*t.scale}px ${20*t.scale}px`,backgroundPosition:`${t.x}px ${t.y}px`}}),C.jsxs("div",{style:{transform:`translate(${t.x}px, ${t.y}px) scale(${t.scale})`,transformOrigin:"0 0",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:[C.jsx("svg",{className:"absolute top-0 left-0 w-full h-full overflow-visible pointer-events-none -z-10",children:Me()}),i.people.map(x=>{const k=f.has(x.id),F=k&&(X.x!==0||X.y!==0)?{x:x.x+X.x,y:x.y+X.y}:void 0;return C.jsx(yS,{person:x,x:F==null?void 0:F.x,y:F==null?void 0:F.y,isSelected:k,onSelect:Re,onMouseDown:fe,language:y,viewMode:m,editTrigger:E},x.id)})]}),Y&&C.jsx("div",{className:"absolute border border-blue-500 bg-blue-500/20 pointer-events-none z-50",style:{left:Math.min(Y.startX,Y.currentX),top:Math.min(Y.startY,Y.currentY),width:Math.abs(Y.currentX-Y.startX),height:Math.abs(Y.currentY-Y.startY)}})]})},Vu=({person:i,role:t,onUnlink:l,relationship:a,onUpdateRel:r,t:f})=>{const p=()=>{if(a&&r){const g=a.relationshipStatus==="divorced"?"married":"divorced";r(a.id,{relationshipStatus:g})}};return C.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-100 p-1.5 rounded-md mb-1 shadow-sm",children:[C.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-1",children:[C.jsx("img",{src:i.photoUrl||`https://ui-avatars.com/api/?name=${i.name}`,className:"w-5 h-5 rounded-full"}),C.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:i.name})]}),C.jsxs("div",{className:"flex items-center gap-1",children:[t==="Spouse"&&a&&r&&C.jsx("button",{onClick:p,className:`w-5 h-5 flex items-center justify-center rounded border transition-colors ${a.relationshipStatus==="divorced"?"border-red-300 bg-red-50 text-red-500":"border-blue-300 bg-blue-50 text-blue-500"}`,title:a.relationshipStatus==="divorced"?f.setMarried:f.setDivorced,children:a.relationshipStatus==="divorced"?C.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("line",{x1:"22",y1:"2",x2:"2",y2:"22"})}):C.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("circle",{cx:"8",cy:"12",r:"6"}),C.jsx("circle",{cx:"16",cy:"12",r:"6"})]})}),C.jsx("button",{onClick:l,className:"text-gray-400 hover:text-red-500 transition-colors p-1",title:`${f.remove} ${t}`,children:C.jsx("div",{className:"w-4 h-4 flex items-center justify-center border border-gray-300 rounded hover:border-red-400",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),C.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}),C.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"4",strokeWidth:"2",stroke:"red"})]})})})]})]})},zu=({options:i,value:t,onChange:l,placeholder:a,autoFocus:r,noResultsText:f})=>{const[p,g]=j.useState(!1),[y,m]=j.useState(""),v=j.useRef(null);j.useEffect(()=>{const E=i.find(A=>A.value===t);E?m(E.label):t||m("")},[t,i]),j.useEffect(()=>{const E=A=>{if(v.current&&!v.current.contains(A.target)){g(!1);const M=i.find(b=>b.value===t);m(M?M.label:"")}};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[t,i]);const T=i.filter(E=>E.label.toLowerCase().includes(y.toLowerCase()));return C.jsxs("div",{ref:v,className:"relative flex-1",children:[C.jsx("input",{type:"text",className:"w-full text-[10px] border border-gray-300 rounded px-2 py-1 focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:a,value:y,onChange:E=>{m(E.target.value),g(!0),t&&l("")},onFocus:()=>{g(!0),m("")},autoFocus:r}),p&&C.jsx("ul",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto left-0",children:T.length>0?T.map(E=>C.jsx("li",{onClick:()=>{l(E.value),g(!1)},className:"px-2 py-1.5 text-[10px] hover:bg-indigo-50 cursor-pointer text-gray-700 truncate",children:E.label},E.value)):C.jsx("li",{className:"px-2 py-1.5 text-[10px] text-gray-400 italic text-center",children:f})})]})},SS=({selectedPerson:i,allPeople:t,relationships:l,onUpdatePerson:a,onUpdateRelationship:r,onDeletePerson:f,onAddRelative:p,onLinkRelative:g,onUnlinkRelative:y,onTriggerLayout:m,isOpen:v,onClose:T,language:E})=>{const[A,M]=j.useState(null),b=Jo[E],[w,V]=j.useState(!1),[W,O]=j.useState(""),[X,ne]=j.useState(!1),[oe,Y]=j.useState(""),[ye,Z]=j.useState(!1),[he,ce]=j.useState(""),[Se,_e]=j.useState(!1),Ve=j.useRef(null),[ft,G]=j.useState({x:0,y:0}),[$,fe]=j.useState(!1),Re=j.useRef({x:0,y:0}),Me=j.useRef({x:0,y:0});j.useEffect(()=>{M(i),V(!1),O(""),ne(!1),Y(""),Z(!1),ce(""),_e(!1)},[i]);const x=j.useMemo(()=>{if(!A)return[];const K=t.filter(Ue=>Ue.id!==A.id),be=new Map(K.map(Ue=>[Ue.id,Ue])),pt=[],ht=new Set;return K.forEach(Ue=>{if(ht.has(Ue.id))return;const oi=l.filter(z=>z.type==="spouse"&&(z.sourceId===Ue.id||z.targetId===Ue.id)).map(z=>z.sourceId===Ue.id?z.targetId:z.sourceId).map(z=>be.get(z)).filter(z=>!!z);if(oi.length>0){const z=oi[0];pt.push({label:`${Ue.name} & ${z.name}`,value:`${Ue.id},${z.id}`}),ht.add(Ue.id),ht.add(z.id)}else pt.push({label:Ue.name,value:Ue.id}),ht.add(Ue.id)}),pt.sort((Ue,ji)=>Ue.label.localeCompare(ji.label))},[t,l,A]);if(!v||!A)return null;const k=l.filter(K=>K.type==="parent"&&K.targetId===A.id).map(K=>t.find(be=>be.id===K.sourceId)).filter(K=>!!K),F=l.filter(K=>K.type==="spouse"&&(K.sourceId===A.id||K.targetId===A.id)).map(K=>{const be=K.sourceId===A.id?K.targetId:K.sourceId;return{person:t.find(ht=>ht.id===be),relationship:K}}).filter(K=>!!K.person),Q=l.filter(K=>K.type==="parent"&&K.sourceId===A.id).map(K=>t.find(be=>be.id===K.targetId)).filter(K=>!!K),ie=t.filter(K=>K.id!==A.id).map(K=>({label:K.name,value:K.id})).sort((K,be)=>K.label.localeCompare(be.label)),J=t.filter(K=>K.id!==A.id).map(K=>({label:K.name,value:K.id})).sort((K,be)=>K.label.localeCompare(be.label)),ae=K=>{K.preventDefault(),fe(!0),Re.current={x:K.clientX,y:K.clientY},Me.current={...ft},K.currentTarget.setPointerCapture(K.pointerId)},Ne=K=>{if(!$)return;const be=K.clientX-Re.current.x,pt=K.clientY-Re.current.y;G({x:Me.current.x+be,y:Me.current.y+pt})},ve=K=>{fe(!1),K.currentTarget.releasePointerCapture(K.pointerId)},Je=K=>{const{name:be,value:pt}=K.target;M(ht=>ht?{...ht,[be]:pt}:null)},nt=(K,be)=>{const pt=parseInt(K.target.value);M(ht=>ht?{...ht,[be==="left"?"customLeftGap":"customRightGap"]:pt}:null)},je=K=>{var pt;const be=(pt=K.target.files)==null?void 0:pt[0];if(be){const ht=new FileReader;ht.onloadend=()=>{M(Ue=>Ue?{...Ue,photoUrl:ht.result}:null)},ht.readAsDataURL(be)}},xt=()=>{M(K=>K?{...K,photoUrl:void 0}:null),Ve.current&&(Ve.current.value="")},dt=()=>{A&&a(A)},qt=()=>{A&&(a(A),setTimeout(()=>m(),50))},Mt=()=>A.photoUrl?A.photoUrl:`https://ui-avatars.com/api/?name=${encodeURIComponent(A.name)}&background=random`,en=()=>{W&&A&&(g(A.id,W,"spouse"),V(!1),O(""))},Yt=()=>{oe&&A&&(oe.split(",").forEach(be=>{k.some(ht=>ht.id===be)||g(A.id,be,"parent")}),ne(!1),Y(""))},vt=()=>{he&&A&&(g(A.id,he,"child"),Z(!1),ce(""))};return C.jsxs("div",{className:"absolute top-16 md:top-4 right-2 md:right-4 w-72 md:w-80 bg-white rounded-xl shadow-2xl border border-gray-200 flex flex-col z-50 animate-fade-in-right transition-shadow",style:{transform:`translate(${ft.x}px, ${ft.y}px)`,touchAction:"none"},children:[C.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-100 cursor-move bg-gray-50 rounded-t-xl active:bg-gray-100 flex-shrink-0",onPointerDown:ae,onPointerMove:Ne,onPointerUp:ve,children:[C.jsxs("h2",{className:"text-base font-bold text-gray-800 flex items-center gap-2",children:[C.jsx(qe.Move,{className:"w-4 h-4 text-gray-400"}),C.jsx(qe.User,{className:"w-4 h-4 text-indigo-600"}),b.editDetails]}),C.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-200",onPointerDown:K=>K.stopPropagation(),children:C.jsx(qe.X,{className:"w-5 h-5"})})]}),C.jsxs("div",{className:"p-3 space-y-3 overflow-y-auto max-h-[55vh] md:max-h-[65vh] no-scrollbar flex-1",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("div",{className:"relative group w-16 h-16 flex-shrink-0",children:[C.jsx("img",{src:Mt(),alt:"Profile",className:`w-full h-full rounded-full object-cover border-2 border-white shadow-md bg-gray-100 ${A.deathDate?"grayscale":""}`}),C.jsx("button",{onClick:()=>{var K;return(K=Ve.current)==null?void 0:K.click()},className:"absolute inset-0 flex items-center justify-center bg-black/40 text-white opacity-0 group-hover:opacity-100 rounded-full transition-opacity duration-200 cursor-pointer",children:C.jsx(qe.Camera,{className:"w-6 h-6"})}),C.jsx("input",{type:"file",ref:Ve,onChange:je,accept:"image/*",className:"hidden"})]}),C.jsx("div",{className:"flex flex-col items-start",children:C.jsxs("div",{className:"space-y-1 w-full",children:[C.jsx("input",{type:"text",name:"name",value:A.name,onChange:Je,className:"w-full px-2 py-1 border rounded text-sm font-bold focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:b.fullName}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>{var K;return(K=Ve.current)==null?void 0:K.click()},className:"text-[10px] bg-blue-50 text-blue-600 px-2 py-0.5 rounded border border-blue-100 hover:bg-blue-100",children:b.changePhoto}),A.photoUrl&&C.jsx("button",{onClick:xt,className:"text-[10px] bg-red-50 text-red-500 px-2 py-0.5 rounded border border-red-100 hover:bg-red-100",children:b.remove})]})]})})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-xs font-medium text-gray-500",children:b.gender}),C.jsxs("select",{name:"gender",value:A.gender,onChange:Je,className:"w-full px-2 py-1.5 border rounded-md text-sm",children:[C.jsx("option",{value:"male",children:b.male}),C.jsx("option",{value:"female",children:b.female}),C.jsx("option",{value:"other",children:b.other})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase",children:b.birthDate}),C.jsx("input",{type:"date",name:"birthDate",value:A.birthDate,onChange:Je,className:"w-full px-2 py-1 border rounded-md text-xs"})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase",children:b.birthPlace}),C.jsx("input",{type:"text",name:"birthPlace",placeholder:E==="id"?"Kota":"City",value:A.birthPlace||"",onChange:Je,className:"w-full px-2 py-1 border rounded-md text-xs"})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-gray-50 p-2 rounded-md border border-gray-100",children:[C.jsx("div",{className:"col-span-2 text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:b.deceasedInfo}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500",children:b.deathDate}),C.jsx("input",{type:"date",name:"deathDate",value:A.deathDate||"",onChange:Je,className:"w-full px-2 py-1 border rounded-md text-xs bg-white"})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500",children:b.deathPlace}),C.jsx("input",{type:"text",name:"deathPlace",placeholder:E==="id"?"Kota":"City",value:A.deathPlace||"",onChange:Je,className:"w-full px-2 py-1 border rounded-md text-xs bg-white"})]})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-xs font-medium text-gray-500",children:b.notes}),C.jsx("textarea",{name:"notes",value:A.notes||"",onChange:Je,rows:2,placeholder:"...",className:"w-full px-2 py-1 border rounded-md text-xs resize-none focus:ring-1 focus:ring-blue-500"})]}),C.jsxs("div",{className:"pt-2 border-t border-gray-100 space-y-2",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-xs font-medium text-gray-500",children:b.customLeftGap}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"range",min:"0",max:"500",step:"10",value:A.customLeftGap||0,onChange:K=>nt(K,"left"),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),C.jsx("span",{className:"text-xs font-mono w-8 text-right",children:A.customLeftGap&&A.customLeftGap>0?A.customLeftGap:"Auto"})]})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-xs font-medium text-gray-500",children:b.customRightGap}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"range",min:"0",max:"500",step:"10",value:A.customRightGap||0,onChange:K=>nt(K,"right"),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),C.jsx("span",{className:"text-xs font-mono w-8 text-right",children:A.customRightGap&&A.customRightGap>0?A.customRightGap:"Auto"})]})]}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("p",{className:"text-[9px] text-gray-400 italic",children:"*Jarak dengan kartu/grup di sebelah Kiri/Kanan."}),C.jsx("button",{onClick:qt,className:"text-[10px] bg-gray-100 hover:bg-gray-200 text-gray-600 px-2 py-1 rounded border border-gray-300 transition-colors",children:b.applyLayout})]})]}),C.jsxs("div",{className:"pt-2 border-t border-gray-100 space-y-2",children:[C.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:b.familyConnections}),C.jsxs("div",{className:"bg-gray-50 p-1.5 rounded-lg border border-gray-100",children:[C.jsxs("div",{className:"text-[10px] font-medium text-gray-500 mb-1 flex justify-between px-1",children:[C.jsx("span",{children:b.parentsList}),C.jsx("span",{className:"bg-gray-200 px-1 rounded text-gray-600",children:k.length})]}),k.map(K=>C.jsx(Vu,{person:K,role:"Parent",onUnlink:()=>y(A.id,K.id),t:b},K.id)),X?C.jsx("div",{className:"bg-white p-1.5 rounded border border-blue-100 shadow-sm animate-fade-in relative z-10",children:C.jsxs("div",{className:"space-y-1.5",children:[C.jsxs("button",{onClick:()=>{p(A.id,"parent"),ne(!1)},className:"w-full text-left px-2 py-1 text-[10px] bg-blue-50 text-blue-700 rounded hover:bg-blue-100 font-medium",children:["+ ",b.createNewParent]}),C.jsxs("div",{className:"flex gap-1 items-start",children:[C.jsx(zu,{options:x,value:oe,onChange:Y,placeholder:b.searchSelectPlaceholder,noResultsText:b.noResults,autoFocus:!0}),C.jsx("button",{onClick:Yt,disabled:!oe,className:"px-2 py-1 bg-blue-600 text-white text-[10px] rounded disabled:opacity-50 h-full",children:"OK"})]}),C.jsx("button",{onClick:()=>ne(!1),className:"w-full text-center text-[10px] text-gray-400 hover:text-gray-600",children:b.cancel})]})}):C.jsxs("button",{onClick:()=>ne(!0),className:"w-full flex items-center justify-center gap-1 py-1 border border-dashed border-blue-300 rounded text-[10px] text-blue-600 hover:bg-blue-50",children:[C.jsx(qe.Plus,{className:"w-3 h-3"})," ",b.addLinkParent]})]}),C.jsxs("div",{className:"bg-gray-50 p-1.5 rounded-lg border border-gray-100",children:[C.jsxs("div",{className:"text-[10px] font-medium text-gray-500 mb-1 flex justify-between px-1",children:[C.jsx("span",{children:b.spousesList}),C.jsx("span",{className:"bg-gray-200 px-1 rounded text-gray-600",children:F.length})]}),F.map(({person:K,relationship:be})=>C.jsx(Vu,{person:K,role:"Spouse",onUnlink:()=>y(A.id,K.id),relationship:be,onUpdateRel:r,t:b},K.id)),w?C.jsx("div",{className:"bg-white p-1.5 rounded border border-pink-100 shadow-sm animate-fade-in relative z-10",children:C.jsxs("div",{className:"space-y-1.5",children:[C.jsxs("button",{onClick:()=>{p(A.id,"spouse"),V(!1)},className:"w-full text-left px-2 py-1 text-[10px] bg-pink-50 text-pink-700 rounded hover:bg-pink-100 font-medium",children:["+ ",b.createNewSpouse]}),C.jsxs("div",{className:"flex gap-1 items-start",children:[C.jsx(zu,{options:ie,value:W,onChange:O,placeholder:b.searchSelectPlaceholder,noResultsText:b.noResults,autoFocus:!0}),C.jsx("button",{onClick:en,disabled:!W,className:"px-2 py-1 bg-pink-600 text-white text-[10px] rounded disabled:opacity-50 h-full",children:"OK"})]}),C.jsx("button",{onClick:()=>V(!1),className:"w-full text-center text-[10px] text-gray-400 hover:text-gray-600",children:b.cancel})]})}):C.jsxs("button",{onClick:()=>V(!0),className:"w-full flex items-center justify-center gap-1 py-1 border border-dashed border-pink-300 rounded text-[10px] text-pink-600 hover:bg-pink-50",children:[C.jsx(qe.Plus,{className:"w-3 h-3"})," ",b.addLinkSpouse]})]}),C.jsxs("div",{className:"bg-gray-50 p-1.5 rounded-lg border border-gray-100",children:[C.jsxs("div",{className:"text-[10px] font-medium text-gray-500 mb-1 flex justify-between px-1",children:[C.jsx("span",{children:b.childrenList}),C.jsx("span",{className:"bg-gray-200 px-1 rounded text-gray-600",children:Q.length})]}),Q.map(K=>C.jsx(Vu,{person:K,role:"Child",onUnlink:()=>y(A.id,K.id),t:b},K.id)),ye?C.jsx("div",{className:"bg-white p-1.5 rounded border border-green-100 shadow-sm animate-fade-in relative z-10",children:C.jsxs("div",{className:"space-y-1.5",children:[C.jsxs("button",{onClick:()=>{p(A.id,"child"),Z(!1)},className:"w-full text-left px-2 py-1 text-[10px] bg-green-50 text-green-700 rounded hover:bg-green-100 font-medium",children:["+ ",b.createNewChild]}),C.jsxs("div",{className:"flex gap-1 items-start",children:[C.jsx(zu,{options:J,value:he,onChange:ce,placeholder:b.searchSelectPlaceholder,noResultsText:b.noResults,autoFocus:!0}),C.jsx("button",{onClick:vt,disabled:!he,className:"px-2 py-1 bg-green-600 text-white text-[10px] rounded disabled:opacity-50 h-full",children:"OK"})]}),C.jsx("button",{onClick:()=>Z(!1),className:"w-full text-center text-[10px] text-gray-400 hover:text-gray-600",children:b.cancel})]})}):C.jsxs("button",{onClick:()=>Z(!0),className:"w-full flex items-center justify-center gap-1 py-1 border border-dashed border-green-300 rounded text-[10px] text-green-600 hover:bg-green-50",children:[C.jsx(qe.Plus,{className:"w-3 h-3"})," ",b.addLinkChild]})]})]})]}),C.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50 rounded-b-xl flex-shrink-0",children:Se?C.jsxs("div",{className:"flex gap-2 animate-fade-in",children:[C.jsx("button",{type:"button",onClick:()=>{f(A.id),_e(!1)},className:"flex-1 bg-red-600 text-white py-1.5 rounded-md hover:bg-red-700 transition font-medium text-xs shadow-sm",children:b.confirmDelete}),C.jsx("button",{type:"button",onClick:()=>_e(!1),className:"px-3 py-1.5 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition text-xs font-medium",children:b.cancel})]}):C.jsxs("div",{className:"flex gap-2",children:[C.jsxs("button",{type:"button",onClick:dt,className:"flex-1 bg-indigo-600 text-white py-1.5 rounded-md hover:bg-indigo-700 transition font-medium text-xs flex items-center justify-center gap-2",children:[C.jsx(qe.Save,{className:"w-3 h-3"})," ",b.save]}),C.jsx("button",{type:"button",onClick:()=>_e(!0),className:"px-2 py-1.5 text-red-600 bg-red-50 hover:bg-red-100 rounded-md transition flex items-center justify-center",title:b.deletePerson,children:C.jsx(qe.Trash2,{className:"w-4 h-4"})})]})})]})};var TS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ES,_S;function CS(){return{geminiUrl:ES,vertexUrl:_S}}function AS(i,t,l,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=CS();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ni{}function te(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let m=0;m<y.length;m++){const v=y[m];c(v,t.slice(f+1),l[m])}else for(const m of y)c(m,t.slice(f+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function xS(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const m=f[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}Fu(i,r,f,0,p)}}function Fu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Fu(y,t,l,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=p[m];for(const[m,v]of Object.entries(y)){const T=[];for(const E of l.slice(a))E==="*"?T.push(m):T.push(E);c(p,T,v)}for(const m of g)delete p[m]}}else{const p=i;f in p&&Fu(p[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NS(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function RS(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],bS(p)),t}function MS(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],IS(p)),t}function bS(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>wS(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function IS(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>DS(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function wS(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],PS(l)),t}function DS(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],qS(l)),t}function US(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function LS(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function GS(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],kS(p)),t}function kS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function ig(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],HS(p)),t}function HS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function PS(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],rc(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function qS(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],rc(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Eh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Eh||(Eh={}));var _h;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(_h||(_h={}));var Ch;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Ch||(Ch={}));var ct;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ct||(ct={}));var Ah;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Ah||(Ah={}));var xh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xh||(xh={}));var Nh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Nh||(Nh={}));var Rh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Rh||(Rh={}));var Mh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Mh||(Mh={}));var bh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(bh||(bh={}));var Ih;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ih||(Ih={}));var wh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(wh||(wh={}));var Dh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Dh||(Dh={}));var Uh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Uh||(Uh={}));var Lh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Lh||(Lh={}));var Gh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Gh||(Gh={}));var kh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(kh||(kh={}));var Hh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Hh||(Hh={}));var Ph;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ph||(Ph={}));var fs;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(fs||(fs={}));var qh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qh||(qh={}));var Vh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vh||(Vh={}));var zh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zh||(zh={}));var Ju;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ju||(Ju={}));var Bh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Bh||(Bh={}));var Oh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Oh||(Oh={}));var Yh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Yh||(Yh={}));var Fh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Fh||(Fh={}));var Jh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Jh||(Jh={}));var Xh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Xh||(Xh={}));var Kh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Kh||(Kh={}));var Qh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Qh||(Qh={}));var Zh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Zh||(Zh={}));var $h;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})($h||($h={}));var Wh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Wh||(Wh={}));var jh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jh||(jh={}));var em;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(em||(em={}));var tm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(tm||(tm={}));var nm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(nm||(nm={}));var im;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(im||(im={}));var om;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(om||(om={}));var lm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(lm||(lm={}));var am;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(am||(am={}));var sm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(sm||(sm={}));var rm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(rm||(rm={}));var um;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(um||(um={}));var cm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(cm||(cm={}));var fm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(fm||(fm={}));var dm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(dm||(dm={}));var pm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(pm||(pm={}));var hm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hm||(hm={}));var mm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(mm||(mm={}));var gm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gm||(gm={}));var ym;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ym||(ym={}));var vm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(vm||(vm={}));var Bo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Bo||(Bo={}));class Xu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Ol{get text(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const T=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,M]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(M!==null||M!==void 0)&&T.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const T of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(T))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,l,a,r,f,p,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,a,r,f,p,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Sm{}class Tm{}class VS{}class zS{}class BS{}class OS{}class Em{}class _m{}class Cm{}class YS{}class ds{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new ds;let r;const f=t;return l?r=MS(f):r=RS(f),Object.assign(a,r),a}}class Am{}class xm{}class Nm{}class Rm{}class FS{}class JS{}class XS{}class uc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new uc,f=GS(t);return Object.assign(a,f),a}}class KS{}class QS{}class ZS{}class Mm{}class $S{get text(){var t,l,a;let r="",f=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class WS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class cc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new cc,f=ig(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function og(i,t){const l=Ye(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function lg(i){return Array.isArray(i)?i.map(t=>ps(t)):[ps(i)]}function ps(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function ag(i){const t=ps(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function sg(i){const t=ps(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function bm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function rg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>bm(t)):[bm(i)]}function Ku(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Im(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function wm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Pt(i){if(i==null)throw new Error("ContentUnion is required");return Ku(i)?i:{role:"user",parts:rg(i)}}function fc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=Pt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=Pt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>Pt(l)):[Pt(t)]}function _n(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Im(i)||wm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pt(i)]}const t=[],l=[],a=Ku(i[0]);for(const r of i){const f=Ku(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Im(r)||wm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:rg(l)}),t}function jS(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(ct).includes(l[0].toUpperCase())?l[0].toUpperCase():ct.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(ct).includes(a.toUpperCase())?a.toUpperCase():ct.TYPE_UNSPECIFIED})}}function Yo(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&jS(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ct).includes(g.toUpperCase())?g.toUpperCase():ct.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=Yo(g);else if(a.includes(p)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(Yo(m))}t[p]=y}else if(r.includes(p)){const y={};for(const[m,v]of Object.entries(g))y[m]=Yo(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function dc(i){return Yo(i)}function pc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function hc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Xo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Yo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Yo(t.response));return i}function Ko(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function eT(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function ii(i,t){if(typeof t!="string")throw new Error("name must be a string");return eT(i,t,"cachedContents")}function ug(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Ui(i){return rc(i)}function tT(i){return i!=null&&typeof i=="object"&&"name"in i}function nT(i){return i!=null&&typeof i=="object"&&"video"in i}function iT(i){return i!=null&&typeof i=="object"&&"uri"in i}function cg(i){var t;let l;if(tT(i)&&(l=i.name),!(iT(i)&&(l=i.uri,l===void 0))&&!(nT(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function fg(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function dg(i){for(const t of["models","tunedModels","publisherModels"])if(oT(i,t))return i[t];return[]}function oT(i,t){return i!==null&&typeof i=="object"&&t in i}function lT(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function aT(i,t={}){const l=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=lT(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function pg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function sT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function hg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Qo(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function mg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rT(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>BT(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function uT(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function cT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function us(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],mg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const m=u(i,["metadata","output"]);return m!=null&&c(t,["dest"],rT(hg(m))),t}function Qu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],mg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(t,["updateTime"],m);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],fT(T));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],uT(hg(E)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function fT(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function dT(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>zT(i,p))),c(l,["requests","requests"],f)}return l}function pT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function hT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function mT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Qo(i,a)),l}function gT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Qo(i,a)),l}function yT(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],vT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function vT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function gg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>QT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function ST(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function TT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],cT(sT(r))),l}function Dm(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],dT(i,pg(i,r)));const f=u(t,["config"]);return f!=null&&ST(f,l),l}function ET(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Ye(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],pT(pg(i,r)));const f=u(t,["config"]);return f!=null&&TT(f,l),l}function _T(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function CT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],IT(i,r));const f=u(t,["config"]);return f!=null&&_T(f,l),l}function AT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Qo(i,a)),l}function xT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Qo(i,a)),l}function NT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function RT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function MT(i,t){const l={},a=u(t,["contents"]);if(a!=null){let f=fc(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],bT(r,l)),xS(l,{"requests[].*":"requests[].request.*"})),l}function bT(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function IT(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],MT(i,r)),l}function wT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function DT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function UT(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function LT(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],gg(Pt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const b=u(t,["seed"]);b!=null&&c(a,["seed"],b);const w=u(t,["responseMimeType"]);w!=null&&c(a,["responseMimeType"],w);const V=u(t,["responseSchema"]);V!=null&&c(a,["responseSchema"],dc(V));const W=u(t,["responseJsonSchema"]);if(W!=null&&c(a,["responseJsonSchema"],W),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(l!==void 0&&O!=null){let _e=O;Array.isArray(_e)&&(_e=_e.map(Ve=>ZT(Ve))),c(l,["safetySettings"],_e)}const X=u(t,["tools"]);if(l!==void 0&&X!=null){let _e=Ko(X);Array.isArray(_e)&&(_e=_e.map(Ve=>WT(Xo(Ve)))),c(l,["tools"],_e)}const ne=u(t,["toolConfig"]);if(l!==void 0&&ne!=null&&c(l,["toolConfig"],$T(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=u(t,["cachedContent"]);l!==void 0&&oe!=null&&c(l,["cachedContent"],ii(i,oe));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const ye=u(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const Z=u(t,["speechConfig"]);if(Z!=null&&c(a,["speechConfig"],pc(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(t,["thinkingConfig"]);he!=null&&c(a,["thinkingConfig"],he);const ce=u(t,["imageConfig"]);ce!=null&&c(a,["imageConfig"],VT(ce));const Se=u(t,["enableEnhancedCivicAnswers"]);return Se!=null&&c(a,["enableEnhancedCivicAnswers"],Se),a}function GT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>yT(m))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function kT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Qo(i,a)),l}function HT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Qo(i,a)),l}function PT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function qT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function VT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function zT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Ye(i,a));const r=u(t,["contents"]);if(r!=null){let g=_n(r);Array.isArray(g)&&(g=g.map(y=>gg(y))),c(l,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(l,["request","generationConfig"],LT(i,p,u(l,["request"],{}))),l}function BT(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],GT(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function OT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function YT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function FT(i){const t={},l=u(i,["config"]);return l!=null&&OT(l,t),t}function JT(i){const t={},l=u(i,["config"]);return l!=null&&YT(l,t),t}function XT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>us(p))),c(t,["batchJobs"],f)}return t}function KT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Qu(p))),c(t,["batchJobs"],f)}return t}function QT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],wT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],DT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],hT(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function ZT(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function $T(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],UT(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function WT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],PT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],qT(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ti;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(ti||(ti={}));class Wi{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jT extends ni{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Wi(ti.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Dm(this.apiClient,t),a=l._url,r=te("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const A=T.request;A.systemInstruction=E,T.request=A}m.push(T)}return g.requests=m,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=ET(this.apiClient,t);return g=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Qu(v))}else{const m=Dm(this.apiClient,t);return g=te("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>us(v))}}async createEmbeddingsInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CT(this.apiClient,t);return f=te("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>us(y))}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=HT(this.apiClient,t);return g=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Qu(v))}else{const m=kT(this.apiClient,t);return g=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>us(v))}}async cancel(t){var l,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=gT(this.apiClient,t);p=te("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=mT(this.apiClient,t);p=te("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=JT(t);return g=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=KT(v),E=new Mm;return Object.assign(E,T),E})}else{const m=FT(t);return g=te("batches",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=XT(v),E=new Mm;return Object.assign(E,T),E})}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=xT(this.apiClient,t);return g=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>RT(v))}else{const m=AT(this.apiClient,t);return g=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>NT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eE(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Um(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>CE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function tE(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=_n(p);Array.isArray(v)&&(v=v.map(T=>Um(T))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Um(Pt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>xE(T))),c(t,["tools"],v)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&c(t,["toolConfig"],AE(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function nE(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let T=_n(p);Array.isArray(T)&&(T=T.map(E=>E)),c(t,["contents"],T)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Pt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>NE(E))),c(t,["tools"],T)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&c(t,["toolConfig"],m);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function iE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],og(i,a));const r=u(t,["config"]);return r!=null&&tE(r,l),l}function oE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],og(i,a));const r=u(t,["config"]);return r!=null&&nE(r,l),l}function lE(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ii(i,a)),l}function aE(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ii(i,a)),l}function sE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function rE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function uE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function cE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function fE(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function dE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function pE(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ii(i,a)),l}function hE(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],ii(i,a)),l}function mE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function gE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function yE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function vE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function SE(i){const t={},l=u(i,["config"]);return l!=null&&yE(l,t),t}function TE(i){const t={},l=u(i,["config"]);return l!=null&&vE(l,t),t}function EE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function _E(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function CE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],uE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],cE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],eE(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function AE(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],fE(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function xE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],mE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],gE(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function NE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>dE(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function RE(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function ME(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function bE(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],ii(i,a));const r=u(t,["config"]);return r!=null&&RE(r,l),l}function IE(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],ii(i,a));const r=u(t,["config"]);return r!=null&&ME(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wE extends ni{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Wi(ti.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=oE(this.apiClient,t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=iE(this.apiClient,t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=hE(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=pE(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=aE(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=rE(v),E=new Nm;return Object.assign(E,T),E})}else{const m=lE(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=sE(v),E=new Nm;return Object.assign(E,T),E})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=IE(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=bE(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=TE(t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=_E(v),E=new Rm;return Object.assign(E,T),E})}else{const m=SE(t);return g=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=EE(v),E=new Rm;return Object.assign(E,T),E})}}}function hs(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Lm(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(i){return this instanceof Te?(this.v=i,this):new Te(i)}function bn(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(M){return Promise.resolve(M).then(A,T)}}function g(A,M){a[A]&&(r[A]=function(b){return new Promise(function(w,V){f.push([A,b,w,V])>1||y(A,b)})},M&&(r[A]=M(r[A])))}function y(A,M){try{m(a[A](M))}catch(b){E(f[0][3],b)}}function m(A){A.value instanceof Te?Promise.resolve(A.value.v).then(v,T):E(f[0][2],A)}function v(A){y("next",A)}function T(A){y("throw",A)}function E(A,M){A(M),f.shift(),f.length&&y(f[0][0],f[0][1])}}function In(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Lm=="function"?Lm(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(m){f({value:m,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DE(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:yg(l)}function yg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function UE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Gm(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),f&&!yg(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class LE{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new GE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class GE{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),UE(f)}async sendMessage(t){var l;await this.sendPromise;const a=Pt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,m=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(T))!==null&&g!==void 0?g:[]);const A=m?[m]:[];this.recordHistory(a,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=Pt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?Gm(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return bn(this,arguments,function*(){var r,f,p,g,y,m;const v=[];try{for(var T=!0,E=In(t),A;A=yield Te(E.next()),r=A.done,!r;T=!0){g=A.value,T=!1;const M=g;if(DE(M)){const b=(m=(y=M.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;b!==void 0&&v.push(b)}yield yield Te(M)}}catch(M){f={error:M}}finally{try{!T&&!r&&(p=E.return)&&(yield Te(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Gm(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ys extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ys.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kE(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function HE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function PE(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],cg(l)),t}function qE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function VE(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],cg(l)),t}function zE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function BE(i){const t={},l=u(i,["config"]);return l!=null&&zE(l,t),t}function OE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YE extends ni{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Wi(ti.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=BE(t);return f=te("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=OE(y),v=new KS;return Object.assign(v,m),v})}}async createInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=kE(t);return f=te("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=HE(y),v=new QS;return Object.assign(v,m),v})}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VE(t);return f=te("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PE(t);return f=te("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=qE(y),v=new ZS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cs(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function FE(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>s_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function JE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function XE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function KE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function QE(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const M=u(i,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const b=u(i,["responseSchema"]);b!=null&&c(t,["responseSchema"],b);const w=u(i,["routingConfig"]);w!=null&&c(t,["routingConfig"],w);const V=u(i,["seed"]);V!=null&&c(t,["seed"],V);const W=u(i,["speechConfig"]);W!=null&&c(t,["speechConfig"],vg(W));const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const X=u(i,["temperature"]);X!=null&&c(t,["temperature"],X);const ne=u(i,["thinkingConfig"]);ne!=null&&c(t,["thinkingConfig"],ne);const oe=u(i,["topK"]);oe!=null&&c(t,["topK"],oe);const Y=u(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ZE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function $E(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function WE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],hc(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],FE(Pt(M)));const b=u(i,["tools"]);if(t!==void 0&&b!=null){let oe=Ko(b);Array.isArray(oe)&&(oe=oe.map(Y=>u_(Xo(Y)))),c(t,["setup","tools"],oe)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&c(t,["setup","sessionResumption"],r_(w));const V=u(i,["inputAudioTranscription"]);t!==void 0&&V!=null&&c(t,["setup","inputAudioTranscription"],V);const W=u(i,["outputAudioTranscription"]);t!==void 0&&W!=null&&c(t,["setup","outputAudioTranscription"],W);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&c(t,["setup","contextWindowCompression"],X);const ne=u(i,["proactivity"]);if(t!==void 0&&ne!=null&&c(t,["setup","proactivity"],ne),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function jE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],QE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],vg(hc(T)));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],Pt(M));const b=u(i,["tools"]);if(t!==void 0&&b!=null){let Y=Ko(b);Array.isArray(Y)&&(Y=Y.map(ye=>c_(Xo(ye)))),c(t,["setup","tools"],Y)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&c(t,["setup","sessionResumption"],w);const V=u(i,["inputAudioTranscription"]);t!==void 0&&V!=null&&c(t,["setup","inputAudioTranscription"],V);const W=u(i,["outputAudioTranscription"]);t!==void 0&&W!=null&&c(t,["setup","outputAudioTranscription"],W);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&c(t,["setup","contextWindowCompression"],X);const ne=u(i,["proactivity"]);t!==void 0&&ne!=null&&c(t,["setup","proactivity"],ne);const oe=u(i,["explicitVadSignal"]);return t!==void 0&&oe!=null&&c(t,["setup","explicitVadSignal"],oe),l}function e_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ye(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],WE(r,l)),l}function t_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ye(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],jE(r,l)),l}function n_(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function i_(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function o_(i){const t={},l=u(i,["media"]);if(l!=null){let m=lg(l);Array.isArray(m)&&(m=m.map(v=>cs(v))),c(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],cs(sg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],cs(ag(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function l_(i){const t={},l=u(i,["media"]);if(l!=null){let m=lg(l);Array.isArray(m)&&(m=m.map(v=>v)),c(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],sg(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],ag(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function a_(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],f_(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const m=u(i,["voiceActivityDetectionSignal"]);return m!=null&&c(t,["voiceActivityDetectionSignal"],m),t}function s_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],JE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],XE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],cs(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function r_(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function vg(i){const t={},l=u(i,["voiceConfig"]);l!=null&&c(t,["voiceConfig"],l);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function u_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],ZE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],$E(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function c_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>KE(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function f_(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["promptTokensDetails"],A)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["responseTokensDetails"],A)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(M=>M)),c(t,["toolUsePromptTokensDetails"],A)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d_(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function p_(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],h_(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function h_(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function m_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["contents"]);if(r!=null){let f=_n(r);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["contents"],f)}return l}function g_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function y_(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],v_(a)),t}function v_(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function vs(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>RC(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function S_(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function T_(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function E_(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],Pt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Cg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],dC(f)),l}function __(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["contents"]);if(r!=null){let p=_n(r);Array.isArray(p)&&(p=p.map(g=>vs(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&T_(f),l}function C_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["contents"]);if(r!=null){let p=_n(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&E_(f,l),l}function A_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function x_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function N_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ye(i,a)),l}function R_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ye(i,a)),l}function M_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function b_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function I_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const M=u(i,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const b=u(i,["outputCompressionQuality"]);t!==void 0&&b!=null&&c(t,["parameters","outputOptions","compressionQuality"],b);const w=u(i,["addWatermark"]);t!==void 0&&w!=null&&c(t,["parameters","addWatermark"],w);const V=u(i,["labels"]);t!==void 0&&V!=null&&c(t,["labels"],V);const W=u(i,["editMode"]);t!==void 0&&W!=null&&c(t,["parameters","editMode"],W);const O=u(i,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),l}function w_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>UC(y))),c(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&I_(p,l),l}function D_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Ss(f))),c(t,["generatedImages"],r)}return t}function U_(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function L_(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function G_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["contents"]);if(r!=null){let g=fc(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&U_(f,l);const p=u(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],Ye(i,p)),l}function k_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["contents"]);if(r!=null){let p=fc(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&L_(f,l),l}function H_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function P_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>y_(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function q_(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function V_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function z_(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function B_(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function O_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function Y_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],vs(Pt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const b=u(t,["seed"]);b!=null&&c(a,["seed"],b);const w=u(t,["responseMimeType"]);w!=null&&c(a,["responseMimeType"],w);const V=u(t,["responseSchema"]);V!=null&&c(a,["responseSchema"],dc(V));const W=u(t,["responseJsonSchema"]);if(W!=null&&c(a,["responseJsonSchema"],W),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(l!==void 0&&O!=null){let _e=O;Array.isArray(_e)&&(_e=_e.map(Ve=>LC(Ve))),c(l,["safetySettings"],_e)}const X=u(t,["tools"]);if(l!==void 0&&X!=null){let _e=Ko(X);Array.isArray(_e)&&(_e=_e.map(Ve=>zC(Xo(Ve)))),c(l,["tools"],_e)}const ne=u(t,["toolConfig"]);if(l!==void 0&&ne!=null&&c(l,["toolConfig"],VC(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=u(t,["cachedContent"]);l!==void 0&&oe!=null&&c(l,["cachedContent"],ii(i,oe));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const ye=u(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const Z=u(t,["speechConfig"]);if(Z!=null&&c(a,["speechConfig"],pc(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(t,["thinkingConfig"]);he!=null&&c(a,["thinkingConfig"],he);const ce=u(t,["imageConfig"]);ce!=null&&c(a,["imageConfig"],yC(ce));const Se=u(t,["enableEnhancedCivicAnswers"]);return Se!=null&&c(a,["enableEnhancedCivicAnswers"],Se),a}function F_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Pt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const b=u(t,["seed"]);b!=null&&c(a,["seed"],b);const w=u(t,["responseMimeType"]);w!=null&&c(a,["responseMimeType"],w);const V=u(t,["responseSchema"]);V!=null&&c(a,["responseSchema"],dc(V));const W=u(t,["responseJsonSchema"]);W!=null&&c(a,["responseJsonSchema"],W);const O=u(t,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const X=u(t,["modelSelectionConfig"]);X!=null&&c(a,["modelConfig"],X);const ne=u(t,["safetySettings"]);if(l!==void 0&&ne!=null){let G=ne;Array.isArray(G)&&(G=G.map($=>$)),c(l,["safetySettings"],G)}const oe=u(t,["tools"]);if(l!==void 0&&oe!=null){let G=Ko(oe);Array.isArray(G)&&(G=G.map($=>Cg(Xo($)))),c(l,["tools"],G)}const Y=u(t,["toolConfig"]);l!==void 0&&Y!=null&&c(l,["toolConfig"],Y);const ye=u(t,["labels"]);l!==void 0&&ye!=null&&c(l,["labels"],ye);const Z=u(t,["cachedContent"]);l!==void 0&&Z!=null&&c(l,["cachedContent"],ii(i,Z));const he=u(t,["responseModalities"]);he!=null&&c(a,["responseModalities"],he);const ce=u(t,["mediaResolution"]);ce!=null&&c(a,["mediaResolution"],ce);const Se=u(t,["speechConfig"]);Se!=null&&c(a,["speechConfig"],_g(pc(Se)));const _e=u(t,["audioTimestamp"]);_e!=null&&c(a,["audioTimestamp"],_e);const Ve=u(t,["thinkingConfig"]);Ve!=null&&c(a,["thinkingConfig"],Ve);const ft=u(t,["imageConfig"]);if(ft!=null&&c(a,["imageConfig"],vC(ft)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function km(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["contents"]);if(r!=null){let p=_n(r);Array.isArray(p)&&(p=p.map(g=>vs(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],Y_(i,f,l)),l}function Hm(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["contents"]);if(r!=null){let p=_n(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],F_(i,f,l)),l}function Pm(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>p_(m))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function qm(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),c(t,["candidates"],m)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function J_(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function X_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const M=u(i,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const b=u(i,["outputCompressionQuality"]);t!==void 0&&b!=null&&c(t,["parameters","outputOptions","compressionQuality"],b);const w=u(i,["addWatermark"]);t!==void 0&&w!=null&&c(t,["parameters","addWatermark"],w);const V=u(i,["labels"]);t!==void 0&&V!=null&&c(t,["labels"],V);const W=u(i,["imageSize"]);t!==void 0&&W!=null&&c(t,["parameters","sampleImageSize"],W);const O=u(i,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),l}function K_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&J_(f,l),l}function Q_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&X_(f,l),l}function Z_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>rC(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Tg(r)),t}function $_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Ss(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Eg(r)),t}function W_(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const m=u(i,["enhancePrompt"]);if(t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Ts(v));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(A=>eA(A))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function j_(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const M=u(i,["generateAudio"]);t!==void 0&&M!=null&&c(t,["parameters","generateAudio"],M);const b=u(i,["lastFrame"]);t!==void 0&&b!=null&&c(t,["instances[0]","lastFrame"],wn(b));const w=u(i,["referenceImages"]);if(t!==void 0&&w!=null){let O=w;Array.isArray(O)&&(O=O.map(X=>tA(X))),c(t,["instances[0]","referenceImages"],O)}const V=u(i,["mask"]);t!==void 0&&V!=null&&c(t,["instances[0]","mask"],jC(V));const W=u(i,["compressionQuality"]);return t!==void 0&&W!=null&&c(t,["parameters","compressionQuality"],W),l}function eC(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],oC(p)),t}function tC(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],lC(p)),t}function nC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Ts(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],Ag(p));const g=u(t,["source"]);g!=null&&aC(g,l);const y=u(t,["config"]);return y!=null&&W_(y,l),l}function iC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],wn(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],xg(p));const g=u(t,["source"]);g!=null&&sC(g,l);const y=u(t,["config"]);return y!=null&&j_(y,l),l}function oC(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>cC(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function lC(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>fC(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function aC(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ts(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Ag(f)),l}function sC(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],wn(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],xg(f)),l}function rC(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],SC(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],Tg(r)),t}function Ss(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],Sg(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],Eg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function uC(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],Sg(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function cC(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],$C(l)),t}function fC(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],WC(l)),t}function dC(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const M=u(i,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const b=u(i,["responseSchema"]);b!=null&&c(t,["responseSchema"],b);const w=u(i,["routingConfig"]);w!=null&&c(t,["routingConfig"],w);const V=u(i,["seed"]);V!=null&&c(t,["seed"],V);const W=u(i,["speechConfig"]);W!=null&&c(t,["speechConfig"],_g(W));const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const X=u(i,["temperature"]);X!=null&&c(t,["temperature"],X);const ne=u(i,["thinkingConfig"]);ne!=null&&c(t,["thinkingConfig"],ne);const oe=u(i,["topK"]);oe!=null&&c(t,["topK"],oe);const Y=u(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function pC(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ye(i,a)),l}function hC(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ye(i,a)),l}function mC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function gC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function yC(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function vC(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function SC(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],Ui(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Sg(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Ui(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ts(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],Ui(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function wn(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Ui(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function TC(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],fg(i,g)),a}function EC(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],fg(i,g)),a}function _C(i,t){const l={},a=u(t,["config"]);return a!=null&&TC(i,a,l),l}function CC(i,t){const l={},a=u(t,["config"]);return a!=null&&EC(i,a,l),l}function AC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=dg(r);Array.isArray(f)&&(f=f.map(p=>Zu(p))),c(t,["models"],f)}return t}function xC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=dg(r);Array.isArray(f)&&(f=f.map(p=>$u(p))),c(t,["models"],f)}return t}function NC(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Zu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],BC(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const m=u(i,["supportedGenerationMethods"]);m!=null&&c(t,["supportedActions"],m);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const M=u(i,["thinking"]);return M!=null&&c(t,["thinking"],M),t}function $u(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>q_(E))),c(t,["endpoints"],T)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],OC(y));const m=u(i,["defaultCheckpointId"]);m!=null&&c(t,["defaultCheckpointId"],m);const v=u(i,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),c(t,["checkpoints"],T)}return t}function RC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],V_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],z_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],d_(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function MC(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],wn(l)),t}function bC(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const m=u(i,["addWatermark"]);t!==void 0&&m!=null&&c(t,["parameters","addWatermark"],m);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),l}function IC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["source"]);r!=null&&DC(r,l);const f=u(t,["config"]);return f!=null&&bC(f,l),l}function wC(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Ss(r))),c(t,["generatedImages"],a)}return t}function DC(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],wn(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>MC(g))),c(t,["instances[0]","productImages"],p)}return l}function UC(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],wn(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],NC(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],S_(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Tg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Eg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function LC(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function GC(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],wn(l)),t}function kC(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function HC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["source"]);r!=null&&qC(r,l);const f=u(t,["config"]);return f!=null&&kC(f,l),l}function PC(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>uC(r))),c(t,["generatedMasks"],a)}return t}function qC(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],wn(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],GC(f)),l}function _g(i){const t={},l=u(i,["voiceConfig"]);l!=null&&c(t,["voiceConfig"],l);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function VC(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],B_(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function zC(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],mC(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],gC(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function Cg(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>O_(E))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function BC(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function OC(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function YC(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function FC(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function JC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Ye(i,a));const r=u(t,["config"]);return r!=null&&YC(r,l),l}function XC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["config"]);return r!=null&&FC(r,l),l}function KC(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const m=u(i,["enhanceInputImage"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),l}function QC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ye(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],wn(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&KC(p,l),l}function ZC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Ss(f))),c(t,["generatedImages"],r)}return t}function $C(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Ui(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function WC(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Ui(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function jC(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],wn(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function eA(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Ts(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function tA(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],wn(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Ag(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Ui(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function xg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Ui(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nA(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function iA(i){const t={},l=u(i,["config"]);return l!=null&&nA(l,t),t}function oA(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function lA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&oA(a,t),t}function aA(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function sA(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function rA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],cA(p)),t}function uA(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&sA(r,t),t}function cA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function fA(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function dA(i){const t={},l=u(i,["config"]);return l!=null&&fA(l,t),t}function pA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function Ng(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function hA(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&Ng(a,t),t}function mA(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gA="Content-Type",yA="X-Server-Timeout",vA="User-Agent",Wu="x-goog-api-client",SA="1.33.0",TA=`google-genai-sdk/${SA}`,EA="v1beta1",_A="v1beta";class CA{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:EA,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:_A,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,p=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return l&&l.extraBody!==null&&AA(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Vm(r),new Xu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Vm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return bn(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield Te(r.read());if(m){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(v,{stream:!0});try{const M=JSON.parse(T);if("error"in M){const b=JSON.parse(JSON.stringify(M.error)),w=b.status,V=b.code,W=`got status: ${w}. ${JSON.stringify(M)}`;if(V>=400&&V<600)throw new ys({message:W,status:V})}}catch(M){if(M.name==="ApiError")throw M}p+=T;let E=-1,A=0;for(;;){E=-1,A=0;for(const w of y){const V=p.indexOf(w);V!==-1&&(E===-1||V<E)&&(E=V,A=w.length)}if(E===-1)break;const M=p.substring(0,E);p=p.substring(E+A);const b=M.trim();if(b.startsWith(g)){const w=b.substring(g.length).trim();try{const V=new Response(w,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Te(new Xu(V))}catch(V){throw new Error(`exception parsing stream chunk ${w}. ${V}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=TA+" "+this.clientOptions.userAgentExtra;return t[vA]=l,t[Wu]=l,t[gA]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(yA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),v=te("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,y,l==null?void 0:l.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,p=await f.stat(l),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),T={};a!=null&&Ng(a,T);const E=await this.fetchUploadUrl(m,g,y,v,T,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Vm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new ys({message:r,status:l}):new Error(r)}}function AA(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const m=p[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xA="mcp_used/unknown";let NA=!1;function Rg(i){for(const t of i)if(RA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return NA}function Mg(i){var t;const l=(t=i[Wu])!==null&&t!==void 0?t:"";i[Wu]=(l+` ${xA}`).trimStart()}function RA(i){return i!==null&&typeof i=="object"&&i instanceof mc}function MA(i){return bn(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const p=yield Te(l.listTools({cursor:r}));for(const g of p.tools)yield yield Te(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class mc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new mc(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,In(MA(v))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const T=r;p.push(T);const E=T.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(T){l={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),aT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bA(i,t,l){const a=new WS;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class IA{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=UA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(O=>{m=O}),T=t.callbacks,E=function(){m({})},A=this.apiClient,M={onopen:E,onmessage:O=>{bA(A,T.onmessage,O)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(O){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(O){}},b=this.webSocketFactory.create(y,DA(p),M);b.connect(),await v;const W={setup:{model:Ye(this.apiClient,t.model)}};return b.send(JSON.stringify(W)),new wA(b,this.apiClient)}}class wA{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=i_(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=n_(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Bo.PLAY)}pause(){this.sendPlaybackControl(Bo.PAUSE)}stop(){this.sendPlaybackControl(Bo.STOP)}resetContext(){this.sendPlaybackControl(Bo.RESET_CONTEXT)}close(){this.conn.close()}}function DA(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function UA(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function GA(i,t,l){const a=new $S;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=a_(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class kA{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new IA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&Rg(t.config.tools)&&Mg(T);const E=VA(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const Z=this.apiClient.getApiKey();let he="BidiGenerateContent",ce="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),he="BidiGenerateContentConstrained",ce="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${he}?${ce}=${Z}`}let A=()=>{};const M=new Promise(Z=>{A=Z}),b=t.callbacks,w=function(){var Z;(Z=b==null?void 0:b.onopen)===null||Z===void 0||Z.call(b),A({})},V=this.apiClient,W={onopen:w,onmessage:Z=>{GA(V,b.onmessage,Z)},onerror:(l=b==null?void 0:b.onerror)!==null&&l!==void 0?l:function(Z){},onclose:(a=b==null?void 0:b.onclose)!==null&&a!==void 0?a:function(Z){}},O=this.webSocketFactory.create(v,qA(E),W);O.connect(),await M;let X=Ye(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const Z=this.apiClient.getProject(),he=this.apiClient.getLocation();X=`projects/${Z}/locations/${he}/`+X}let ne={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[fs.AUDIO]}:t.config.responseModalities=[fs.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Y=[];for(const Z of oe)if(this.isCallableTool(Z)){const he=Z;Y.push(await he.tool())}else Y.push(Z);Y.length>0&&(t.config.tools=Y);const ye={model:X,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ne=t_(this.apiClient,ye):ne=e_(this.apiClient,ye),delete ne.config,O.send(JSON.stringify(ne)),new PA(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const HA={turnComplete:!0};class PA{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=_n(l.turns),t.isVertexAI()||(a=a.map(r=>vs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(LA)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},HA),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:l_(t)}:l={realtimeInput:o_(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function qA(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function VA(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zm=10;function Bm(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(Fo(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Fo(i){return"callTool"in i&&typeof i.callTool=="function"}function zA(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>Fo(r)))!==null&&a!==void 0?a:!1}function Om(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(Fo(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function Ym(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BA extends ni{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!zA(l)||Bm(l.config))return await this.generateContentInternal(y);const m=Om(l);if(m.length>0){const b=m.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let v,T;const E=_n(y.contents),A=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:zm;let M=0;for(;M<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const b=v.candidates[0].content,w=[];for(const V of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(Fo(V)){const O=await V.callTool(v.functionCalls);w.push(...O)}M++,T={role:"user",parts:w},y.contents=_n(y.contents),y.contents.push(b),y.contents.push(T),Ym(y.config)&&(E.push(b),E.push(T))}return Ym(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async l=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(l),Bm(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const y=Om(l);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Wi(ti.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(f=l.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>Fo(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Rg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Mg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(Fo(p)){const g=p,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(f.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);f.set(m.name,g)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:zm;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,T){return bn(this,arguments,function*(){for(var E,A,M,b,w,V;g<f;){p&&(g++,p=!1);const ne=yield Te(m.processParamsMaybeAddMcpUsage(T)),oe=yield Te(m.generateContentStreamInternal(ne)),Y=[],ye=[];try{for(var W=!0,O=(A=void 0,In(oe)),X;X=yield Te(O.next()),E=X.done,!E;W=!0){b=X.value,W=!1;const Z=b;if(yield yield Te(Z),Z.candidates&&(!((w=Z.candidates[0])===null||w===void 0)&&w.content)){ye.push(Z.candidates[0].content);for(const he of(V=Z.candidates[0].content.parts)!==null&&V!==void 0?V:[])if(g<f&&he.functionCall){if(!he.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(he.functionCall.name)){const ce=yield Te(v.get(he.functionCall.name).callTool([he.functionCall]));Y.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${he.functionCall.name}`)}}}}catch(Z){A={error:Z}}finally{try{!W&&!E&&(M=O.return)&&(yield Te(M.call(O)))}finally{if(A)throw A.error}}if(Y.length>0){p=!0;const Z=new Ol;Z.candidates=[{content:{role:"user",parts:Y}}],yield yield Te(Z);const he=[];he.push(...ye),he.push({role:"user",parts:Y});const ce=_n(T.contents).concat(he);T.contents=ce}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Hm(this.apiClient,t);return g=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=qm(v),E=new Ol;return Object.assign(E,T),E})}else{const m=km(this.apiClient,t);return g=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Pm(v),E=new Ol;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Hm(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(T){return bn(this,arguments,function*(){var E,A,M,b;try{for(var w=!0,V=In(T),W;W=yield Te(V.next()),E=W.done,!E;w=!0){b=W.value,w=!1;const O=b,X=qm(yield Te(O.json()));X.sdkHttpResponse={headers:O.headers};const ne=new Ol;Object.assign(ne,X),yield yield Te(ne)}}catch(O){A={error:O}}finally{try{!w&&!E&&(M=V.return)&&(yield Te(M.call(V)))}finally{if(A)throw A.error}}})})}else{const m=km(this.apiClient,t);return g=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(T){return bn(this,arguments,function*(){var E,A,M,b;try{for(var w=!0,V=In(T),W;W=yield Te(V.next()),E=W.done,!E;w=!0){b=W.value,w=!1;const O=b,X=Pm(yield Te(O.json()));X.sdkHttpResponse={headers:O.headers};const ne=new Ol;Object.assign(ne,X),yield yield Te(ne)}}catch(O){A={error:O}}finally{try{!w&&!E&&(M=V.return)&&(yield Te(M.call(V)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=k_(this.apiClient,t);return g=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=P_(v),E=new Sm;return Object.assign(E,T),E})}else{const m=G_(this.apiClient,t);return g=te("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=H_(v),E=new Sm;return Object.assign(E,T),E})}}async generateImagesInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Q_(this.apiClient,t);return g=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=$_(v),E=new Tm;return Object.assign(E,T),E})}else{const m=K_(this.apiClient,t);return g=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Z_(v),E=new Tm;return Object.assign(E,T),E})}}async editImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=w_(this.apiClient,t);return f=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=D_(y),v=new VS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=QC(this.apiClient,t);return f=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=ZC(y),v=new zS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=IC(this.apiClient,t);return f=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=wC(y),v=new BS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=HC(this.apiClient,t);return f=te("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=PC(y),v=new OS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=hC(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>$u(v))}else{const m=pC(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Zu(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=CC(this.apiClient,t);return g=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=xC(v),E=new Em;return Object.assign(E,T),E})}else{const m=_C(this.apiClient,t);return g=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=AC(v),E=new Em;return Object.assign(E,T),E})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=XC(this.apiClient,t);return g=te("{model}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>$u(v))}else{const m=JC(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Zu(v))}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=R_(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=b_(v),E=new _m;return Object.assign(E,T),E})}else{const m=N_(this.apiClient,t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=M_(v),E=new _m;return Object.assign(E,T),E})}}async countTokens(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=C_(this.apiClient,t);return g=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=x_(v),E=new Cm;return Object.assign(E,T),E})}else{const m=__(this.apiClient,t);return g=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=A_(v),E=new Cm;return Object.assign(E,T),E})}}async computeTokens(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=m_(this.apiClient,t);return f=te("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=g_(y),v=new YS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=iC(this.apiClient,t);return g=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const T=tC(v),E=new ds;return Object.assign(E,T),E})}else{const m=nC(this.apiClient,t);return g=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const T=eC(v),E=new ds;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OA extends ni{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=LS(t);return g=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const m=US(t);return g=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=NS(t);return f=te("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YA(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function FA(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>ex(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function JA(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const p=u(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],jA(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function XA(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],JA(i,a,l)),l}function KA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function QA(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ZA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function $A(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function WA(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],hc(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],FA(Pt(M)));const b=u(i,["tools"]);if(t!==void 0&&b!=null){let oe=Ko(b);Array.isArray(oe)&&(oe=oe.map(Y=>nx(Xo(Y)))),c(t,["setup","tools"],oe)}const w=u(i,["sessionResumption"]);t!==void 0&&w!=null&&c(t,["setup","sessionResumption"],tx(w));const V=u(i,["inputAudioTranscription"]);t!==void 0&&V!=null&&c(t,["setup","inputAudioTranscription"],V);const W=u(i,["outputAudioTranscription"]);t!==void 0&&W!=null&&c(t,["setup","outputAudioTranscription"],W);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&c(t,["setup","contextWindowCompression"],X);const ne=u(i,["proactivity"]);if(t!==void 0&&ne!=null&&c(t,["setup","proactivity"],ne),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function jA(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ye(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],WA(r,l)),l}function ex(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],KA(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],QA(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],YA(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function tx(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function nx(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],ZA(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],$A(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ix(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function ox(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const f=ix(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class lx extends ni{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=XA(this.apiClient,t);f=te("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=ox(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ax(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function sx(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&ax(a,t),t}function rx(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function ux(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function cx(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&ux(a,t),t}function fx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dx extends ni{constructor(t){super(),this.apiClient=t,this.list=async l=>new Wi(ti.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rx(t);return f=te("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=sx(t);r=te("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cx(t);return f=te("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=fx(y),v=new FS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class px extends ni{constructor(t,l=new dx(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Wi(ti.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iA(t);return f=te("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aA(t);return f=te("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lA(t);r=te("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dA(t);return f=te("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=pA(y),v=new JS;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hA(t);return f=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=mA(y),v=new XS;return Object.assign(v,m),v})}}async importFile(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=uA(t);return f=te("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=rA(y),v=new uc;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return bg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const hx=()=>bg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ju(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const ec=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cn extends Error{}class Ot extends Cn{constructor(t,l,a,r){super(`${Ot.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new Es({message:a,cause:ec(l)});const f=l;return t===400?new wg(t,f,a,r):t===401?new Dg(t,f,a,r):t===403?new Ug(t,f,a,r):t===404?new Lg(t,f,a,r):t===409?new Gg(t,f,a,r):t===422?new kg(t,f,a,r):t===429?new Hg(t,f,a,r):t>=500?new Pg(t,f,a,r):new Ot(t,f,a,r)}}class tc extends Ot{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Es extends Ot{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class Ig extends Es{constructor({message:t}={}){super({message:t??"Request timed out."})}}class wg extends Ot{}class Dg extends Ot{}class Ug extends Ot{}class Lg extends Ot{}class Gg extends Ot{}class kg extends Ot{}class Hg extends Ot{}class Pg extends Ot{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mx=/^[a-z][a-z0-9+.-]*:/i,gx=i=>mx.test(i);let nc=i=>(nc=Array.isArray,nc(i));const yx=nc;let vx=yx;const Fm=vx;function Sx(i){if(!i)return!0;for(const t in i)return!1;return!0}function Tx(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const Ex=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Cn(`${i} must be an integer`);if(t<0)throw new Cn(`${i} must be a positive integer`);return t},_x=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cx=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ax(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const xx=()=>{var i,t,l,a,r;const f=Ax();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":Xm(Deno.build.os),"X-Stainless-Arch":Jm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":Xm((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Jm((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=Nx();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Nx(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Jm=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Xm=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let os;const Rx=()=>os??(os=xx());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function qg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function bx(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return qg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Vg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Ix(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wx=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Bu(i,t,l){return zg(),new File(i,t??"unknown_file",l)}function Dx(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const Ux=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",Lx=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Bg(i),Gx=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function kx(i,t,l){if(zg(),i=await i,Lx(i))return i instanceof File?i:Bu([await i.arrayBuffer()],i.name);if(Gx(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Bu(await ic(r),t,l)}const a=await ic(i);if(t||(t=Dx(i)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return Bu(a,t,l)}async function ic(i){var t,l,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Bg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(Ux(i))try{for(var g=!0,y=In(i),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const v=r;p.push(...await ic(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${Hx(i)}`)}return p}function Hx(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Og{constructor(t){this._client=t}}Og._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Km=Object.freeze(Object.create(null)),Px=(i=Yg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],p=l.reduce((v,T,E)=>{var A,M,b;/[?#]/.test(T)&&(r=!0);const w=a[E];let V=(r?encodeURIComponent:i)(""+w);return E!==a.length&&(w==null||typeof w=="object"&&w.toString===((b=Object.getPrototypeOf((M=Object.getPrototypeOf((A=w.hasOwnProperty)!==null&&A!==void 0?A:Km))!==null&&M!==void 0?M:Km))===null||b===void 0?void 0:b.toString))&&(V=w+"",f.push({start:v.length+T.length,length:V.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),v+T+(E===a.length?"":V)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)f.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(f.sort((v,T)=>v.start-T.start),f.length>0){let v=0;const T=f.reduce((E,A)=>{const M=" ".repeat(A.start-v),b="^".repeat(A.length);return v=A.start+A.length,E+M+b},"");throw new Cn(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${T}`)}return p}),ls=Px(Yg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fg extends Og{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=hs(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Cn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Cn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ls`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(ls`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(ls`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:p=this._client.apiVersion}=f,g=hs(f,["api_version"]);return this._client.get(ls`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Fg._key=Object.freeze(["interactions"]);class Jg extends Fg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qx(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let as;function gc(i){let t;return(as??(t=new globalThis.TextEncoder,as=t.encode.bind(t)))(i)}let ss;function Qm(i){let t;return(ss??(t=new globalThis.TextDecoder,ss=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _s{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?gc(t):t;this.buffer=qx([this.buffer,l]);const a=[];let r;for(;(r=Vx(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Qm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Qm(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}_s.NEWLINE_CHARS=new Set([`
`,"\r"]);_s.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Vx(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function zx(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ms={off:0,error:200,warn:300,info:400,debug:500},Zm=(i,t,l)=>{if(i){if(Tx(ms,i))return i;Bt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(ms))}`)}};function Yl(){}function rs(i,t,l){return!t||ms[i]>ms[l]?Yl:t[i].bind(t)}const Bx={error:Yl,warn:Yl,info:Yl,debug:Yl};let $m=new WeakMap;function Bt(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return Bx;const r=$m.get(l);if(r&&r[0]===a)return r[1];const f={error:rs("error",l,a),warn:rs("warn",l,a),info:rs("info",l,a),debug:rs("debug",l,a)};return $m.set(l,[a,f]),f}const $i=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oo{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?Bt(a):console;function p(){return bn(this,arguments,function*(){var y,m,v,T;if(r)throw new Cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,M=In(Ox(t,l)),b;b=yield Te(M.next()),y=b.done,!y;A=!0){T=b.value,A=!1;const w=T;if(!E)if(w.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield Te(JSON.parse(w.data))}catch(V){throw f.error("Could not parse message into JSON:",w.data),f.error("From chunk:",w.raw),V}}}catch(w){m={error:w}}finally{try{!A&&!y&&(v=M.return)&&(yield Te(v.call(M)))}finally{if(m)throw m.error}}E=!0}catch(w){if(ju(w))return yield Te(void 0);throw w}finally{E||l.abort()}})}return new Oo(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return bn(this,arguments,function*(){var y,m,v,T;const E=new _s,A=Vg(t);try{for(var M=!0,b=In(A),w;w=yield Te(b.next()),y=w.done,!y;M=!0){T=w.value,M=!1;const V=T;for(const W of E.decode(V))yield yield Te(W)}}catch(V){m={error:V}}finally{try{!M&&!y&&(v=b.return)&&(yield Te(v.call(b)))}finally{if(m)throw m.error}}for(const V of E.flush())yield yield Te(V)})}function p(){return bn(this,arguments,function*(){var y,m,v,T;if(r)throw new Cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,M=In(f()),b;b=yield Te(M.next()),y=b.done,!y;A=!0){T=b.value,A=!1;const w=T;E||w&&(yield yield Te(JSON.parse(w)))}}catch(w){m={error:w}}finally{try{!A&&!y&&(v=M.return)&&(yield Te(v.call(M)))}finally{if(m)throw m.error}}E=!0}catch(w){if(ju(w))return yield Te(void 0);throw w}finally{E||l.abort()}})}return new Oo(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),l.push(p)}return f.shift()}});return[new Oo(()=>r(t),this.controller,this.client),new Oo(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return qg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const p=gc(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function Ox(i,t){return bn(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Cn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Cn("Attempted to iterate over a response with no body");const g=new Fx,y=new _s,m=Vg(i.body);try{for(var v=!0,T=In(Yx(m)),E;E=yield Te(T.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const A=p;for(const M of y.decode(A)){const b=g.decode(M);b&&(yield yield Te(b))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(f=T.return)&&(yield Te(f.call(T)))}finally{if(r)throw r.error}}for(const A of y.flush()){const M=g.decode(A);M&&(yield yield Te(M))}})}function Yx(i){return bn(this,arguments,function*(){var l,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=In(i),m;m=yield Te(y.next()),l=m.done,!l;g=!0){f=m.value,g=!1;const v=f;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?gc(v):v;let E=new Uint8Array(p.length+T.length);E.set(p),E.set(T,p.length),p=E;let A;for(;(A=zx(p))!==-1;)yield yield Te(p.slice(0,A)),p=p.slice(A)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield Te(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield Te(p))})}class Fx{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=Jx(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function Jx(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Xx(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return Bt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):Oo.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await l.json():await l.text()})();return Bt(i).debug(`[${a}] response parsed`,$i({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yc extends Promise{constructor(t,l,a=Xx){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new yc(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xg=Symbol("brand.privateNullableHeaders");function*Kx(i){if(!i)return;if(Xg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Fm(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Fm(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const Ou=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[f,p]of Kx(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),l.add(g)):(t.append(f,p),l.delete(g))}}return{[Xg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yu=i=>{var t,l,a,r,f,p;if(typeof globalThis.process<"u")return(a=(l=(t=TS)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kg;class Cs{constructor(t){var l,a,r,f,p,g,y,m=t===void 0?{}:t,{baseURL:v=Yu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:T=(l=Yu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:E="v1beta"}=m,A=hs(m,["baseURL","apiKey","apiVersion"]);const M=Object.assign(Object.assign({apiKey:T,apiVersion:E},A),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=M.baseURL,this.timeout=(a=M.timeout)!==null&&a!==void 0?a:Cs.DEFAULT_TIMEOUT,this.logger=(r=M.logger)!==null&&r!==void 0?r:console;const b="warn";this.logLevel=b,this.logLevel=(p=(f=Zm(M.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Zm(Yu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:b,this.fetchOptions=M.fetchOptions,this.maxRetries=(g=M.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=M.fetch)!==null&&y!==void 0?y:Mx(),this.encoder=wx,this._options=M,this.apiKey=T,this.apiVersion=E}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return Ou([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Cn(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${zo}`}defaultIdempotencyKey(){return`stainless-node-retry-${hx()}`}makeStatusError(t,l,a,r){return Ot.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=gx(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return Sx(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new yc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:m,url:v,timeout:T}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(m,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,M=Date.now();if(Bt(this).debug(`[${E}] sending request`,$i({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:m.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new tc;const b=new AbortController,w=await this.fetchWithTimeout(v,m,T,b).catch(ec),V=Date.now();if(w instanceof globalThis.Error){const O=`retrying, ${l} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new tc;const X=ju(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(l)return Bt(this).info(`[${E}] connection ${X?"timed out":"failed"} - ${O}`),Bt(this).debug(`[${E}] connection ${X?"timed out":"failed"} (${O})`,$i({retryOfRequestLogID:a,url:v,durationMs:V-M,message:w.message})),this.retryRequest(g,l,a??E);throw Bt(this).info(`[${E}] connection ${X?"timed out":"failed"} - error; no more retries left`),Bt(this).debug(`[${E}] connection ${X?"timed out":"failed"} (error; no more retries left)`,$i({retryOfRequestLogID:a,url:v,durationMs:V-M,message:w.message})),X?new Ig:new Es({cause:w})}const W=`[${E}${A}] ${m.method} ${v} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${V-M}ms`;if(!w.ok){const O=await this.shouldRetry(w);if(l&&O){const Z=`retrying, ${l} attempts remaining`;return await Ix(w.body),Bt(this).info(`${W} - ${Z}`),Bt(this).debug(`[${E}] response error (${Z})`,$i({retryOfRequestLogID:a,url:w.url,status:w.status,headers:w.headers,durationMs:V-M})),this.retryRequest(g,l,a??E,w.headers)}const X=O?"error; no more retries left":"error; not retryable";Bt(this).info(`${W} - ${X}`);const ne=await w.text().catch(Z=>ec(Z).message),oe=_x(ne),Y=oe?void 0:ne;throw Bt(this).debug(`[${E}] response error (${X})`,$i({retryOfRequestLogID:a,url:w.url,status:w.status,headers:w.headers,message:Y,durationMs:Date.now()-M})),this.makeStatusError(w.status,oe,Y,w.headers)}return Bt(this).info(W),Bt(this).debug(`[${E}] response start`,$i({retryOfRequestLogID:a,url:w.url,status:w.status,headers:w.headers,durationMs:V-M})),{response:w,options:g,controller:b,requestLogID:E,retryOfRequestLogID:a,startTime:M}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:p,method:g}=f,y=hs(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(m)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(p=m)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const m=parseFloat(y);Number.isNaN(m)?p=Date.parse(y)-Date.now():p=m*1e3}if(!(p&&0<=p&&p<60*1e3)){const m=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,m)}return await Cx(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:v}=p,T=this.buildURL(y,m,v);"timeout"in p&&Ex("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:p}),M=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:M},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=Ou([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Rx()),await this.authHeaders(t),this._options.defaultHeaders,a,t.headers]);return this.validateHeaders(p),p.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=Ou([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:bx(t)}:this.encoder({body:t,headers:a})}}Cs.DEFAULT_TIMEOUT=6e4;class Dt extends Cs{constructor(){super(...arguments),this.interactions=new Jg(this)}}Kg=Dt;Dt.GeminiNextGenAPIClient=Kg;Dt.GeminiNextGenAPIClientError=Cn;Dt.APIError=Ot;Dt.APIConnectionError=Es;Dt.APIConnectionTimeoutError=Ig;Dt.APIUserAbortError=tc;Dt.NotFoundError=Lg;Dt.ConflictError=Gg;Dt.RateLimitError=Hg;Dt.BadRequestError=wg;Dt.AuthenticationError=Dg;Dt.InternalServerError=Pg;Dt.PermissionDeniedError=Ug;Dt.UnprocessableEntityError=kg;Dt.toFile=kx;Dt.Interactions=Jg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qx(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function Zx(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function $x(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function Wx(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function jx(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function eN(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],Wm(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],Wm(A))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(m==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function tN(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&dN(f);const p=u(i,["config"]);return p!=null&&jx(p,l),l}function nN(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&pN(f,l,t);const p=u(i,["config"]);return p!=null&&eN(p,l,t),l}function iN(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function oN(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function lN(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function aN(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function sN(i,t){const l={},a=u(i,["config"]);return a!=null&&lN(a,l),l}function rN(i,t){const l={},a=u(i,["config"]);return a!=null&&aN(a,l),l}function uN(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Qg(g))),c(l,["tuningJobs"],p)}return l}function cN(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>oc(g))),c(l,["tuningJobs"],p)}return l}function fN(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function dN(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function pN(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Qg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],ug(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(i,["description"]);v!=null&&c(l,["description"],v);const T=u(i,["baseModel"]);T!=null&&c(l,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&c(l,["tunedModel"],fN(E)),l}function oc(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],ug(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(i,["error"]);v!=null&&c(l,["error"],v);const T=u(i,["description"]);T!=null&&c(l,["description"],T);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const A=u(i,["tunedModel"]);A!=null&&c(l,["tunedModel"],A);const M=u(i,["preTunedModel"]);M!=null&&c(l,["preTunedModel"],M);const b=u(i,["supervisedTuningSpec"]);b!=null&&c(l,["supervisedTuningSpec"],b);const w=u(i,["preferenceOptimizationSpec"]);w!=null&&c(l,["preferenceOptimizationSpec"],w);const V=u(i,["tuningDataStats"]);V!=null&&c(l,["tuningDataStats"],V);const W=u(i,["encryptionSpec"]);W!=null&&c(l,["encryptionSpec"],W);const O=u(i,["partnerModelTuningSpec"]);O!=null&&c(l,["partnerModelTuningSpec"],O);const X=u(i,["customBaseModel"]);X!=null&&c(l,["customBaseModel"],X);const ne=u(i,["experiment"]);ne!=null&&c(l,["experiment"],ne);const oe=u(i,["labels"]);oe!=null&&c(l,["labels"],oe);const Y=u(i,["outputUri"]);Y!=null&&c(l,["outputUri"],Y);const ye=u(i,["pipelineJob"]);ye!=null&&c(l,["pipelineJob"],ye);const Z=u(i,["serviceAccount"]);Z!=null&&c(l,["serviceAccount"],Z);const he=u(i,["tunedModelDisplayName"]);he!=null&&c(l,["tunedModelDisplayName"],he);const ce=u(i,["veoTuningSpec"]);return ce!=null&&c(l,["veoTuningSpec"],ce),l}function hN(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(i,["done"]);p!=null&&c(l,["done"],p);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function Wm(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mN extends ni{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Wi(ti.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Ju.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=oN(t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>oc(v))}else{const m=iN(t);return g=te("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Qg(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=rN(t);return g=te("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=cN(v),E=new Am;return Object.assign(E,T),E})}else{const m=sN(t);return g=te("tunedModels",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=uN(v),E=new Am;return Object.assign(E,T),E})}}async cancel(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Zx(t);return g=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Wx(v),E=new xm;return Object.assign(E,T),E})}else{const m=Qx(t);return g=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=$x(v),E=new xm;return Object.assign(E,T),E})}}async tuneInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=nN(t,t);return f=te("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>oc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tN(t);return f=te("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>hN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gN{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const yN=1024*1024*8,vN=3,SN=1e3,TN=2,gs="x-goog-upload-status";async function EN(i,t,l){var a;const r=await Zg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[gs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function _N(i,t,l){var a;const r=await Zg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[gs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=ig(f),g=new cc;return Object.assign(g,p),g}async function Zg(i,t,l){var a,r;let f=0,p=0,g=new Xu(new Response),y="upload";for(f=i.size;p<f;){const m=Math.min(yN,f-p),v=i.slice(p,p+m);p+m>=f&&(y+=", finalize");let T=0,E=SN;for(;T<vN&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[gs]));)T++,await AN(E),E=E*TN;if(p+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[gs])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function CN(i){return{size:i.size,type:i.type}}function AN(i){return new Promise(t=>setTimeout(t,i))}class xN{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await EN(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await _N(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await CN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NN{create(t,l,a){return new RN(t,l,a)}}class RN{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jm="x-goog-api-key";class MN{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(jm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(jm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bN="gl-node/";class IN{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new Dt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=AS(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new MN(this.apiKey);this.apiClient=new CA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:bN+"web",uploader:new xN,downloader:new gN}),this.models=new BA(this.apiClient),this.live=new kA(this.apiClient,r,new NN),this.batches=new jT(this.apiClient),this.chats=new LE(this.models,this.apiClient),this.caches=new wE(this.apiClient),this.files=new YE(this.apiClient),this.operations=new OA(this.apiClient),this.authTokens=new lx(this.apiClient),this.tunings=new mN(this.apiClient),this.fileSearchStores=new px(this.apiClient)}}var wN={};const DN=async(i,t,l=[],a)=>{const r=t||wN.API_KEY;if(!r)throw new Error("API Key is missing. Please enter your Google Gemini API Key.");const f=new IN({apiKey:r}),p=l.map(v=>({id:v.id,name:v.name,birthDate:v.birthDate,x:v.x,y:v.y})),g=JSON.stringify(p);let y="";a&&(y=`
      IMPORTANT - FOCUS PERSON:
      The user has selected: "${a.name}" (ID: "${a.id}").
      
      1. Interpret all relationships in the "USER INPUT TEXT" relative to this Focus Person, unless explicitly stated otherwise.
         - Example: If input is "Wife Sarah", it means Sarah is the wife of "${a.name}" (ID: ${a.id}).
         - Example: If input is "Son John", it means John is the son of "${a.name}" (ID: ${a.id}).
      
      2. PRESERVE EXISTING CONNECTIONS: Do NOT break or remove any existing relationships for other people. Only ADD new people and link them to the Focus Person (or existing people if mentioned).
      
      3. LAYOUT ANCHOR: Use the Focus Person's coordinates (X: ${a.x}, Y: ${a.y}) as the starting point for calculating positions of new people.
      `);const m=`
    Analyze the following text to extract or update family tree data.
    
    CONTEXT - EXISTING PEOPLE IN TREE:
    ${g}

    ${y}

    USER INPUT TEXT: 
    "${i}"

    INSTRUCTIONS:
    1. Analyze the relationships described in the text.
    2. CHECK AGAINST EXISTING: If a person mentioned in the text matches a name in the "EXISTING PEOPLE" list, USE THEIR EXISTING ID. Do NOT generate a new ID for them.
    3. NEW PEOPLE: If a person is not in the list, create a new object for them with a new unique ID.
    4. OUTPUT: Return a JSON object containing "people" and "relationships".
       - "people": Include ALL people involved in the text (both existing ones you linked to, and new ones).
       - "relationships": Include relationships involving these people.
    
    LAYOUT RULES:
    - For existing people, keep their X and Y coordinates (unless you need to shift them slightly, but prefer keeping them).
    - For NEW people, calculate their X and Y coordinates relative to the existing people they are connected to.
      - Partners: Same Y, X + 200 (or -200).
      - Children: Y + ${ei}, centered below parents.
      - Parents: Y - ${ei}.
    - If no connection to existing data, center the new group at X=0, Y=0.

    STRICT JSON SCHEMA:
  `;try{const T=(await f.models.generateContent({model:"gemini-2.5-flash",contents:m,config:{responseMimeType:"application/json",responseSchema:{type:ct.OBJECT,properties:{people:{type:ct.ARRAY,items:{type:ct.OBJECT,properties:{id:{type:ct.STRING},name:{type:ct.STRING},gender:{type:ct.STRING,enum:["male","female","other"]},birthDate:{type:ct.STRING},x:{type:ct.NUMBER},y:{type:ct.NUMBER}},required:["id","name","gender","x","y"]}},relationships:{type:ct.ARRAY,items:{type:ct.OBJECT,properties:{id:{type:ct.STRING},sourceId:{type:ct.STRING},targetId:{type:ct.STRING},type:{type:ct.STRING,enum:["parent","spouse"]}},required:["id","sourceId","targetId","type"]}}}}}})).text;if(!T)throw new Error("No response from AI");const E=JSON.parse(T);return E.people=E.people.map(A=>{const M=l.find(b=>b.id===A.id);return{...A,x:A.x||0,y:A.y||0,birthPlace:(M==null?void 0:M.birthPlace)||"",deathDate:(M==null?void 0:M.deathDate)||"",deathPlace:(M==null?void 0:M.deathPlace)||"",notes:(M==null?void 0:M.notes)||"",photoUrl:(M==null?void 0:M.photoUrl)||`https://ui-avatars.com/api/?name=${encodeURIComponent(A.name)}&background=random`}}),E}catch(v){throw console.error("Gemini API Error:",v),v}},UN=({isOpen:i,onClose:t,onApplyData:l,existingPeople:a,language:r="id",selectedPerson:f})=>{const[p,g]=j.useState(""),[y,m]=j.useState(!1),[v,T]=j.useState(null),[E,A]=j.useState(""),[M,b]=j.useState(!1),w=Jo[r];j.useEffect(()=>{if(i){const X=localStorage.getItem("gemini_api_key");X?(A(X),b(!0)):b(!1)}},[i]);const V=()=>{E.trim()&&(localStorage.setItem("gemini_api_key",E.trim()),b(!0))},W=()=>{b(!1)},O=async()=>{if(p.trim()){m(!0),T(null);try{const X=await DN(p,E,a,f);l(X),t(),g("")}catch(X){console.error(X),T(w.aiError+(X.message?` (${X.message})`:""))}finally{m(!1)}}};return i?C.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 m-4 animate-scale-in flex flex-col max-h-[90vh]",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-100 pb-2",children:[C.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[C.jsx(qe.Wand2,{className:"w-6 h-6 text-purple-600"}),w.aiTitle]}),C.jsxs("div",{className:"flex items-center gap-2",children:[M&&C.jsxs("button",{onClick:W,className:"text-xs flex items-center gap-1 text-gray-500 hover:text-indigo-600 border border-gray-200 rounded px-2 py-1 transition-colors",children:[C.jsx(qe.Key,{className:"w-3 h-3"}),w.changeKey]}),C.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:C.jsx(qe.X,{className:"w-6 h-6"})})]})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:[C.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[w.aiDesc,C.jsx("br",{}),C.jsx("span",{className:"italic text-xs text-gray-500",children:w.aiExample})]}),f&&C.jsxs("div",{className:"mb-4 p-2 bg-indigo-50 border border-indigo-200 rounded-lg flex items-center gap-3",children:[C.jsx("img",{src:f.photoUrl||`https://ui-avatars.com/api/?name=${f.name}`,className:"w-8 h-8 rounded-full border border-indigo-200",alt:f.name}),C.jsxs("div",{children:[C.jsx("div",{className:"text-[10px] uppercase font-bold text-indigo-500 tracking-wider",children:"Adding relatives for:"}),C.jsx("div",{className:"text-sm font-bold text-indigo-900",children:f.name})]})]}),!M&&C.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[C.jsxs("label",{className:"block text-xs font-bold text-yellow-700 mb-1 flex items-center gap-1",children:[C.jsx(qe.Key,{className:"w-3 h-3"})," ",w.apiKeyLabel]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"password",value:E,onChange:X=>A(X.target.value),placeholder:w.apiKeyPlaceholder,className:"flex-1 text-xs border border-yellow-300 rounded px-2 py-1.5 focus:outline-none focus:ring-1 focus:ring-yellow-500"}),C.jsx("button",{onClick:V,disabled:!E.trim(),className:"text-xs bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700 disabled:opacity-50",children:w.saveKey})]}),C.jsx("p",{className:"text-[10px] text-yellow-600 mt-1",children:w.noKeyWarning})]}),C.jsx("textarea",{className:`w-full h-32 p-3 border rounded-lg resize-none mb-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 ${M?"border-gray-300":"bg-gray-50 text-gray-400 cursor-not-allowed border-gray-200"}`,placeholder:f?"Add wife Sarah, son Michael...":w.aiPlaceholder,value:p,onChange:X=>g(X.target.value),disabled:!M}),v&&C.jsx("p",{className:"text-red-500 text-sm mb-2 bg-red-50 p-2 rounded border border-red-100",children:v})]}),C.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-2 border-t border-gray-100",children:[C.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:w.cancel}),C.jsx("button",{onClick:O,disabled:y||!p.trim()||!M,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:opacity-90 disabled:opacity-50 flex items-center gap-2 font-medium",children:y?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),w.generating]}):C.jsxs(C.Fragment,{children:[C.jsx(qe.Wand2,{className:"w-4 h-4"})," ",w.generate]})})]})]})}):null},LN=({viewport:i,language:t="id"})=>{const l=Jo[t],a=j.useMemo(()=>{const p=window.innerHeight,g=(0-i.y)/i.scale,y=(p-i.y)/i.scale,m=Math.floor(g/ei),v=Math.ceil(y/ei),T=[];for(let E=m;E<=v;E++)T.push(E);return T},[i,window.innerHeight]),r=p=>p===0?l.meRoot:p===-1?l.parents:p===-2?l.grandparents:p===-3?l.greatGrandparents:p===1?l.children:p===2?l.grandchildren:p===3?l.greatGrandchildren:p<0?`${Math.abs(p)}${l.genAgo}`:`${p}${l.genAfter}`,f=p=>p%2===0?"bg-indigo-50/50":"bg-white/30";return C.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-24 overflow-hidden pointer-events-none z-20 select-none",children:[a.map(p=>{const g=p*ei*i.scale+i.y,y=ei*i.scale;return g+y<0||g>window.innerHeight?null:C.jsxs("div",{className:`absolute w-full border-b border-indigo-100 flex flex-col justify-center items-center text-center px-1 ${f(p)}`,style:{top:g,height:y},children:[C.jsx("span",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-widest leading-tight",children:p<0?"":p>0?"":""}),C.jsx("span",{className:"text-xs font-semibold text-slate-500 mt-1",children:r(p)}),Math.abs(p)>3&&C.jsxs("span",{className:"text-[9px] text-slate-300 mt-0.5",children:["Gen ",p]})]},p)}),C.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-px bg-indigo-200/50"})]})},Ii=({active:i,onClick:t,label:l,subLabel:a,icon:r,colorClass:f})=>C.jsxs("button",{onClick:t,className:`w-full flex flex-col items-center justify-center py-2 px-1 border-b border-orange-200 transition-all ${i?"bg-orange-500 text-white shadow-inner":"bg-white text-orange-500 hover:bg-orange-50"} ${f||""}`,children:[r&&C.jsx(r,{className:"w-5 h-5 mb-1"}),l&&C.jsx("span",{className:"text-[10px] font-bold uppercase leading-tight",children:l}),a&&C.jsx("span",{className:"text-[11px] font-medium leading-tight text-center",children:a})]}),GN=({ancestorLimit:i,descendantLimit:t,showDescendantSpouses:l,setAncestorLimit:a,setDescendantLimit:r,setShowDescendantSpouses:f,language:p="id"})=>{const g=Jo[p];return C.jsxs("div",{className:"absolute left-0 top-16 bottom-16 w-20 flex flex-col justify-between pointer-events-auto z-30 select-none px-2",children:[C.jsxs("div",{className:"flex flex-col border border-orange-300 rounded-lg overflow-hidden shadow-md bg-white mb-2",children:[C.jsx(Ii,{active:i===1/0,onClick:()=>a(1/0),icon:qe.Maximize,subLabel:g.unlimited}),C.jsx(Ii,{active:i===4,onClick:()=>a(4),label:"",subLabel:`4${g.gAgo}`}),C.jsx(Ii,{active:i===3,onClick:()=>a(3),label:"",subLabel:`3${g.gAgo}`}),C.jsx(Ii,{active:i===2,onClick:()=>a(2),label:"",subLabel:`2${g.gAgo}`})]}),C.jsxs("div",{className:"flex flex-col border border-orange-300 rounded-lg overflow-hidden shadow-md bg-white",children:[C.jsx(Ii,{active:t===1&&!l,onClick:()=>{r(1),f(!1)},icon:qe.User,subLabel:g.child}),C.jsx(Ii,{active:t===1&&l,onClick:()=>{r(1),f(!0)},icon:qe.Users,subLabel:g.childSpouse}),C.jsx(Ii,{active:t===2,onClick:()=>{r(2),f(!0)},icon:qe.Users,subLabel:g.grandchild}),C.jsx(Ii,{active:t===1/0,onClick:()=>{r(1/0),f(!0)},icon:qe.Maximize,subLabel:g.unlimited})]})]})},wi=()=>Math.random().toString(36).substr(2,9),kN=()=>{const[i,t]=j.useState(()=>{try{const z=localStorage.getItem("quick_family_tree_data");if(z)return JSON.parse(z)}catch(z){console.error("Failed to load data from local storage",z)}return{people:[{id:"root",name:"Me",gender:"male",birthDate:"",x:0,y:0,photoUrl:"https://ui-avatars.com/api/?name=Me&background=random"}],relationships:[]}});j.useEffect(()=>{localStorage.setItem("quick_family_tree_data",JSON.stringify(i))},[i]);const[l,a]=j.useState(qu),[r,f]=j.useState(new Set(["root"])),[p,g]=j.useState(Di.PAN),[y,m]=j.useState("pan"),[v,T]=j.useState("click"),[E,A]=j.useState(!1),[M,b]=j.useState(!1),[w,V]=j.useState(!0),[W,O]=j.useState(!1),[X,ne]=j.useState(""),[oe,Y]=j.useState(!1),[ye,Z]=j.useState(50),[he,ce]=j.useState(150),[Se,_e]=j.useState("id"),[Ve,ft]=j.useState("normal"),[G,$]=j.useState(""),[fe,Re]=j.useState(!1),[Me,x]=j.useState(1/0),[k,F]=j.useState(1/0),[Q,ie]=j.useState(!0),J=Jo[Se],ae=j.useRef(null),Ne=j.useMemo(()=>r.size===1?Array.from(r)[0]:null,[r]);j.useEffect(()=>{W&&ae.current&&setTimeout(()=>{var z;return(z=ae.current)==null?void 0:z.focus()},100)},[W]);const ve=j.useMemo(()=>{const z=Ne||(i.people.length>0?i.people[0].id:null);if(!z)return i;const se=new Map;i.people.forEach(me=>se.set(me.id,[])),i.relationships.forEach(me=>{var Le,Ce,Ft,tn;me.type==="parent"?((Le=se.get(me.targetId))==null||Le.push({id:me.sourceId,type:"parent",direction:"up"}),(Ce=se.get(me.sourceId))==null||Ce.push({id:me.targetId,type:"parent",direction:"down"})):me.type==="spouse"&&((Ft=se.get(me.sourceId))==null||Ft.push({id:me.targetId,type:"spouse",direction:"same"}),(tn=se.get(me.targetId))==null||tn.push({id:me.sourceId,type:"spouse",direction:"same"}))});const ee=new Map,re=[];for(re.push({id:z,gen:0,isSpouseInLaw:!1}),ee.set(z,{gen:0,isSpouseInLaw:!1});re.length>0;){const{id:me,gen:Le,isSpouseInLaw:Ce}=re.shift(),Ft=se.get(me)||[];for(const tn of Ft)if(!ee.has(tn.id)){let li=Le,cn=Ce;tn.direction==="up"?(li=Le-1,cn=!1):tn.direction==="down"?(li=Le+1,cn=!1):Ce||(cn=!0),ee.set(tn.id,{gen:li,isSpouseInLaw:cn}),re.push({id:tn.id,gen:li,isSpouseInLaw:cn})}}const pe=i.people.filter(me=>{if(!ee.has(me.id))return!1;const Le=ee.get(me.id),Ce=Le.gen;return!(Ce<0&&Math.abs(Ce)>Me||Ce>0&&(Ce>k||Le.isSpouseInLaw&&!Q))}),Ie=new Set(pe.map(me=>me.id)),ze=i.relationships.filter(me=>Ie.has(me.sourceId)&&Ie.has(me.targetId));return{people:pe,relationships:ze}},[i,Ne,Me,k,Q]),Je=(z,se,ee)=>{w||t(re=>({...re,people:re.people.map(pe=>pe.id===z?{...pe,x:se,y:ee}:pe)}))},nt=(z,se)=>{w||t(ee=>({...ee,people:ee.people.map(re=>r.has(re.id)?{...re,x:re.x+z,y:re.y+se}:re)}))},je=z=>{t(se=>({...se,people:se.people.map(ee=>ee.id===z.id?z:ee)}))},xt=(z,se)=>{t(ee=>({...ee,relationships:ee.relationships.map(re=>re.id===z?{...re,...se}:re)}))},dt=z=>{t(se=>({people:se.people.filter(ee=>ee.id!==z),relationships:se.relationships.filter(ee=>ee.sourceId!==z&&ee.targetId!==z)})),f(se=>{const ee=new Set(se);return ee.delete(z),ee}),Ne===z&&A(!1)},qt=(z,se)=>{const ee=i.people.find(Ie=>Ie.id===z);if(!ee)return;let re=[],pe=[];if(se==="child"){const Ie=wi(),ze=i.relationships.find(Ce=>Ce.type==="spouse"&&(Ce.sourceId===z||Ce.targetId===z));let me;if(ze){const Ce=ze.sourceId===z?ze.targetId:ze.sourceId;me=i.people.find(Ft=>Ft.id===Ce)}else{const Ce=wi();me={id:Ce,name:Se==="id"?"Pasangan Baru":"New Spouse",gender:ee.gender==="male"?"female":"male",birthDate:"",x:ee.x+Fl+30,y:ee.y,photoUrl:"https://ui-avatars.com/api/?name=Spouse&background=random"},re.push(me),pe.push({id:wi(),sourceId:z,targetId:Ce,type:"spouse"})}const Le={id:Ie,name:Se==="id"?"Anak Baru":"New Child",gender:"other",birthDate:"",x:ee.x,y:ee.y+ei,photoUrl:"https://ui-avatars.com/api/?name=Child&background=random"};if(me){const Ce=(ee.x+me.x)/2;Le.x=Ce}re.push(Le),pe.push({id:wi(),sourceId:z,targetId:Ie,type:"parent"}),me&&pe.push({id:wi(),sourceId:me.id,targetId:Ie,type:"parent"}),f(new Set([Ie]))}else{const Ie=wi(),ze={id:Ie,name:se==="parent"?Se==="id"?"Orang Tua Baru":"New Parent":Se==="id"?"Pasangan Baru":"New Spouse",gender:"other",birthDate:"",x:ee.x,y:ee.y,photoUrl:`https://ui-avatars.com/api/?name=${se}&background=random`},me=ei,Le=200;for(se==="parent"?(ze.y=ee.y-me,ze.x=ee.x):(ze.y=ee.y,ze.x=ee.x+Le);i.people.some(Ft=>Math.abs(Ft.x-ze.x)<50&&Math.abs(Ft.y-ze.y)<50);)ze.x+=50;re.push(ze);const Ce={id:wi(),sourceId:se==="parent"?Ie:z,targetId:se==="parent"?z:Ie,type:se==="spouse"?"spouse":"parent",relationshipStatus:"married"};pe.push(Ce),f(new Set([Ie]))}t(Ie=>({people:[...Ie.people,...re],relationships:[...Ie.relationships,...pe]})),A(!0)},Mt=(z,se,ee)=>{let re=z,pe=se,Ie;if(ee==="spouse"?Ie="spouse":ee==="parent"?(re=se,pe=z,Ie="parent"):(re=z,pe=se,Ie="parent"),i.relationships.some(Le=>Le.sourceId===re&&Le.targetId===pe&&Le.type===Ie||Ie==="spouse"&&Le.sourceId===pe&&Le.targetId===re&&Le.type==="spouse")){alert("Relationship already exists!");return}const me={id:wi(),sourceId:re,targetId:pe,type:Ie,relationshipStatus:Ie==="spouse"?"married":void 0};t(Le=>({...Le,relationships:[...Le.relationships,me]}))},en=(z,se)=>{t(ee=>({...ee,relationships:ee.relationships.filter(re=>!(re.sourceId===z&&re.targetId===se||re.sourceId===se&&re.targetId===z))}))},Yt=()=>{const z=JSON.stringify(i,null,2),se=new Blob([z],{type:"application/json"}),ee=URL.createObjectURL(se),re=document.createElement("a");re.href=ee,re.download="family_tree.json",document.body.appendChild(re),re.click(),document.body.removeChild(re)},vt=z=>{var ee;const se=(ee=z.target.files)==null?void 0:ee[0];if(se){const re=new FileReader;re.onload=pe=>{var Ie;try{const ze=JSON.parse((Ie=pe.target)==null?void 0:Ie.result);ze.people&&ze.relationships?(t(ze),a(qu)):alert("Invalid file format")}catch{alert("Error parsing JSON")}},re.readAsText(se)}},K=z=>{t(se=>{const ee=new Map;se.people.forEach(pe=>ee.set(pe.id,pe));const re=new Map;return se.relationships.forEach(pe=>re.set(pe.id,pe)),z.people.forEach(pe=>{ee.has(pe.id)?ee.set(pe.id,{...ee.get(pe.id),...pe}):ee.set(pe.id,pe)}),z.relationships.forEach(pe=>{Array.from(re.values()).some(ze=>ze.sourceId===pe.sourceId&&ze.targetId===pe.targetId&&ze.type===pe.type)||re.set(pe.id,pe)}),{people:Array.from(ee.values()),relationships:Array.from(re.values())}})},be=()=>{var se;const z=Ne||((se=i.people[0])==null?void 0:se.id);z&&t(ee=>{const re=new Map;ee.people.forEach(He=>re.set(He.id,[])),ee.relationships.forEach(He=>{var Xe,et,it,bt;He.type==="parent"?((Xe=re.get(He.targetId))==null||Xe.push({id:He.sourceId,direction:"up"}),(et=re.get(He.sourceId))==null||et.push({id:He.targetId,direction:"down"})):He.type==="spouse"&&((it=re.get(He.sourceId))==null||it.push({id:He.targetId,direction:"same"}),(bt=re.get(He.targetId))==null||bt.push({id:He.sourceId,direction:"same"}))});const pe=new Map,Ie=[{id:z,level:0,isSpouseInLaw:!1}];pe.set(z,{level:0,isSpouseInLaw:!1});const ze=new Set([z]);for(;Ie.length>0;){const{id:He,level:Xe,isSpouseInLaw:et}=Ie.shift(),it=re.get(He)||[];for(const bt of it)if(!ze.has(bt.id)){let ot=Xe,lt=et;bt.direction==="up"?(ot=Xe-1,lt=!1):bt.direction==="down"?(ot=Xe+1,lt=!1):et||(lt=!0),pe.set(bt.id,{level:ot,isSpouseInLaw:lt}),ze.add(bt.id),Ie.push({id:bt.id,level:ot,isSpouseInLaw:lt})}}const me=new Map,Le=ee.people.map(He=>({...He}));Le.forEach(He=>{var Xe;if(pe.has(He.id)){const et=pe.get(He.id);me.has(et.level)||me.set(et.level,[]),(Xe=me.get(et.level))==null||Xe.push(He)}});const Ce=Ve==="mini"?sc:Fl,Ft=30,tn=He=>ee.relationships.filter(Xe=>Xe.type==="parent"&&Xe.targetId===He).map(Xe=>Xe.sourceId),li=(He,Xe)=>{const et=tn(He.id),it=tn(Xe.id);return et.length===0||it.length===0?!1:et.some(bt=>it.includes(bt))},cn=(He,Xe)=>He.some(et=>Xe.some(it=>li(et,it))),eo=He=>{const Xe=new Set(He.map(it=>it.id)),et=new Set;return ee.relationships.forEach(it=>{it.type==="parent"&&Xe.has(it.sourceId)&&et.add(it.targetId)}),et.size};return me.forEach((He,Xe)=>{const et=He.filter(ot=>{const lt=pe.get(ot.id);return!(!lt||lt.level<0&&Math.abs(lt.level)>Me||lt.level>0&&(lt.level>k||lt.isSpouseInLaw&&!Q))});if(et.length===0)return;et.sort((ot,lt)=>ot.x-lt.x);const it=[],bt=new Set;et.forEach(ot=>{if(bt.has(ot.id))return;const lt=[ot];bt.add(ot.id);const ut=[ot];for(;ut.length>0;){const Jt=ut.shift();ee.relationships.filter(Vt=>Vt.type==="spouse"&&(Vt.sourceId===Jt.id||Vt.targetId===Jt.id)).map(Vt=>Vt.sourceId===Jt.id?Vt.targetId:Vt.sourceId).forEach(Vt=>{const fn=et.find(to=>to.id===Vt);fn&&!bt.has(Vt)&&(bt.add(Vt),lt.push(fn),ut.push(fn))})}lt.sort((Jt,An)=>Jt.x-An.x),it.push(lt)}),it.forEach((ot,lt)=>{if(lt!==0){const ut=it[lt-1],Jt=ut[ut.length-1],An=ot[0];let fn=cn(ut,ot)?ye:he;if(Jt.customRightGap!==void 0&&Jt.customRightGap>0)fn=Jt.customRightGap;else{const ai=eo(ut);if(ai>1){const $o=ai*Ce+(ai-1)*ye,xn=ut.length*Ce+(ut.length-1)*Ft;if($o>xn){const Nt=($o-xn)/2;fn=Math.max(fn,Nt+50)}}}An.customLeftGap!==void 0&&An.customLeftGap>0&&(fn=An.customLeftGap);const Zo=Jt.x+Ce+fn-ot[0].x;ot.forEach(ai=>ai.x+=Zo)}for(let ut=1;ut<ot.length;ut++){const Jt=ot[ut-1],An=ot[ut];An.x=Jt.x+Ce+Ft}ot.forEach(ut=>ut.y=Xe*ei)})}),{...ee,people:Le}})};j.useEffect(()=>{i.people.length>1&&be()},[Q]);const pt=z=>{const se=i.people.find(ee=>ee.id===z);if(se){const ee=l.scale,re=window.innerWidth/2-(se.x+Fl/2)*ee,pe=window.innerHeight/2-(se.y+ac/2)*ee;a(Ie=>({...Ie,x:re,y:pe})),f(new Set([z])),w||A(!0),$(""),Re(!1)}},ht=()=>{w?(O(!0),ne("")):(V(!0),A(!1))},Ue=z=>{z&&z.preventDefault(),X==="h45l1ntree"?(V(!1),O(!1),ne(""),Ne&&A(!0)):alert(J.wrongPassword)},ji=(z,se,ee=!0)=>{if(z===null){se||f(new Set),se||A(!1),Y(!1);return}f(re=>{const pe=new Set(se?re:[]);return se&&pe.has(z)?pe.delete(z):pe.add(z),pe}),ee&&!w&&(!se||r.size===0)&&A(!0)};j.useEffect(()=>{r.size!==1&&A(!1)},[r.size]);const oi=G?i.people.filter(z=>z.name.toLowerCase().includes(G.toLowerCase())):[];return C.jsxs("div",{className:"w-screen h-screen flex flex-col relative",children:[C.jsx("div",{className:`absolute z-40 w-[90%] md:w-full md:max-w-sm px-4 
        left-1/2 -translate-x-1/2 
        top-14 md:top-4 transition-all duration-300
      `,children:C.jsxs("div",{className:"relative group shadow-lg rounded-full",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx(qe.Search,{className:"h-5 w-5 text-gray-400"})}),C.jsx("input",{type:"text",className:"block w-full pl-10 pr-4 py-2.5 border border-transparent rounded-full leading-5 bg-white/90 backdrop-blur text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-white sm:text-sm transition-all shadow-sm",placeholder:J.searchPlaceholder,value:G,onChange:z=>$(z.target.value),onFocus:()=>Re(!0),onBlur:()=>setTimeout(()=>Re(!1),200)}),fe&&G&&C.jsx("div",{className:"absolute mt-2 w-full bg-white rounded-xl shadow-xl py-1 overflow-hidden animate-fade-in-down border border-gray-100 max-h-60 overflow-y-auto",children:oi.length>0?oi.map(z=>C.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-indigo-50 flex items-center gap-3 transition-colors border-b border-gray-50 last:border-0",onClick:()=>pt(z.id),children:[C.jsx("img",{src:z.photoUrl,alt:z.name,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("div",{className:"font-medium text-gray-900 truncate",children:z.name}),C.jsx("div",{className:"text-xs text-gray-500 truncate",children:z.birthDate?`${J.born}: ${z.birthDate}`:J.unknownDate})]})]},z.id)):C.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 italic text-center",children:J.noResults})})]})}),C.jsxs("div",{className:"absolute top-4 right-4 z-40 flex items-center gap-2",children:[!w&&C.jsxs("div",{className:"relative",children:[C.jsxs("div",{className:"flex bg-white/90 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200",children:[C.jsx("button",{onClick:()=>be(),className:"p-2 text-gray-600 hover:text-indigo-600 border-r border-gray-200 hover:bg-gray-50 rounded-l-lg transition-colors",title:J.autoLayout,children:C.jsx(qe.Grid,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>Y(!oe),className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-50 rounded-r-lg transition-colors",title:J.layoutSettings,children:C.jsx(qe.Settings,{className:"w-5 h-5"})})]}),oe&&C.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 p-3 animate-fade-in z-50",children:[C.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:J.layoutSettings}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:J.siblingGap}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"range",min:"20",max:"200",value:ye,onChange:z=>Z(Number(z.target.value)),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),C.jsx("span",{className:"text-xs w-8 text-right font-mono",children:ye})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:J.cousinGap}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"range",min:"50",max:"400",value:he,onChange:z=>ce(Number(z.target.value)),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),C.jsx("span",{className:"text-xs w-8 text-right font-mono",children:he})]})]}),C.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[C.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:J.editTriggerLabel}),C.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[C.jsx("button",{onClick:()=>T("click"),className:`flex-1 text-[10px] py-1 rounded font-medium transition ${v==="click"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:J.editTriggerClick}),C.jsx("button",{onClick:()=>T("hold"),className:`flex-1 text-[10px] py-1 rounded font-medium transition ${v==="hold"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:J.editTriggerHold})]})]}),C.jsx("button",{onClick:()=>{be(),Y(!1)},className:"w-full bg-indigo-600 text-white text-xs font-bold py-1.5 rounded hover:bg-indigo-700 transition mt-1",children:J.apply})]})]})]}),C.jsx("button",{onClick:()=>ft(z=>z==="normal"?"mini":"normal"),className:"p-2 rounded-lg shadow-lg border border-gray-200 transition-colors bg-white/90 hover:bg-white text-gray-600 hover:text-indigo-600",title:J.viewMode,children:C.jsx(qe.Layout,{className:"w-5 h-5"})}),C.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200 flex overflow-hidden text-sm font-medium",children:[C.jsx("button",{onClick:()=>_e("id"),className:`px-3 py-1.5 transition-colors ${Se==="id"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"ID"}),C.jsx("div",{className:"w-px bg-gray-200"}),C.jsx("button",{onClick:()=>_e("en"),className:`px-3 py-1.5 transition-colors ${Se==="en"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"EN"})]})]}),C.jsxs("div",{className:`absolute z-40 bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-lg border border-gray-200 flex flex-col gap-2
          bottom-6 right-4             
          md:top-4 md:left-24 md:bottom-auto md:right-auto
          transition-all duration-300
      `,children:[C.jsx("div",{className:"flex gap-1 border-b border-gray-200 pb-2 mb-1",children:C.jsx("button",{onClick:ht,className:`p-2 rounded hover:opacity-90 transition shadow-sm w-full flex justify-center items-center ${w?"bg-red-500 text-white":"bg-green-500 text-white"}`,title:w?J.unlockEditing:J.lockEditing,children:w?C.jsx(qe.Lock,{className:"w-5 h-5"}):C.jsx(qe.Unlock,{className:"w-5 h-5"})})}),C.jsxs("div",{className:"flex flex-col gap-1 border-b border-gray-200 pb-2 mb-1",children:[C.jsx("button",{onClick:()=>g(Di.PAN),className:`p-2 rounded transition shadow-sm w-full flex justify-center items-center ${p===Di.PAN?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,title:J.toolPan,children:C.jsx(qe.Move,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>g(Di.SELECT),className:`p-2 rounded transition shadow-sm w-full flex justify-center items-center ${p===Di.SELECT?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,title:J.toolSelect,children:C.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("rect",{x:"5",y:"5",width:"14",height:"14",rx:"2",strokeWidth:"2",strokeDasharray:"4 2"})})})]}),C.jsx("div",{className:"flex flex-col gap-1 border-b border-gray-200 pb-2 mb-1",children:C.jsxs("button",{onClick:()=>m(z=>z==="pan"?"zoom":"pan"),className:`p-2 rounded transition shadow-sm w-full flex justify-center items-center relative group ${y==="zoom"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:bg-gray-100"}`,title:`${J.scrollModeLabel} ${y==="zoom"?J.scrollZoom:J.scrollPan}`,children:[C.jsx(qe.Mouse,{className:"w-5 h-5"}),C.jsxs("span",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 whitespace-nowrap pointer-events-none z-50 transition-opacity",children:[J.scrollModeLabel," ",y==="zoom"?J.scrollZoom:J.scrollPan]})]})}),!w&&C.jsx("div",{className:"flex gap-1 border-b border-gray-200 pb-2 mb-1",children:C.jsx("button",{onClick:()=>b(!0),className:"p-2 text-white bg-gradient-to-r from-purple-500 to-indigo-600 rounded hover:opacity-90 transition shadow-sm w-full flex justify-center",title:J.aiGenerator,children:C.jsx(qe.Wand2,{className:"w-5 h-5"})})}),C.jsxs("div",{className:"flex flex-col gap-1",children:[C.jsx("button",{onClick:()=>a(z=>({...z,scale:Math.min(z.scale+.1,3)})),className:"p-2 text-gray-700 hover:bg-gray-100 rounded",title:"Zoom In",children:C.jsx(qe.ZoomIn,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>a(z=>({...z,scale:Math.max(z.scale-.1,.1)})),className:"p-2 text-gray-700 hover:bg-gray-100 rounded",title:"Zoom Out",children:C.jsx(qe.ZoomOut,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>a(qu),className:"p-2 text-gray-700 hover:bg-gray-100 rounded",title:"Reset View",children:C.jsx(qe.Maximize,{className:"w-5 h-5"})})]}),!w&&C.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-1 flex flex-col gap-1",children:[C.jsxs("label",{className:"p-2 text-gray-700 hover:bg-gray-100 rounded cursor-pointer",title:J.importJson,children:[C.jsx(qe.Upload,{className:"w-5 h-5"}),C.jsx("input",{type:"file",accept:".json",onChange:vt,className:"hidden"})]}),C.jsx("button",{onClick:Yt,className:"p-2 text-gray-700 hover:bg-gray-100 rounded",title:J.exportJson,children:C.jsx(qe.Download,{className:"w-5 h-5"})})]})]}),C.jsx(LN,{viewport:l,language:Se}),C.jsx(GN,{ancestorLimit:Me,descendantLimit:k,showDescendantSpouses:Q,setAncestorLimit:x,setDescendantLimit:F,setShowDescendantSpouses:ie,language:Se}),C.jsx("div",{className:"flex-1 bg-[#f4f1ea] overflow-hidden pl-24",children:C.jsx(vS,{data:ve,viewport:l,setViewport:a,onUpdatePersonPosition:Je,onMoveSelectedNodes:nt,selectedPersonIds:r,onSelectPerson:ji,onMultiSelect:z=>f(z),language:Se,viewMode:Ve,toolMode:p,scrollMode:y,editTrigger:v})}),!w&&C.jsx(SS,{isOpen:E&&Ne!==null,onClose:()=>A(!1),selectedPerson:i.people.find(z=>z.id===Ne)||null,allPeople:i.people,relationships:i.relationships,onUpdatePerson:je,onUpdateRelationship:xt,onDeletePerson:dt,onAddRelative:qt,onLinkRelative:Mt,onUnlinkRelative:en,onTriggerLayout:be,language:Se}),C.jsx(UN,{isOpen:M,onClose:()=>b(!1),onApplyData:K,existingPeople:i.people,language:Se,selectedPerson:i.people.find(z=>z.id===Ne)}),W&&C.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-sm m-4 animate-scale-in",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[C.jsx(qe.Lock,{className:"w-5 h-5 text-red-500"}),J.unlockEditing]}),C.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:C.jsx(qe.X,{className:"w-5 h-5"})})]}),C.jsx("p",{className:"text-sm text-gray-600 mb-4",children:J.enterPassword}),C.jsxs("form",{onSubmit:Ue,children:[C.jsx("input",{ref:ae,type:"password",className:"w-full border border-gray-300 rounded-lg px-4 py-2 mb-4 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"Password...",value:X,onChange:z=>ne(z.target.value)}),C.jsxs("div",{className:"flex justify-end gap-2",children:[C.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm font-medium",children:J.cancel}),C.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium shadow-md",children:"OK"})]})]})]})})]})},$g=document.getElementById("root");if(!$g)throw new Error("Could not find root element to mount to");const HN=Tv.createRoot($g);HN.render(C.jsx(dv.StrictMode,{children:C.jsx(kN,{})}));
