(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function eg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Iu={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function uv(){if(uh)return Gl;uh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return Gl.Fragment=t,Gl.jsx=l,Gl.jsxs=l,Gl}var ch;function cv(){return ch||(ch=1,Iu.exports=uv()),Iu.exports}var C=cv(),Du={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function fv(){if(fh)return _e;fh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=T&&b[T]||b["@@iterator"],typeof b=="function"?b:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,R={};function B(b,I,X){this.props=b,this.context=I,this.refs=R,this.updater=X||N}B.prototype.isReactComponent={},B.prototype.setState=function(b,I){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,I,"setState")},B.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Z(){}Z.prototype=B.prototype;function F(b,I,X){this.props=b,this.context=I,this.refs=R,this.updater=X||N}var ee=F.prototype=new Z;ee.constructor=F,k(ee,B.prototype),ee.isPureReactComponent=!0;var oe=Array.isArray;function ce(){}var Q={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function ue(b,I,X){var K=X.ref;return{$$typeof:i,type:b,key:I,ref:K!==void 0?K:null,props:X}}function ae(b,I){return ue(b.type,I,b.props)}function Ce(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function ve(b){var I={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(X){return I[X]})}var se=/\/+/g;function He(b,I){return typeof b=="object"&&b!==null&&b.key!=null?ve(""+b.key):I.toString(36)}function $e(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ce,ce):(b.status="pending",b.then(function(I){b.status==="pending"&&(b.status="fulfilled",b.value=I)},function(I){b.status==="pending"&&(b.status="rejected",b.reason=I)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function H(b,I,X,K,te){var O=typeof b;(O==="undefined"||O==="boolean")&&(b=null);var me=!1;if(b===null)me=!0;else switch(O){case"bigint":case"string":case"number":me=!0;break;case"object":switch(b.$$typeof){case i:case t:me=!0;break;case v:return me=b._init,H(me(b._payload),I,X,K,te)}}if(me)return te=te(b),me=K===""?"."+He(b,0):K,oe(te)?(X="",me!=null&&(X=me.replace(se,"$&/")+"/"),H(te,I,X,"",function(Pe){return Pe})):te!=null&&(Ce(te)&&(te=ae(te,X+(te.key==null||b&&b.key===te.key?"":(""+te.key).replace(se,"$&/")+"/")+me)),I.push(te)),1;me=0;var xe=K===""?".":K+":";if(oe(b))for(var Se=0;Se<b.length;Se++)K=b[Se],O=xe+He(K,Se),me+=H(K,I,X,O,te);else if(Se=A(b),typeof Se=="function")for(b=Se.call(b),Se=0;!(K=b.next()).done;)K=K.value,O=xe+He(K,Se++),me+=H(K,I,X,O,te);else if(O==="object"){if(typeof b.then=="function")return H($e(b),I,X,K,te);throw I=String(b),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return me}function $(b,I,X){if(b==null)return b;var K=[],te=0;return H(b,K,"","",function(O){return I.call(X,O,te++)}),K}function he(b){if(b._status===-1){var I=b._result;I=I(),I.then(function(X){(b._status===0||b._status===-1)&&(b._status=1,b._result=X)},function(X){(b._status===0||b._status===-1)&&(b._status=2,b._result=X)}),b._status===-1&&(b._status=0,b._result=I)}if(b._status===1)return b._result.default;throw b._result}var Ie=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},De={map:$,forEach:function(b,I,X){$(b,function(){I.apply(this,arguments)},X)},count:function(b){var I=0;return $(b,function(){I++}),I},toArray:function(b){return $(b,function(I){return I})||[]},only:function(b){if(!Ce(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return _e.Activity=E,_e.Children=De,_e.Component=B,_e.Fragment=l,_e.Profiler=r,_e.PureComponent=F,_e.StrictMode=a,_e.Suspense=y,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,_e.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Q.H.useMemoCache(b)}},_e.cache=function(b){return function(){return b.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(b,I,X){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var K=k({},b.props),te=b.key;if(I!=null)for(O in I.key!==void 0&&(te=""+I.key),I)!de.call(I,O)||O==="key"||O==="__self"||O==="__source"||O==="ref"&&I.ref===void 0||(K[O]=I[O]);var O=arguments.length-2;if(O===1)K.children=X;else if(1<O){for(var me=Array(O),xe=0;xe<O;xe++)me[xe]=arguments[xe+2];K.children=me}return ue(b.type,te,K)},_e.createContext=function(b){return b={$$typeof:p,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},_e.createElement=function(b,I,X){var K,te={},O=null;if(I!=null)for(K in I.key!==void 0&&(O=""+I.key),I)de.call(I,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(te[K]=I[K]);var me=arguments.length-2;if(me===1)te.children=X;else if(1<me){for(var xe=Array(me),Se=0;Se<me;Se++)xe[Se]=arguments[Se+2];te.children=xe}if(b&&b.defaultProps)for(K in me=b.defaultProps,me)te[K]===void 0&&(te[K]=me[K]);return ue(b,O,te)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(b){return{$$typeof:g,render:b}},_e.isValidElement=Ce,_e.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:he}},_e.memo=function(b,I){return{$$typeof:m,type:b,compare:I===void 0?null:I}},_e.startTransition=function(b){var I=Q.T,X={};Q.T=X;try{var K=b(),te=Q.S;te!==null&&te(X,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ce,Ie)}catch(O){Ie(O)}finally{I!==null&&X.types!==null&&(I.types=X.types),Q.T=I}},_e.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},_e.use=function(b){return Q.H.use(b)},_e.useActionState=function(b,I,X){return Q.H.useActionState(b,I,X)},_e.useCallback=function(b,I){return Q.H.useCallback(b,I)},_e.useContext=function(b){return Q.H.useContext(b)},_e.useDebugValue=function(){},_e.useDeferredValue=function(b,I){return Q.H.useDeferredValue(b,I)},_e.useEffect=function(b,I){return Q.H.useEffect(b,I)},_e.useEffectEvent=function(b){return Q.H.useEffectEvent(b)},_e.useId=function(){return Q.H.useId()},_e.useImperativeHandle=function(b,I,X){return Q.H.useImperativeHandle(b,I,X)},_e.useInsertionEffect=function(b,I){return Q.H.useInsertionEffect(b,I)},_e.useLayoutEffect=function(b,I){return Q.H.useLayoutEffect(b,I)},_e.useMemo=function(b,I){return Q.H.useMemo(b,I)},_e.useOptimistic=function(b,I){return Q.H.useOptimistic(b,I)},_e.useReducer=function(b,I,X){return Q.H.useReducer(b,I,X)},_e.useRef=function(b){return Q.H.useRef(b)},_e.useState=function(b){return Q.H.useState(b)},_e.useSyncExternalStore=function(b,I,X){return Q.H.useSyncExternalStore(b,I,X)},_e.useTransition=function(){return Q.H.useTransition()},_e.version="19.2.3",_e}var dh;function nc(){return dh||(dh=1,Du.exports=fv()),Du.exports}var j=nc();const dv=eg(j);var Uu={exports:{}},kl={},Lu={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph;function pv(){return ph||(ph=1,(function(i){function t(H,$){var he=H.length;H.push($);e:for(;0<he;){var Ie=he-1>>>1,De=H[Ie];if(0<r(De,$))H[Ie]=$,H[he]=De,he=Ie;else break e}}function l(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var $=H[0],he=H.pop();if(he!==$){H[0]=he;e:for(var Ie=0,De=H.length,b=De>>>1;Ie<b;){var I=2*(Ie+1)-1,X=H[I],K=I+1,te=H[K];if(0>r(X,he))K<De&&0>r(te,X)?(H[Ie]=te,H[K]=he,Ie=K):(H[Ie]=X,H[I]=he,Ie=I);else if(K<De&&0>r(te,he))H[Ie]=te,H[K]=he,Ie=K;else break e}}return $}function r(H,$){var he=H.sortIndex-$.sortIndex;return he!==0?he:H.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],m=[],v=1,E=null,T=3,A=!1,N=!1,k=!1,R=!1,B=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ee(H){for(var $=l(m);$!==null;){if($.callback===null)a(m);else if($.startTime<=H)a(m),$.sortIndex=$.expirationTime,t(y,$);else break;$=l(m)}}function oe(H){if(k=!1,ee(H),!N)if(l(y)!==null)N=!0,ce||(ce=!0,ve());else{var $=l(m);$!==null&&$e(oe,$.startTime-H)}}var ce=!1,Q=-1,de=5,ue=-1;function ae(){return R?!0:!(i.unstable_now()-ue<de)}function Ce(){if(R=!1,ce){var H=i.unstable_now();ue=H;var $=!0;try{e:{N=!1,k&&(k=!1,Z(Q),Q=-1),A=!0;var he=T;try{t:{for(ee(H),E=l(y);E!==null&&!(E.expirationTime>H&&ae());){var Ie=E.callback;if(typeof Ie=="function"){E.callback=null,T=E.priorityLevel;var De=Ie(E.expirationTime<=H);if(H=i.unstable_now(),typeof De=="function"){E.callback=De,ee(H),$=!0;break t}E===l(y)&&a(y),ee(H)}else a(y);E=l(y)}if(E!==null)$=!0;else{var b=l(m);b!==null&&$e(oe,b.startTime-H),$=!1}}break e}finally{E=null,T=he,A=!1}$=void 0}}finally{$?ve():ce=!1}}}var ve;if(typeof F=="function")ve=function(){F(Ce)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,He=se.port2;se.port1.onmessage=Ce,ve=function(){He.postMessage(null)}}else ve=function(){B(Ce,0)};function $e(H,$){Q=B(function(){H(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(H){switch(T){case 1:case 2:case 3:var $=3;break;default:$=T}var he=T;T=$;try{return H()}finally{T=he}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=T;T=H;try{return $()}finally{T=he}},i.unstable_scheduleCallback=function(H,$,he){var Ie=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ie+he:Ie):he=Ie,H){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=he+De,H={id:v++,callback:$,priorityLevel:H,startTime:he,expirationTime:De,sortIndex:-1},he>Ie?(H.sortIndex=he,t(m,H),l(y)===null&&H===l(m)&&(k?(Z(Q),Q=-1):k=!0,$e(oe,he-Ie))):(H.sortIndex=De,t(y,H),N||A||(N=!0,ce||(ce=!0,ve()))),H},i.unstable_shouldYield=ae,i.unstable_wrapCallback=function(H){var $=T;return function(){var he=T;T=$;try{return H.apply(this,arguments)}finally{T=he}}}})(Gu)),Gu}var hh;function hv(){return hh||(hh=1,Lu.exports=pv()),Lu.exports}var ku={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function mv(){if(mh)return Gt;mh=1;var i=nc();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,m,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:y,containerInfo:m,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Gt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return f(y,m,null,v)},Gt.flushSync=function(y){var m=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=m,a.p=v,a.d.f()}},Gt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},Gt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Gt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,E=g(v,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Gt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},Gt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,E=g(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Gt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},Gt.requestFormReset=function(y){a.d.r(y)},Gt.unstable_batchedUpdates=function(y,m){return y(m)},Gt.useFormState=function(y,m,v){return p.H.useFormState(y,m,v)},Gt.useFormStatus=function(){return p.H.useHostTransitionStatus()},Gt.version="19.2.3",Gt}var gh;function gv(){if(gh)return ku.exports;gh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ku.exports=mv(),ku.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function yv(){if(yh)return kl;yh=1;var i=hv(),t=nc(),l=gv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return y(d),e;if(h===s)return y(d),n;h=h.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=h;else{for(var S=!1,_=d.child;_;){if(_===o){S=!0,o=d,s=h;break}if(_===s){S=!0,s=d,o=h;break}_=_.sibling}if(!S){for(_=h.child;_;){if(_===o){S=!0,o=h,s=d;break}if(_===s){S=!0,s=h,o=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=Ce&&e[Ce]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function He(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case B:return"Profiler";case R:return"StrictMode";case oe:return"Suspense";case ce:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case F:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case ee:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:He(e.type)||"Memo";case de:n=e._payload,e=e._init;try{return He(e(n))}catch{}}return null}var $e=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ie=[],De=-1;function b(e){return{current:e}}function I(e){0>De||(e.current=Ie[De],Ie[De]=null,De--)}function X(e,n){De++,Ie[De]=e.current,e.current=n}var K=b(null),te=b(null),O=b(null),me=b(null);function xe(e,n){switch(X(O,n),X(te,e),X(K,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Dp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Dp(n),e=Up(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(K),X(K,e)}function Se(){I(K),I(te),I(O)}function Pe(e){e.memoizedState!==null&&X(me,e);var n=K.current,o=Up(n,e.type);n!==o&&(X(te,e),X(K,o))}function qe(e){te.current===e&&(I(K),I(te)),me.current===e&&(I(me),Il._currentValue=he)}var et,Xe;function ct(e){if(et===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);et=n&&n[1]||"",Xe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+e+Xe}var Me=!1;function yt(e,n){if(!e||Me)return"";Me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(P){var G=P}Reflect.construct(e,[],z)}else{try{z.call()}catch(P){G=P}e.call(z.prototype)}}else{try{throw Error()}catch(P){G=P}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(P){if(P&&G&&typeof P.stack=="string")return[P.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),S=h[0],_=h[1];if(S&&_){var x=S.split(`
`),L=_.split(`
`);for(d=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;if(s===x.length||d===L.length)for(s=x.length-1,d=L.length-1;1<=s&&0<=d&&x[s]!==L[d];)d--;for(;1<=s&&0<=d;s--,d--)if(x[s]!==L[d]){if(s!==1||d!==1)do if(s--,d--,0>d||x[s]!==L[d]){var q=`
`+x[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=d);break}}}finally{Me=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?ct(o):""}function Cn(e,n){switch(e.tag){case 26:case 27:case 5:return ct(e.type);case 16:return ct("Lazy");case 13:return e.child!==n&&n!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return yt(e.type,!1);case 11:return yt(e.type.render,!1);case 1:return yt(e.type,!0);case 31:return ct("Activity");default:return""}}function Ht(e){try{var n="",o=null;do n+=Cn(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Pt=Object.prototype.hasOwnProperty,st=i.unstable_scheduleCallback,An=i.unstable_cancelCallback,Oo=i.unstable_shouldYield,Wn=i.unstable_requestPaint,bt=i.unstable_now,Yo=i.unstable_getCurrentPriorityLevel,Ji=i.unstable_ImmediatePriority,Xi=i.unstable_UserBlockingPriority,bn=i.unstable_NormalPriority,Y=i.unstable_LowPriority,ne=i.unstable_IdlePriority,w=i.log,J=i.unstable_setDisableYieldValue,ie=null,W=null;function le(e){if(typeof w=="function"&&J(e),W&&typeof W.setStrictMode=="function")try{W.setStrictMode(ie,e)}catch{}}var ge=Math.clz32?Math.clz32:Oe,vt=Math.log,Re=Math.LN2;function Oe(e){return e>>>=0,e===0?32:31-(vt(e)/Re|0)|0}var nt=256,lt=262144,Ct=4194304;function ft(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tt(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~h,s!==0?d=ft(s):(S&=_,S!==0?d=ft(S):o||(o=_&~e,o!==0&&(d=ft(o))))):(_=s&~h,_!==0?d=ft(_):S!==0?d=ft(S):o||(o=s&~e,o!==0&&(d=ft(o)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,o=n&-n,h>=o||h===32&&(o&4194048)!==0)?n:d}function We(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xt(){var e=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),e}function rt(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Zt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fo(e,n,o,s,d,h){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,x=e.expirationTimes,L=e.hiddenUpdates;for(o=S&~o;0<o;){var q=31-ge(o),z=1<<q;_[q]=0,x[q]=-1;var G=L[q];if(G!==null)for(L[q]=null,q=0;q<G.length;q++){var P=G[q];P!==null&&(P.lane&=-536870913)}o&=~z}s!==0&&ql(e,s,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~n))}function ql(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-ge(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function hc(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-ge(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function mc(e,n){var o=n&-n;return o=(o&42)!==0?1:Ts(o),(o&(e.suspendedLanes|n))!==0?0:o}function Ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Es(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gc(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:nh(e.type))}function yc(e,n){var o=$.p;try{return $.p=e,n()}finally{$.p=o}}var jn=Math.random().toString(36).slice(2),wt="__reactFiber$"+jn,Ot="__reactProps$"+jn,Ki="__reactContainer$"+jn,_s="__reactEvents$"+jn,Wg="__reactListeners$"+jn,jg="__reactHandles$"+jn,vc="__reactResources$"+jn,Jo="__reactMarker$"+jn;function Cs(e){delete e[wt],delete e[Ot],delete e[_s],delete e[Wg],delete e[jg]}function Qi(e){var n=e[wt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Ki]||o[wt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Vp(e);e!==null;){if(o=e[wt])return o;e=Vp(e)}return n}e=o,o=e.parentNode}return null}function Zi(e){if(e=e[wt]||e[Ki]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Xo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function $i(e){var n=e[vc];return n||(n=e[vc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(e){e[Jo]=!0}var Sc=new Set,Tc={};function Ri(e,n){Wi(e,n),Wi(e+"Capture",n)}function Wi(e,n){for(Tc[e]=n,e=0;e<n.length;e++)Sc.add(n[e])}var ey=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ec={},_c={};function ty(e){return Pt.call(_c,e)?!0:Pt.call(Ec,e)?!1:ey.test(e)?_c[e]=!0:(Ec[e]=!0,!1)}function Vl(e,n,o){if(ty(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function zl(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function wn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ny(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,h.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function As(e){if(!e._valueTracker){var n=Cc(e)?"checked":"value";e._valueTracker=ny(e,n,""+e[n])}}function Ac(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=Cc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function Bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var iy=/[\n"\\]/g;function an(e){return e.replace(iy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xs(e,n,o,s,d,h,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ln(n)):e.value!==""+ln(n)&&(e.value=""+ln(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?Ns(e,S,ln(n)):o!=null?Ns(e,S,ln(o)):s!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+ln(_):e.removeAttribute("name")}function xc(e,n,o,s,d,h,S,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){As(e);return}o=o!=null?""+ln(o):"",n=n!=null?""+ln(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),As(e)}function Ns(e,n,o){n==="number"&&Bl(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ji(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+ln(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Nc(e,n,o){if(n!=null&&(n=""+ln(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+ln(o):""}function Rc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if($e(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=ln(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),As(e)}function eo(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var oy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||oy.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function bc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&Mc(e,d,s)}else for(var h in n)n.hasOwnProperty(h)&&Mc(e,h,n[h])}function Rs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ay=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(e){return ay.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function In(){}var Ms=null;function bs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var to=null,no=null;function wc(e){var n=Zi(e);if(n&&(e=n.stateNode)){var o=e[Ot]||null;e:switch(e=n.stateNode,n.type){case"input":if(xs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[Ot]||null;if(!d)throw Error(a(90));xs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&Ac(s)}break e;case"textarea":Nc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&ji(e,!!o.multiple,n,!1)}}}var ws=!1;function Ic(e,n,o){if(ws)return e(n,o);ws=!0;try{var s=e(n);return s}finally{if(ws=!1,(to!==null||no!==null)&&(wa(),to&&(n=to,e=no,no=to=null,wc(n),e)))for(n=0;n<e.length;n++)wc(e[n])}}function Ko(e,n){var o=e.stateNode;if(o===null)return null;var s=o[Ot]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Dn)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{Is=!1}var ei=null,Ds=null,Yl=null;function Dc(){if(Yl)return Yl;var e,n=Ds,o=n.length,s,d="value"in ei?ei.value:ei.textContent,h=d.length;for(e=0;e<o&&n[e]===d[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===d[h-s];s++);return Yl=d.slice(e,1<s?1-s:void 0)}function Fl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Jl(){return!0}function Uc(){return!1}function Yt(e){function n(o,s,d,h,S){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Jl:Uc,this.isPropagationStopped=Uc,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Yt(Mi),Zo=E({},Mi,{view:0,detail:0}),sy=Yt(Zo),Us,Ls,$o,Kl=E({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$o&&($o&&e.type==="mousemove"?(Us=e.screenX-$o.screenX,Ls=e.screenY-$o.screenY):Ls=Us=0,$o=e),Us)},movementY:function(e){return"movementY"in e?e.movementY:Ls}}),Lc=Yt(Kl),ry=E({},Kl,{dataTransfer:0}),uy=Yt(ry),cy=E({},Zo,{relatedTarget:0}),Gs=Yt(cy),fy=E({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),dy=Yt(fy),py=E({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hy=Yt(py),my=E({},Mi,{data:0}),Gc=Yt(my),gy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vy[e])?!!n[e]:!1}function ks(){return Sy}var Ty=E({},Zo,{key:function(e){if(e.key){var n=gy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return e.type==="keypress"?Fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ey=Yt(Ty),_y=E({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kc=Yt(_y),Cy=E({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),Ay=Yt(Cy),xy=E({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ny=Yt(xy),Ry=E({},Kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),My=Yt(Ry),by=E({},Mi,{newState:0,oldState:0}),wy=Yt(by),Iy=[9,13,27,32],Hs=Dn&&"CompositionEvent"in window,Wo=null;Dn&&"documentMode"in document&&(Wo=document.documentMode);var Dy=Dn&&"TextEvent"in window&&!Wo,Hc=Dn&&(!Hs||Wo&&8<Wo&&11>=Wo),Pc=" ",qc=!1;function Vc(e,n){switch(e){case"keyup":return Iy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var io=!1;function Uy(e,n){switch(e){case"compositionend":return zc(n);case"keypress":return n.which!==32?null:(qc=!0,Pc);case"textInput":return e=n.data,e===Pc&&qc?null:e;default:return null}}function Ly(e,n){if(io)return e==="compositionend"||!Hs&&Vc(e,n)?(e=Dc(),Yl=Ds=ei=null,io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hc&&n.locale!=="ko"?null:n.data;default:return null}}var Gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Gy[e.type]:n==="textarea"}function Oc(e,n,o,s){to?no?no.push(s):no=[s]:to=s,n=Ha(n,"onChange"),0<n.length&&(o=new Xl("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var jo=null,el=null;function ky(e){Np(e,0)}function Ql(e){var n=Xo(e);if(Ac(n))return e}function Yc(e,n){if(e==="change")return n}var Fc=!1;if(Dn){var Ps;if(Dn){var qs="oninput"in document;if(!qs){var Jc=document.createElement("div");Jc.setAttribute("oninput","return;"),qs=typeof Jc.oninput=="function"}Ps=qs}else Ps=!1;Fc=Ps&&(!document.documentMode||9<document.documentMode)}function Xc(){jo&&(jo.detachEvent("onpropertychange",Kc),el=jo=null)}function Kc(e){if(e.propertyName==="value"&&Ql(el)){var n=[];Oc(n,el,e,bs(e)),Ic(ky,n)}}function Hy(e,n,o){e==="focusin"?(Xc(),jo=n,el=o,jo.attachEvent("onpropertychange",Kc)):e==="focusout"&&Xc()}function Py(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ql(el)}function qy(e,n){if(e==="click")return Ql(n)}function Vy(e,n){if(e==="input"||e==="change")return Ql(n)}function zy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var $t=typeof Object.is=="function"?Object.is:zy;function tl(e,n){if($t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!Pt.call(n,d)||!$t(e[d],n[d]))return!1}return!0}function Qc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zc(e,n){var o=Qc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Qc(o)}}function $c(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?$c(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Wc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Bl(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Bl(e.document)}return n}function Vs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var By=Dn&&"documentMode"in document&&11>=document.documentMode,oo=null,zs=null,nl=null,Bs=!1;function jc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bs||oo==null||oo!==Bl(s)||(s=oo,"selectionStart"in s&&Vs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),nl&&tl(nl,s)||(nl=s,s=Ha(zs,"onSelect"),0<s.length&&(n=new Xl("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=oo)))}function bi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var lo={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionrun:bi("Transition","TransitionRun"),transitionstart:bi("Transition","TransitionStart"),transitioncancel:bi("Transition","TransitionCancel"),transitionend:bi("Transition","TransitionEnd")},Os={},ef={};Dn&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function wi(e){if(Os[e])return Os[e];if(!lo[e])return e;var n=lo[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in ef)return Os[e]=n[o];return e}var tf=wi("animationend"),nf=wi("animationiteration"),of=wi("animationstart"),Oy=wi("transitionrun"),Yy=wi("transitionstart"),Fy=wi("transitioncancel"),lf=wi("transitionend"),af=new Map,Ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ys.push("scrollEnd");function yn(e,n){af.set(e,n),Ri(n,[e])}var Zl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sn=[],ao=0,Fs=0;function $l(){for(var e=ao,n=Fs=ao=0;n<e;){var o=sn[n];sn[n++]=null;var s=sn[n];sn[n++]=null;var d=sn[n];sn[n++]=null;var h=sn[n];if(sn[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}h!==0&&sf(o,d,h)}}function Wl(e,n,o,s){sn[ao++]=e,sn[ao++]=n,sn[ao++]=o,sn[ao++]=s,Fs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Js(e,n,o,s){return Wl(e,n,o,s),jl(e)}function Ii(e,n){return Wl(e,null,null,n),jl(e)}function sf(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,h=e.return;h!==null;)h.childLanes|=o,s=h.alternate,s!==null&&(s.childLanes|=o),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-ge(o),e=h.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),h):null}function jl(e){if(50<Al)throw Al=0,tu=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var so={};function Jy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,n,o,s){return new Jy(e,n,o,s)}function Xs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Un(e,n){var o=e.alternate;return o===null?(o=Wt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function rf(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ea(e,n,o,s,d,h){var S=0;if(s=e,typeof e=="function")Xs(e)&&(S=1);else if(typeof e=="string")S=$0(e,o,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Wt(31,o,n,d),e.elementType=ue,e.lanes=h,e;case k:return Di(o.children,d,h,n);case R:S=8,d|=24;break;case B:return e=Wt(12,o,n,d|2),e.elementType=B,e.lanes=h,e;case oe:return e=Wt(13,o,n,d),e.elementType=oe,e.lanes=h,e;case ce:return e=Wt(19,o,n,d),e.elementType=ce,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:S=10;break e;case Z:S=9;break e;case ee:S=11;break e;case Q:S=14;break e;case de:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Wt(S,o,n,d),n.elementType=e,n.type=s,n.lanes=h,n}function Di(e,n,o,s){return e=Wt(7,e,s,n),e.lanes=o,e}function Ks(e,n,o){return e=Wt(6,e,null,n),e.lanes=o,e}function uf(e){var n=Wt(18,null,null,0);return n.stateNode=e,n}function Qs(e,n,o){return n=Wt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var cf=new WeakMap;function rn(e,n){if(typeof e=="object"&&e!==null){var o=cf.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Ht(n)},cf.set(e,n),n)}return{value:e,source:n,stack:Ht(n)}}var ro=[],uo=0,ta=null,il=0,un=[],cn=0,ti=null,xn=1,Nn="";function Ln(e,n){ro[uo++]=il,ro[uo++]=ta,ta=e,il=n}function ff(e,n,o){un[cn++]=xn,un[cn++]=Nn,un[cn++]=ti,ti=e;var s=xn;e=Nn;var d=32-ge(s)-1;s&=~(1<<d),o+=1;var h=32-ge(n)+d;if(30<h){var S=d-d%5;h=(s&(1<<S)-1).toString(32),s>>=S,d-=S,xn=1<<32-ge(n)+d|o<<d|s,Nn=h+e}else xn=1<<h|o<<d|s,Nn=e}function Zs(e){e.return!==null&&(Ln(e,1),ff(e,1,0))}function $s(e){for(;e===ta;)ta=ro[--uo],ro[uo]=null,il=ro[--uo],ro[uo]=null;for(;e===ti;)ti=un[--cn],un[cn]=null,Nn=un[--cn],un[cn]=null,xn=un[--cn],un[cn]=null}function df(e,n){un[cn++]=xn,un[cn++]=Nn,un[cn++]=ti,xn=n.id,Nn=n.overflow,ti=e}var It=null,it=null,Ge=!1,ni=null,fn=!1,Ws=Error(a(519));function ii(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(rn(n,e)),Ws}function pf(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[wt]=e,n[Ot]=s,o){case"dialog":we("cancel",n),we("close",n);break;case"iframe":case"object":case"embed":we("load",n);break;case"video":case"audio":for(o=0;o<Nl.length;o++)we(Nl[o],n);break;case"source":we("error",n);break;case"img":case"image":case"link":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"input":we("invalid",n),xc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":we("invalid",n);break;case"textarea":we("invalid",n),Rc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||wp(n.textContent,o)?(s.popover!=null&&(we("beforetoggle",n),we("toggle",n)),s.onScroll!=null&&we("scroll",n),s.onScrollEnd!=null&&we("scrollend",n),s.onClick!=null&&(n.onclick=In),n=!0):n=!1,n||ii(e,!0)}function hf(e){for(It=e.return;It;)switch(It.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:It=It.return}}function co(e){if(e!==It)return!1;if(!Ge)return hf(e),Ge=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||gu(e.type,e.memoizedProps)),o=!o),o&&it&&ii(e),hf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));it=qp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));it=qp(e)}else n===27?(n=it,yi(e.type)?(e=Eu,Eu=null,it=e):it=n):it=It?pn(e.stateNode.nextSibling):null;return!0}function Ui(){it=It=null,Ge=!1}function js(){var e=ni;return e!==null&&(Kt===null?Kt=e:Kt.push.apply(Kt,e),ni=null),e}function ol(e){ni===null?ni=[e]:ni.push(e)}var er=b(null),Li=null,Gn=null;function oi(e,n,o){X(er,n._currentValue),n._currentValue=o}function kn(e){e._currentValue=er.current,I(er)}function tr(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function nr(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var S=d.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=d;for(var x=0;x<n.length;x++)if(_.context===n[x]){h.lanes|=o,_=h.alternate,_!==null&&(_.lanes|=o),tr(h.return,o,e),s||(S=null);break e}h=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,h=S.alternate,h!==null&&(h.lanes|=o),tr(S,o,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function fo(e,n,o,s){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;$t(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===me.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}d=d.return}e!==null&&nr(n,e,o,s),n.flags|=262144}function na(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gi(e){Li=e,Gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return mf(Li,e)}function ia(e,n){return Li===null&&Gi(e),mf(e,n)}function mf(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Gn===null){if(e===null)throw Error(a(308));Gn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gn=Gn.next=n;return o}var Xy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Ky=i.unstable_scheduleCallback,Qy=i.unstable_NormalPriority,St={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ir(){return{controller:new Xy,data:new Map,refCount:0}}function ll(e){e.refCount--,e.refCount===0&&Ky(Qy,function(){e.controller.abort()})}var al=null,or=0,po=0,ho=null;function Zy(e,n){if(al===null){var o=al=[];or=0,po=su(),ho={status:"pending",value:void 0,then:function(s){o.push(s)}}}return or++,n.then(gf,gf),n}function gf(){if(--or===0&&al!==null){ho!==null&&(ho.status="fulfilled");var e=al;al=null,po=0,ho=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function $y(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var yf=H.S;H.S=function(e,n){ep=bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Zy(e,n),yf!==null&&yf(e,n)};var ki=b(null);function lr(){var e=ki.current;return e!==null?e:je.pooledCache}function oa(e,n){n===null?X(ki,ki.current):X(ki,n.pool)}function vf(){var e=lr();return e===null?null:{parent:St._currentValue,pool:e}}var mo=Error(a(460)),ar=Error(a(474)),la=Error(a(542)),aa={then:function(){}};function Sf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tf(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(In,In),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_f(e),e;default:if(typeof n.status=="string")n.then(In,In);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_f(e),e}throw Pi=n,mo}}function Hi(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pi=o,mo):o}}var Pi=null;function Ef(){if(Pi===null)throw Error(a(459));var e=Pi;return Pi=null,e}function _f(e){if(e===mo||e===la)throw Error(a(483))}var go=null,sl=0;function sa(e){var n=sl;return sl+=1,go===null&&(go=[]),Tf(go,e,n)}function rl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ra(e,n){throw n.$$typeof===T?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cf(e){function n(D,M){if(e){var U=D.deletions;U===null?(D.deletions=[M],D.flags|=16):U.push(M)}}function o(D,M){if(!e)return null;for(;M!==null;)n(D,M),M=M.sibling;return null}function s(D){for(var M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function d(D,M){return D=Un(D,M),D.index=0,D.sibling=null,D}function h(D,M,U){return D.index=U,e?(U=D.alternate,U!==null?(U=U.index,U<M?(D.flags|=67108866,M):U):(D.flags|=67108866,M)):(D.flags|=1048576,M)}function S(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function _(D,M,U,V){return M===null||M.tag!==6?(M=Ks(U,D.mode,V),M.return=D,M):(M=d(M,U),M.return=D,M)}function x(D,M,U,V){var ye=U.type;return ye===k?q(D,M,U.props.children,V,U.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===de&&Hi(ye)===M.type)?(M=d(M,U.props),rl(M,U),M.return=D,M):(M=ea(U.type,U.key,U.props,null,D.mode,V),rl(M,U),M.return=D,M)}function L(D,M,U,V){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Qs(U,D.mode,V),M.return=D,M):(M=d(M,U.children||[]),M.return=D,M)}function q(D,M,U,V,ye){return M===null||M.tag!==7?(M=Di(U,D.mode,V,ye),M.return=D,M):(M=d(M,U),M.return=D,M)}function z(D,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ks(""+M,D.mode,U),M.return=D,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return U=ea(M.type,M.key,M.props,null,D.mode,U),rl(U,M),U.return=D,U;case N:return M=Qs(M,D.mode,U),M.return=D,M;case de:return M=Hi(M),z(D,M,U)}if($e(M)||ve(M))return M=Di(M,D.mode,U,null),M.return=D,M;if(typeof M.then=="function")return z(D,sa(M),U);if(M.$$typeof===F)return z(D,ia(D,M),U);ra(D,M)}return null}function G(D,M,U,V){var ye=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ye!==null?null:_(D,M,""+U,V);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return U.key===ye?x(D,M,U,V):null;case N:return U.key===ye?L(D,M,U,V):null;case de:return U=Hi(U),G(D,M,U,V)}if($e(U)||ve(U))return ye!==null?null:q(D,M,U,V,null);if(typeof U.then=="function")return G(D,M,sa(U),V);if(U.$$typeof===F)return G(D,M,ia(D,U),V);ra(D,U)}return null}function P(D,M,U,V,ye){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return D=D.get(U)||null,_(M,D,""+V,ye);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return D=D.get(V.key===null?U:V.key)||null,x(M,D,V,ye);case N:return D=D.get(V.key===null?U:V.key)||null,L(M,D,V,ye);case de:return V=Hi(V),P(D,M,U,V,ye)}if($e(V)||ve(V))return D=D.get(U)||null,q(M,D,V,ye,null);if(typeof V.then=="function")return P(D,M,U,sa(V),ye);if(V.$$typeof===F)return P(D,M,U,ia(M,V),ye);ra(M,V)}return null}function fe(D,M,U,V){for(var ye=null,Ve=null,pe=M,Ne=M=0,Le=null;pe!==null&&Ne<U.length;Ne++){pe.index>Ne?(Le=pe,pe=null):Le=pe.sibling;var ze=G(D,pe,U[Ne],V);if(ze===null){pe===null&&(pe=Le);break}e&&pe&&ze.alternate===null&&n(D,pe),M=h(ze,M,Ne),Ve===null?ye=ze:Ve.sibling=ze,Ve=ze,pe=Le}if(Ne===U.length)return o(D,pe),Ge&&Ln(D,Ne),ye;if(pe===null){for(;Ne<U.length;Ne++)pe=z(D,U[Ne],V),pe!==null&&(M=h(pe,M,Ne),Ve===null?ye=pe:Ve.sibling=pe,Ve=pe);return Ge&&Ln(D,Ne),ye}for(pe=s(pe);Ne<U.length;Ne++)Le=P(pe,D,Ne,U[Ne],V),Le!==null&&(e&&Le.alternate!==null&&pe.delete(Le.key===null?Ne:Le.key),M=h(Le,M,Ne),Ve===null?ye=Le:Ve.sibling=Le,Ve=Le);return e&&pe.forEach(function(_i){return n(D,_i)}),Ge&&Ln(D,Ne),ye}function Te(D,M,U,V){if(U==null)throw Error(a(151));for(var ye=null,Ve=null,pe=M,Ne=M=0,Le=null,ze=U.next();pe!==null&&!ze.done;Ne++,ze=U.next()){pe.index>Ne?(Le=pe,pe=null):Le=pe.sibling;var _i=G(D,pe,ze.value,V);if(_i===null){pe===null&&(pe=Le);break}e&&pe&&_i.alternate===null&&n(D,pe),M=h(_i,M,Ne),Ve===null?ye=_i:Ve.sibling=_i,Ve=_i,pe=Le}if(ze.done)return o(D,pe),Ge&&Ln(D,Ne),ye;if(pe===null){for(;!ze.done;Ne++,ze=U.next())ze=z(D,ze.value,V),ze!==null&&(M=h(ze,M,Ne),Ve===null?ye=ze:Ve.sibling=ze,Ve=ze);return Ge&&Ln(D,Ne),ye}for(pe=s(pe);!ze.done;Ne++,ze=U.next())ze=P(pe,D,Ne,ze.value,V),ze!==null&&(e&&ze.alternate!==null&&pe.delete(ze.key===null?Ne:ze.key),M=h(ze,M,Ne),Ve===null?ye=ze:Ve.sibling=ze,Ve=ze);return e&&pe.forEach(function(rv){return n(D,rv)}),Ge&&Ln(D,Ne),ye}function Ze(D,M,U,V){if(typeof U=="object"&&U!==null&&U.type===k&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case A:e:{for(var ye=U.key;M!==null;){if(M.key===ye){if(ye=U.type,ye===k){if(M.tag===7){o(D,M.sibling),V=d(M,U.props.children),V.return=D,D=V;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===de&&Hi(ye)===M.type){o(D,M.sibling),V=d(M,U.props),rl(V,U),V.return=D,D=V;break e}o(D,M);break}else n(D,M);M=M.sibling}U.type===k?(V=Di(U.props.children,D.mode,V,U.key),V.return=D,D=V):(V=ea(U.type,U.key,U.props,null,D.mode,V),rl(V,U),V.return=D,D=V)}return S(D);case N:e:{for(ye=U.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){o(D,M.sibling),V=d(M,U.children||[]),V.return=D,D=V;break e}else{o(D,M);break}else n(D,M);M=M.sibling}V=Qs(U,D.mode,V),V.return=D,D=V}return S(D);case de:return U=Hi(U),Ze(D,M,U,V)}if($e(U))return fe(D,M,U,V);if(ve(U)){if(ye=ve(U),typeof ye!="function")throw Error(a(150));return U=ye.call(U),Te(D,M,U,V)}if(typeof U.then=="function")return Ze(D,M,sa(U),V);if(U.$$typeof===F)return Ze(D,M,ia(D,U),V);ra(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(o(D,M.sibling),V=d(M,U),V.return=D,D=V):(o(D,M),V=Ks(U,D.mode,V),V.return=D,D=V),S(D)):o(D,M)}return function(D,M,U,V){try{sl=0;var ye=Ze(D,M,U,V);return go=null,ye}catch(pe){if(pe===mo||pe===la)throw pe;var Ve=Wt(29,pe,null,D.mode);return Ve.lanes=V,Ve.return=D,Ve}finally{}}}var qi=Cf(!0),Af=Cf(!1),li=!1;function sr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ye&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=jl(e),sf(e,null,o),n}return Wl(e,s,n,o),jl(e)}function ul(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,hc(e,o)}}function ur(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=S:h=h.next=S,o=o.next}while(o!==null);h===null?d=h=n:h=h.next=n}else d=h=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var cr=!1;function cl(){if(cr){var e=ho;if(e!==null)throw e}}function fl(e,n,o,s){cr=!1;var d=e.updateQueue;li=!1;var h=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var x=_,L=x.next;x.next=null,S===null?h=L:S.next=L,S=x;var q=e.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==S&&(_===null?q.firstBaseUpdate=L:_.next=L,q.lastBaseUpdate=x))}if(h!==null){var z=d.baseState;S=0,q=L=x=null,_=h;do{var G=_.lane&-536870913,P=G!==_.lane;if(P?(Ue&G)===G:(s&G)===G){G!==0&&G===po&&(cr=!0),q!==null&&(q=q.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var fe=e,Te=_;G=n;var Ze=o;switch(Te.tag){case 1:if(fe=Te.payload,typeof fe=="function"){z=fe.call(Ze,z,G);break e}z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Te.payload,G=typeof fe=="function"?fe.call(Ze,z,G):fe,G==null)break e;z=E({},z,G);break e;case 2:li=!0}}G=_.callback,G!==null&&(e.flags|=64,P&&(e.flags|=8192),P=d.callbacks,P===null?d.callbacks=[G]:P.push(G))}else P={lane:G,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?(L=q=P,x=z):q=q.next=P,S|=G;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;P=_,_=P.next,P.next=null,d.lastBaseUpdate=P,d.shared.pending=null}}while(!0);q===null&&(x=z),d.baseState=x,d.firstBaseUpdate=L,d.lastBaseUpdate=q,h===null&&(d.shared.lanes=0),di|=S,e.lanes=S,e.memoizedState=z}}function xf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Nf(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)xf(o[e],n)}var yo=b(null),ua=b(0);function Rf(e,n){e=Fn,X(ua,e),X(yo,n),Fn=e|n.baseLanes}function fr(){X(ua,Fn),X(yo,yo.current)}function dr(){Fn=ua.current,I(yo),I(ua)}var jt=b(null),dn=null;function ri(e){var n=e.alternate;X(ht,ht.current&1),X(jt,e),dn===null&&(n===null||yo.current!==null||n.memoizedState!==null)&&(dn=e)}function pr(e){X(ht,ht.current),X(jt,e),dn===null&&(dn=e)}function Mf(e){e.tag===22?(X(ht,ht.current),X(jt,e),dn===null&&(dn=e)):ui()}function ui(){X(ht,ht.current),X(jt,jt.current)}function en(e){I(jt),dn===e&&(dn=null),I(ht)}var ht=b(0);function ca(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Su(o)||Tu(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hn=0,Ae=null,Ke=null,Tt=null,fa=!1,vo=!1,Vi=!1,da=0,dl=0,So=null,Wy=0;function dt(){throw Error(a(321))}function hr(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!$t(e[o],n[o]))return!1;return!0}function mr(e,n,o,s,d,h){return Hn=h,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?fd:wr,Vi=!1,h=o(s,d),Vi=!1,vo&&(h=wf(n,o,s,d)),bf(e),h}function bf(e){H.H=ml;var n=Ke!==null&&Ke.next!==null;if(Hn=0,Tt=Ke=Ae=null,fa=!1,dl=0,So=null,n)throw Error(a(300));e===null||Et||(e=e.dependencies,e!==null&&na(e)&&(Et=!0))}function wf(e,n,o,s){Ae=e;var d=0;do{if(vo&&(So=null),dl=0,vo=!1,25<=d)throw Error(a(301));if(d+=1,Tt=Ke=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=dd,h=n(o,s)}while(vo);return h}function jy(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?pl(n):n,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(Ae.flags|=1024),n}function gr(){var e=da!==0;return da=0,e}function yr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function vr(e){if(fa){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}fa=!1}Hn=0,Tt=Ke=Ae=null,vo=!1,dl=da=0,So=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ae.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function mt(){if(Ke===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var n=Tt===null?Ae.memoizedState:Tt.next;if(n!==null)Tt=n,Ke=e;else{if(e===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Tt===null?Ae.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function pa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(e){var n=dl;return dl+=1,So===null&&(So=[]),e=Tf(So,e,n),n=Ae,(Tt===null?n.memoizedState:Tt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?fd:wr),e}function ha(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pl(e);if(e.$$typeof===F)return Dt(e)}throw Error(a(438,String(e)))}function Sr(e){var n=null,o=Ae.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=Ae.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=pa(),Ae.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=ae;return n.index++,o}function Pn(e,n){return typeof n=="function"?n(e):n}function ma(e){var n=mt();return Tr(n,Ke,e)}function Tr(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,h=s.pending;if(h!==null){if(d!==null){var S=d.next;d.next=h.next,h.next=S}n.baseQueue=d=h,s.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var _=S=null,x=null,L=n,q=!1;do{var z=L.lane&-536870913;if(z!==L.lane?(Ue&z)===z:(Hn&z)===z){var G=L.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),z===po&&(q=!0);else if((Hn&G)===G){L=L.next,G===po&&(q=!0);continue}else z={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(_=x=z,S=h):x=x.next=z,Ae.lanes|=G,di|=G;z=L.action,Vi&&o(h,z),h=L.hasEagerState?L.eagerState:o(h,z)}else G={lane:z,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(_=x=G,S=h):x=x.next=G,Ae.lanes|=z,di|=z;L=L.next}while(L!==null&&L!==n);if(x===null?S=h:x.next=_,!$t(h,e.memoizedState)&&(Et=!0,q&&(o=ho,o!==null)))throw o;e.memoizedState=h,e.baseState=S,e.baseQueue=x,s.lastRenderedState=h}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Er(e){var n=mt(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,h=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do h=e(h,S.action),S=S.next;while(S!==d);$t(h,n.memoizedState)||(Et=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,s]}function If(e,n,o){var s=Ae,d=mt(),h=Ge;if(h){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!$t((Ke||d).memoizedState,o);if(S&&(d.memoizedState=o,Et=!0),d=d.queue,Ar(Lf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Tt!==null&&Tt.memoizedState.tag&1){if(s.flags|=2048,To(9,{destroy:void 0},Uf.bind(null,s,d,o,n),null),je===null)throw Error(a(349));h||(Hn&127)!==0||Df(s,n,o)}return o}function Df(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ae.updateQueue,n===null?(n=pa(),Ae.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Uf(e,n,o,s){n.value=o,n.getSnapshot=s,Gf(n)&&kf(e)}function Lf(e,n,o){return o(function(){Gf(n)&&kf(e)})}function Gf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!$t(e,o)}catch{return!0}}function kf(e){var n=Ii(e,2);n!==null&&Qt(n,e,2)}function _r(e){var n=Vt();if(typeof e=="function"){var o=e;if(e=o(),Vi){le(!0);try{o()}finally{le(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:e},n}function Hf(e,n,o,s){return e.baseState=o,Tr(e,Ke,typeof s=="function"?s:Pn)}function e0(e,n,o,s,d){if(va(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};H.T!==null?o(!0):h.isTransition=!1,s(h),o=n.pending,o===null?(h.next=n.pending=h,Pf(n,h)):(h.next=o.next,n.pending=o.next=h)}}function Pf(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var h=H.T,S={};H.T=S;try{var _=o(d,s),x=H.S;x!==null&&x(S,_),qf(e,n,_)}catch(L){Cr(e,n,L)}finally{h!==null&&S.types!==null&&(h.types=S.types),H.T=h}}else try{h=o(d,s),qf(e,n,h)}catch(L){Cr(e,n,L)}}function qf(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Vf(e,n,s)},function(s){return Cr(e,n,s)}):Vf(e,n,o)}function Vf(e,n,o){n.status="fulfilled",n.value=o,zf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Pf(e,o)))}function Cr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,zf(n),n=n.next;while(n!==s)}e.action=null}function zf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Bf(e,n){return n}function Of(e,n){if(Ge){var o=je.formState;if(o!==null){e:{var s=Ae;if(Ge){if(it){t:{for(var d=it,h=fn;d.nodeType!==8;){if(!h){d=null;break t}if(d=pn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){it=pn(d.nextSibling),s=d.data==="F!";break e}}ii(s)}s=!1}s&&(n=o[0])}}return o=Vt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bf,lastRenderedState:n},o.queue=s,o=rd.bind(null,Ae,s),s.dispatch=o,s=_r(!1),h=br.bind(null,Ae,!1,s.queue),s=Vt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=e0.bind(null,Ae,d,h,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function Yf(e){var n=mt();return Ff(n,Ke,e)}function Ff(e,n,o){if(n=Tr(e,n,Bf)[0],e=ma(Pn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=pl(n)}catch(S){throw S===mo?la:S}else s=n;n=mt();var d=n.queue,h=d.dispatch;return o!==n.memoizedState&&(Ae.flags|=2048,To(9,{destroy:void 0},t0.bind(null,d,o),null)),[s,h,e]}function t0(e,n){e.action=n}function Jf(e){var n=mt(),o=Ke;if(o!==null)return Ff(n,o,e);mt(),n=n.memoizedState,o=mt();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function To(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=pa(),Ae.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Xf(){return mt().memoizedState}function ga(e,n,o,s){var d=Vt();Ae.flags|=e,d.memoizedState=To(1|n,{destroy:void 0},o,s===void 0?null:s)}function ya(e,n,o,s){var d=mt();s=s===void 0?null:s;var h=d.memoizedState.inst;Ke!==null&&s!==null&&hr(s,Ke.memoizedState.deps)?d.memoizedState=To(n,h,o,s):(Ae.flags|=e,d.memoizedState=To(1|n,h,o,s))}function Kf(e,n){ga(8390656,8,e,n)}function Ar(e,n){ya(2048,8,e,n)}function n0(e){Ae.flags|=4;var n=Ae.updateQueue;if(n===null)n=pa(),Ae.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Qf(e){var n=mt().memoizedState;return n0({ref:n,nextImpl:e}),function(){if((Ye&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Zf(e,n){return ya(4,2,e,n)}function $f(e,n){return ya(4,4,e,n)}function Wf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jf(e,n,o){o=o!=null?o.concat([e]):null,ya(4,4,Wf.bind(null,n,e),o)}function xr(){}function ed(e,n){var o=mt();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&hr(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function td(e,n){var o=mt();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&hr(n,s[1]))return s[0];if(s=e(),Vi){le(!0);try{e()}finally{le(!1)}}return o.memoizedState=[s,n],s}function Nr(e,n,o){return o===void 0||(Hn&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=np(),Ae.lanes|=e,di|=e,o)}function nd(e,n,o,s){return $t(o,n)?o:yo.current!==null?(e=Nr(e,o,s),$t(e,n)||(Et=!0),e):(Hn&42)===0||(Hn&1073741824)!==0&&(Ue&261930)===0?(Et=!0,e.memoizedState=o):(e=np(),Ae.lanes|=e,di|=e,n)}function id(e,n,o,s,d){var h=$.p;$.p=h!==0&&8>h?h:8;var S=H.T,_={};H.T=_,br(e,!1,n,o);try{var x=d(),L=H.S;if(L!==null&&L(_,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var q=$y(x,s);hl(e,n,q,on(e))}else hl(e,n,s,on(e))}catch(z){hl(e,n,{then:function(){},status:"rejected",reason:z},on())}finally{$.p=h,S!==null&&_.types!==null&&(S.types=_.types),H.T=S}}function i0(){}function Rr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=od(e).queue;id(e,d,n,he,o===null?i0:function(){return ld(e),o(s)})}function od(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:he},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ld(e){var n=od(e);n.next===null&&(n=e.alternate.memoizedState),hl(e,n.next.queue,{},on())}function Mr(){return Dt(Il)}function ad(){return mt().memoizedState}function sd(){return mt().memoizedState}function o0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=on();e=ai(o);var s=si(n,e,o);s!==null&&(Qt(s,n,o),ul(s,n,o)),n={cache:ir()},e.payload=n;return}n=n.return}}function l0(e,n,o){var s=on();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},va(e)?ud(n,o):(o=Js(e,n,o,s),o!==null&&(Qt(o,e,s),cd(o,n,s)))}function rd(e,n,o){var s=on();hl(e,n,o,s)}function hl(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(va(e))ud(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var S=n.lastRenderedState,_=h(S,o);if(d.hasEagerState=!0,d.eagerState=_,$t(_,S))return Wl(e,n,d,0),je===null&&$l(),!1}catch{}finally{}if(o=Js(e,n,d,s),o!==null)return Qt(o,e,s),cd(o,n,s),!0}return!1}function br(e,n,o,s){if(s={lane:2,revertLane:su(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},va(e)){if(n)throw Error(a(479))}else n=Js(e,o,s,2),n!==null&&Qt(n,e,2)}function va(e){var n=e.alternate;return e===Ae||n!==null&&n===Ae}function ud(e,n){vo=fa=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function cd(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,hc(e,o)}}var ml={readContext:Dt,use:ha,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};ml.useEffectEvent=dt;var fd={readContext:Dt,use:ha,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:Dt,useEffect:Kf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,ga(4194308,4,Wf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return ga(4194308,4,e,n)},useInsertionEffect:function(e,n){ga(4,2,e,n)},useMemo:function(e,n){var o=Vt();n=n===void 0?null:n;var s=e();if(Vi){le(!0);try{e()}finally{le(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=Vt();if(o!==void 0){var d=o(n);if(Vi){le(!0);try{o(n)}finally{le(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=l0.bind(null,Ae,e),[s.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:function(e){e=_r(e);var n=e.queue,o=rd.bind(null,Ae,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:xr,useDeferredValue:function(e,n){var o=Vt();return Nr(o,e,n)},useTransition:function(){var e=_r(!1);return e=id.bind(null,Ae,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=Ae,d=Vt();if(Ge){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),je===null)throw Error(a(349));(Ue&127)!==0||Df(s,n,o)}d.memoizedState=o;var h={value:o,getSnapshot:n};return d.queue=h,Kf(Lf.bind(null,s,h,e),[e]),s.flags|=2048,To(9,{destroy:void 0},Uf.bind(null,s,h,o,n),null),o},useId:function(){var e=Vt(),n=je.identifierPrefix;if(Ge){var o=Nn,s=xn;o=(s&~(1<<32-ge(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=da++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=Wy++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Mr,useFormState:Of,useActionState:Of,useOptimistic:function(e){var n=Vt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=br.bind(null,Ae,!0,o),o.dispatch=n,[e,n]},useMemoCache:Sr,useCacheRefresh:function(){return Vt().memoizedState=o0.bind(null,Ae)},useEffectEvent:function(e){var n=Vt(),o={impl:e};return n.memoizedState=o,function(){if((Ye&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},wr={readContext:Dt,use:ha,useCallback:ed,useContext:Dt,useEffect:Ar,useImperativeHandle:jf,useInsertionEffect:Zf,useLayoutEffect:$f,useMemo:td,useReducer:ma,useRef:Xf,useState:function(){return ma(Pn)},useDebugValue:xr,useDeferredValue:function(e,n){var o=mt();return nd(o,Ke.memoizedState,e,n)},useTransition:function(){var e=ma(Pn)[0],n=mt().memoizedState;return[typeof e=="boolean"?e:pl(e),n]},useSyncExternalStore:If,useId:ad,useHostTransitionStatus:Mr,useFormState:Yf,useActionState:Yf,useOptimistic:function(e,n){var o=mt();return Hf(o,Ke,e,n)},useMemoCache:Sr,useCacheRefresh:sd};wr.useEffectEvent=Qf;var dd={readContext:Dt,use:ha,useCallback:ed,useContext:Dt,useEffect:Ar,useImperativeHandle:jf,useInsertionEffect:Zf,useLayoutEffect:$f,useMemo:td,useReducer:Er,useRef:Xf,useState:function(){return Er(Pn)},useDebugValue:xr,useDeferredValue:function(e,n){var o=mt();return Ke===null?Nr(o,e,n):nd(o,Ke.memoizedState,e,n)},useTransition:function(){var e=Er(Pn)[0],n=mt().memoizedState;return[typeof e=="boolean"?e:pl(e),n]},useSyncExternalStore:If,useId:ad,useHostTransitionStatus:Mr,useFormState:Jf,useActionState:Jf,useOptimistic:function(e,n){var o=mt();return Ke!==null?Hf(o,Ke,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Sr,useCacheRefresh:sd};dd.useEffectEvent=Qf;function Ir(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:E({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Dr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=on(),d=ai(s);d.payload=n,o!=null&&(d.callback=o),n=si(e,d,s),n!==null&&(Qt(n,e,s),ul(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=on(),d=ai(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=si(e,d,s),n!==null&&(Qt(n,e,s),ul(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=on(),s=ai(o);s.tag=2,n!=null&&(s.callback=n),n=si(e,s,o),n!==null&&(Qt(n,e,o),ul(n,e,o))}};function pd(e,n,o,s,d,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,S):n.prototype&&n.prototype.isPureReactComponent?!tl(o,s)||!tl(d,h):!0}function hd(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&Dr.enqueueReplaceState(n,n.state,null)}function zi(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=E({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function md(e){Zl(e)}function gd(e){console.error(e)}function yd(e){Zl(e)}function Sa(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function vd(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ur(e,n,o){return o=ai(o),o.tag=3,o.payload={element:null},o.callback=function(){Sa(e,n)},o}function Sd(e){return e=ai(e),e.tag=3,e}function Td(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;e.payload=function(){return d(h)},e.callback=function(){vd(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){vd(n,o,s),typeof d!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function a0(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&fo(n,o,d,!0),o=jt.current,o!==null){switch(o.tag){case 31:case 13:return dn===null?Ia():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===aa?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),ou(e,s,d)),!1;case 22:return o.flags|=65536,s===aa?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),ou(e,s,d)),!1}throw Error(a(435,o.tag))}return ou(e,s,d),Ia(),!1}if(Ge)return n=jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Ws&&(e=Error(a(422),{cause:s}),ol(rn(e,o)))):(s!==Ws&&(n=Error(a(423),{cause:s}),ol(rn(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=rn(s,o),d=Ur(e.stateNode,s,d),ur(e,d),pt!==4&&(pt=2)),!1;var h=Error(a(520),{cause:s});if(h=rn(h,o),Cl===null?Cl=[h]:Cl.push(h),pt!==4&&(pt=2),n===null)return!0;s=rn(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=Ur(o.stateNode,s,e),ur(o,e),!1;case 1:if(n=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(pi===null||!pi.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Sd(d),Td(d,e,o,s),ur(o,d),!1}o=o.return}while(o!==null);return!1}var Lr=Error(a(461)),Et=!1;function Ut(e,n,o,s){n.child=e===null?Af(n,null,o,s):qi(n,e.child,o,s)}function Ed(e,n,o,s,d){o=o.render;var h=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return Gi(n),s=mr(e,n,o,S,h,d),_=gr(),e!==null&&!Et?(yr(e,n,d),qn(e,n,d)):(Ge&&_&&Zs(n),n.flags|=1,Ut(e,n,s,d),n.child)}function _d(e,n,o,s,d){if(e===null){var h=o.type;return typeof h=="function"&&!Xs(h)&&h.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=h,Cd(e,n,h,s,d)):(e=ea(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Br(e,d)){var S=h.memoizedProps;if(o=o.compare,o=o!==null?o:tl,o(S,s)&&e.ref===n.ref)return qn(e,n,d)}return n.flags|=1,e=Un(h,s),e.ref=n.ref,e.return=n,n.child=e}function Cd(e,n,o,s,d){if(e!==null){var h=e.memoizedProps;if(tl(h,s)&&e.ref===n.ref)if(Et=!1,n.pendingProps=s=h,Br(e,d))(e.flags&131072)!==0&&(Et=!0);else return n.lanes=e.lanes,qn(e,n,d)}return Gr(e,n,o,s,d)}function Ad(e,n,o,s){var d=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~h}else s=0,n.child=null;return xd(e,n,h,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&oa(n,h!==null?h.cachePool:null),h!==null?Rf(n,h):fr(),Mf(n);else return s=n.lanes=536870912,xd(e,n,h!==null?h.baseLanes|o:o,o,s)}else h!==null?(oa(n,h.cachePool),Rf(n,h),ui(),n.memoizedState=null):(e!==null&&oa(n,null),fr(),ui());return Ut(e,n,d,o),n.child}function gl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function xd(e,n,o,s,d){var h=lr();return h=h===null?null:{parent:St._currentValue,pool:h},n.memoizedState={baseLanes:o,cachePool:h},e!==null&&oa(n,null),fr(),Mf(n),e!==null&&fo(e,n,s,!0),n.childLanes=d,null}function Ta(e,n){return n=_a({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Nd(e,n,o){return qi(n,e.child,null,o),e=Ta(n,n.pendingProps),e.flags|=2,en(n),n.memoizedState=null,e}function s0(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ge){if(s.mode==="hidden")return e=Ta(n,s),n.lanes=536870912,gl(null,e);if(pr(n),(e=it)?(e=Pp(e,fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ti!==null?{id:xn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},o=uf(e),o.return=n,n.child=o,It=n,it=null)):e=null,e===null)throw ii(n);return n.lanes=536870912,null}return Ta(n,s)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(pr(n),d)if(n.flags&256)n.flags&=-257,n=Nd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Et||fo(e,n,o,!1),d=(o&e.childLanes)!==0,Et||d){if(s=je,s!==null&&(S=mc(s,o),S!==0&&S!==h.retryLane))throw h.retryLane=S,Ii(e,S),Qt(s,e,S),Lr;Ia(),n=Nd(e,n,o)}else e=h.treeContext,it=pn(S.nextSibling),It=n,Ge=!0,ni=null,fn=!1,e!==null&&df(n,e),n=Ta(n,s),n.flags|=4096;return n}return e=Un(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ea(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Gr(e,n,o,s,d){return Gi(n),o=mr(e,n,o,s,void 0,d),s=gr(),e!==null&&!Et?(yr(e,n,d),qn(e,n,d)):(Ge&&s&&Zs(n),n.flags|=1,Ut(e,n,o,d),n.child)}function Rd(e,n,o,s,d,h){return Gi(n),n.updateQueue=null,o=wf(n,s,o,d),bf(e),s=gr(),e!==null&&!Et?(yr(e,n,h),qn(e,n,h)):(Ge&&s&&Zs(n),n.flags|=1,Ut(e,n,o,h),n.child)}function Md(e,n,o,s,d){if(Gi(n),n.stateNode===null){var h=so,S=o.contextType;typeof S=="object"&&S!==null&&(h=Dt(S)),h=new o(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Dr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},sr(n),S=o.contextType,h.context=typeof S=="object"&&S!==null?Dt(S):so,h.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Ir(n,o,S,s),h.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&Dr.enqueueReplaceState(h,h.state,null),fl(n,s,h,d),cl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var _=n.memoizedProps,x=zi(o,_);h.props=x;var L=h.context,q=o.contextType;S=so,typeof q=="object"&&q!==null&&(S=Dt(q));var z=o.getDerivedStateFromProps;q=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||L!==S)&&hd(n,h,s,S),li=!1;var G=n.memoizedState;h.state=G,fl(n,s,h,d),cl(),L=n.memoizedState,_||G!==L||li?(typeof z=="function"&&(Ir(n,o,z,s),L=n.memoizedState),(x=li||pd(n,o,x,s,G,L,S))?(q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=L),h.props=s,h.state=L,h.context=S,s=x):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,rr(e,n),S=n.memoizedProps,q=zi(o,S),h.props=q,z=n.pendingProps,G=h.context,L=o.contextType,x=so,typeof L=="object"&&L!==null&&(x=Dt(L)),_=o.getDerivedStateFromProps,(L=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==z||G!==x)&&hd(n,h,s,x),li=!1,G=n.memoizedState,h.state=G,fl(n,s,h,d),cl();var P=n.memoizedState;S!==z||G!==P||li||e!==null&&e.dependencies!==null&&na(e.dependencies)?(typeof _=="function"&&(Ir(n,o,_,s),P=n.memoizedState),(q=li||pd(n,o,q,s,G,P,x)||e!==null&&e.dependencies!==null&&na(e.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,P,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,P,x)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=P),h.props=s,h.state=P,h.context=x,s=q):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,Ea(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=qi(n,e.child,null,d),n.child=qi(n,null,o,d)):Ut(e,n,o,d),n.memoizedState=h.state,e=n.child):e=qn(e,n,d),e}function bd(e,n,o,s){return Ui(),n.flags|=256,Ut(e,n,o,s),n.child}var kr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hr(e){return{baseLanes:e,cachePool:vf()}}function Pr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=nn),e}function wd(e,n,o){var s=n.pendingProps,d=!1,h=(n.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ge){if(d?ri(n):ui(),(e=it)?(e=Pp(e,fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ti!==null?{id:xn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},o=uf(e),o.return=n,n.child=o,It=n,it=null)):e=null,e===null)throw ii(n);return Tu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(ui(),d=n.mode,_=_a({mode:"hidden",children:_},d),s=Di(s,d,o,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=Hr(o),s.childLanes=Pr(e,S,o),n.memoizedState=kr,gl(null,s)):(ri(n),qr(n,_))}var x=e.memoizedState;if(x!==null&&(_=x.dehydrated,_!==null)){if(h)n.flags&256?(ri(n),n.flags&=-257,n=Vr(e,n,o)):n.memoizedState!==null?(ui(),n.child=e.child,n.flags|=128,n=null):(ui(),_=s.fallback,d=n.mode,s=_a({mode:"visible",children:s.children},d),_=Di(_,d,o,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,qi(n,e.child,null,o),s=n.child,s.memoizedState=Hr(o),s.childLanes=Pr(e,S,o),n.memoizedState=kr,n=gl(null,s));else if(ri(n),Tu(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var L=S.dgst;S=L,s=Error(a(419)),s.stack="",s.digest=S,ol({value:s,source:null,stack:null}),n=Vr(e,n,o)}else if(Et||fo(e,n,o,!1),S=(o&e.childLanes)!==0,Et||S){if(S=je,S!==null&&(s=mc(S,o),s!==0&&s!==x.retryLane))throw x.retryLane=s,Ii(e,s),Qt(S,e,s),Lr;Su(_)||Ia(),n=Vr(e,n,o)}else Su(_)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,it=pn(_.nextSibling),It=n,Ge=!0,ni=null,fn=!1,e!==null&&df(n,e),n=qr(n,s.children),n.flags|=4096);return n}return d?(ui(),_=s.fallback,d=n.mode,x=e.child,L=x.sibling,s=Un(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,L!==null?_=Un(L,_):(_=Di(_,d,o,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,gl(null,s),s=n.child,_=e.child.memoizedState,_===null?_=Hr(o):(d=_.cachePool,d!==null?(x=St._currentValue,d=d.parent!==x?{parent:x,pool:x}:d):d=vf(),_={baseLanes:_.baseLanes|o,cachePool:d}),s.memoizedState=_,s.childLanes=Pr(e,S,o),n.memoizedState=kr,gl(e.child,s)):(ri(n),o=e.child,e=o.sibling,o=Un(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function qr(e,n){return n=_a({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function _a(e,n){return e=Wt(22,e,null,n),e.lanes=0,e}function Vr(e,n,o){return qi(n,e.child,null,o),e=qr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Id(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),tr(e.return,n,o)}function zr(e,n,o,s,d,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:h}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=d,S.treeForkCount=h)}function Dd(e,n,o){var s=n.pendingProps,d=s.revealOrder,h=s.tail;s=s.children;var S=ht.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,X(ht,S),Ut(e,n,s,o),s=Ge?il:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Id(e,o,n);else if(e.tag===19)Id(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&ca(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),zr(n,!1,d,o,h,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ca(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}zr(n,!0,o,null,h,s);break;case"together":zr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function qn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),di|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(fo(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=Un(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Un(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Br(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&na(e)))}function r0(e,n,o){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),oi(n,St,e.memoizedState.cache),Ui();break;case 27:case 5:Pe(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:oi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pr(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(ri(n),n.flags|=128,null):(o&n.child.childLanes)!==0?wd(e,n,o):(ri(n),e=qn(e,n,o),e!==null?e.sibling:null);ri(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(fo(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return Dd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(ht,ht.current),s)break;return null;case 22:return n.lanes=0,Ad(e,n,o,n.pendingProps);case 24:oi(n,St,e.memoizedState.cache)}return qn(e,n,o)}function Ud(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)Et=!0;else{if(!Br(e,o)&&(n.flags&128)===0)return Et=!1,r0(e,n,o);Et=(e.flags&131072)!==0}else Et=!1,Ge&&(n.flags&1048576)!==0&&ff(n,il,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Hi(n.elementType),n.type=e,typeof e=="function")Xs(e)?(s=zi(e,s),n.tag=1,n=Md(null,n,e,s,o)):(n.tag=0,n=Gr(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===ee){n.tag=11,n=Ed(null,n,e,s,o);break e}else if(d===Q){n.tag=14,n=_d(null,n,e,s,o);break e}}throw n=He(e)||e,Error(a(306,n,""))}}return n;case 0:return Gr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=zi(s,n.pendingProps),Md(e,n,s,d,o);case 3:e:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;d=h.element,rr(e,n),fl(n,s,null,o);var S=n.memoizedState;if(s=S.cache,oi(n,St,s),s!==h.cache&&nr(n,[St],o,!0),cl(),s=S.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=bd(e,n,s,o);break e}else if(s!==d){d=rn(Error(a(424)),n),ol(d),n=bd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=pn(e.firstChild),It=n,Ge=!0,ni=null,fn=!0,o=Af(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ui(),s===d){n=qn(e,n,o);break e}Ut(e,n,s,o)}n=n.child}return n;case 26:return Ea(e,n),e===null?(o=Yp(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ge||(o=n.type,e=n.pendingProps,s=Pa(O.current).createElement(o),s[wt]=n,s[Ot]=e,Lt(s,o,e),Nt(s),n.stateNode=s):n.memoizedState=Yp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Pe(n),e===null&&Ge&&(s=n.stateNode=zp(n.type,n.pendingProps,O.current),It=n,fn=!0,d=it,yi(n.type)?(Eu=d,it=pn(s.firstChild)):it=d),Ut(e,n,n.pendingProps.children,o),Ea(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ge&&((d=s=it)&&(s=P0(s,n.type,n.pendingProps,fn),s!==null?(n.stateNode=s,It=n,it=pn(s.firstChild),fn=!1,d=!0):d=!1),d||ii(n)),Pe(n),d=n.type,h=n.pendingProps,S=e!==null?e.memoizedProps:null,s=h.children,gu(d,h)?s=null:S!==null&&gu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=mr(e,n,jy,null,null,o),Il._currentValue=d),Ea(e,n),Ut(e,n,s,o),n.child;case 6:return e===null&&Ge&&((e=o=it)&&(o=q0(o,n.pendingProps,fn),o!==null?(n.stateNode=o,It=n,it=null,e=!0):e=!1),e||ii(n)),null;case 13:return wd(e,n,o);case 4:return xe(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=qi(n,null,s,o):Ut(e,n,s,o),n.child;case 11:return Ed(e,n,n.type,n.pendingProps,o);case 7:return Ut(e,n,n.pendingProps,o),n.child;case 8:return Ut(e,n,n.pendingProps.children,o),n.child;case 12:return Ut(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,oi(n,n.type,s.value),Ut(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,Gi(n),d=Dt(d),s=s(d),n.flags|=1,Ut(e,n,s,o),n.child;case 14:return _d(e,n,n.type,n.pendingProps,o);case 15:return Cd(e,n,n.type,n.pendingProps,o);case 19:return Dd(e,n,o);case 31:return s0(e,n,o);case 22:return Ad(e,n,o,n.pendingProps);case 24:return Gi(n),s=Dt(St),e===null?(d=lr(),d===null&&(d=je,h=ir(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),n.memoizedState={parent:s,cache:d},sr(n),oi(n,St,d)):((e.lanes&o)!==0&&(rr(e,n),fl(n,null,null,o),cl()),d=e.memoizedState,h=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),oi(n,St,s)):(s=h.cache,oi(n,St,s),s!==d.cache&&nr(n,[St],o,!0))),Ut(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Vn(e){e.flags|=4}function Or(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(ap())e.flags|=8192;else throw Pi=aa,ar}else e.flags&=-16777217}function Ld(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qp(n))if(ap())e.flags|=8192;else throw Pi=aa,ar}function Ca(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?xt():536870912,e.lanes|=n,Ao|=n)}function yl(e,n){if(!Ge)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ot(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function u0(e,n,o){var s=n.pendingProps;switch($s(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(n),null;case 1:return ot(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),kn(St),Se(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(co(n)?Vn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,js())),ot(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(Vn(n),h!==null?(ot(n),Ld(n,h)):(ot(n),Or(n,d,null,s,o))):h?h!==e.memoizedState?(Vn(n),ot(n),Ld(n,h)):(ot(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Vn(n),ot(n),Or(n,d,e,s,o)),null;case 27:if(qe(n),o=O.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Vn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return ot(n),null}e=K.current,co(n)?pf(n):(e=zp(d,s,o),n.stateNode=e,Vn(n))}return ot(n),null;case 5:if(qe(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Vn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return ot(n),null}if(h=K.current,co(n))pf(n);else{var S=Pa(O.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}h[wt]=n,h[Ot]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=h;e:switch(Lt(h,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Vn(n)}}return ot(n),Or(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Vn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=O.current,co(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=It,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[wt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||wp(e.nodeValue,o)),e||ii(n,!0)}else e=Pa(e).createTextNode(s),e[wt]=n,n.stateNode=e}return ot(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=co(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[wt]=n}else Ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),e=!1}else o=js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(en(n),n):(en(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ot(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=co(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[wt]=n}else Ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),d=!1}else d=js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(en(n),n):(en(n),null)}return en(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Ca(n,n.updateQueue),ot(n),null);case 4:return Se(),e===null&&fu(n.stateNode.containerInfo),ot(n),null;case 10:return kn(n.type),ot(n),null;case 19:if(I(ht),s=n.memoizedState,s===null)return ot(n),null;if(d=(n.flags&128)!==0,h=s.rendering,h===null)if(d)yl(s,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=ca(e),h!==null){for(n.flags|=128,yl(s,!1),e=h.updateQueue,n.updateQueue=e,Ca(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)rf(o,e),o=o.sibling;return X(ht,ht.current&1|2),Ge&&Ln(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&bt()>Ma&&(n.flags|=128,d=!0,yl(s,!1),n.lanes=4194304)}else{if(!d)if(e=ca(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Ca(n,e),yl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Ge)return ot(n),null}else 2*bt()-s.renderingStartTime>Ma&&o!==536870912&&(n.flags|=128,d=!0,yl(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,o=ht.current,X(ht,d?o&1|2:o&1),Ge&&Ln(n,s.treeForkCount),e):(ot(n),null);case 22:case 23:return en(n),dr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(ot(n),n.subtreeFlags&6&&(n.flags|=8192)):ot(n),o=n.updateQueue,o!==null&&Ca(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&I(ki),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),kn(St),ot(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function c0(e,n){switch($s(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return kn(St),Se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qe(n),null;case 31:if(n.memoizedState!==null){if(en(n),n.alternate===null)throw Error(a(340));Ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(en(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return I(ht),null;case 4:return Se(),null;case 10:return kn(n.type),null;case 22:case 23:return en(n),dr(),e!==null&&I(ki),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return kn(St),null;case 25:return null;default:return null}}function Gd(e,n){switch($s(n),n.tag){case 3:kn(St),Se();break;case 26:case 27:case 5:qe(n);break;case 4:Se();break;case 31:n.memoizedState!==null&&en(n);break;case 13:en(n);break;case 19:I(ht);break;case 10:kn(n.type);break;case 22:case 23:en(n),dr(),e!==null&&I(ki);break;case 24:kn(St)}}function vl(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var h=o.create,S=o.inst;s=h(),S.destroy=s}o=o.next}while(o!==d)}}catch(_){Je(n,n.return,_)}}function ci(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var x=o,L=_;try{L()}catch(q){Je(d,x,q)}}}s=s.next}while(s!==h)}}catch(q){Je(n,n.return,q)}}function kd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Nf(n,o)}catch(s){Je(e,e.return,s)}}}function Hd(e,n,o){o.props=zi(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Je(e,n,s)}}function Sl(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){Je(e,n,d)}}function Rn(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){Je(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Je(e,n,d)}else o.current=null}function Pd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){Je(e,e.return,d)}}function Yr(e,n,o){try{var s=e.stateNode;D0(s,e.type,o,n),s[Ot]=n}catch(d){Je(e,e.return,d)}}function qd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yi(e.type)||e.tag===4}function Fr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=In));else if(s!==4&&(s===27&&yi(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Jr(e,n,o),e=e.sibling;e!==null;)Jr(e,n,o),e=e.sibling}function Aa(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&yi(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Aa(e,n,o),e=e.sibling;e!==null;)Aa(e,n,o),e=e.sibling}function Vd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Lt(n,s,o),n[wt]=e,n[Ot]=o}catch(h){Je(e,e.return,h)}}var zn=!1,_t=!1,Xr=!1,zd=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function f0(e,n){if(e=e.containerInfo,hu=Fa,e=Wc(e),Vs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var S=0,_=-1,x=-1,L=0,q=0,z=e,G=null;t:for(;;){for(var P;z!==o||d!==0&&z.nodeType!==3||(_=S+d),z!==h||s!==0&&z.nodeType!==3||(x=S+s),z.nodeType===3&&(S+=z.nodeValue.length),(P=z.firstChild)!==null;)G=z,z=P;for(;;){if(z===e)break t;if(G===o&&++L===d&&(_=S),G===h&&++q===s&&(x=S),(P=z.nextSibling)!==null)break;z=G,G=z.parentNode}z=P}o=_===-1||x===-1?null:{start:_,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(mu={focusedElem:e,selectionRange:o},Fa=!1,Rt=n;Rt!==null;)if(n=Rt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Rt=e;else for(;Rt!==null;){switch(n=Rt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,o=n,d=h.memoizedProps,h=h.memoizedState,s=o.stateNode;try{var fe=zi(o.type,d);e=s.getSnapshotBeforeUpdate(fe,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(Te){Je(o,o.return,Te)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)vu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Rt=e;break}Rt=n.return}}function Bd(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:On(e,o),s&4&&vl(5,o);break;case 1:if(On(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){Je(o,o.return,S)}else{var d=zi(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Je(o,o.return,S)}}s&64&&kd(o),s&512&&Sl(o,o.return);break;case 3:if(On(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Nf(e,n)}catch(S){Je(o,o.return,S)}}break;case 27:n===null&&s&4&&Vd(o);case 26:case 5:On(e,o),n===null&&s&4&&Pd(o),s&512&&Sl(o,o.return);break;case 12:On(e,o);break;case 31:On(e,o),s&4&&Fd(e,o);break;case 13:On(e,o),s&4&&Jd(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=T0.bind(null,o),V0(e,o))));break;case 22:if(s=o.memoizedState!==null||zn,!s){n=n!==null&&n.memoizedState!==null||_t,d=zn;var h=_t;zn=s,(_t=n)&&!h?Yn(e,o,(o.subtreeFlags&8772)!==0):On(e,o),zn=d,_t=h}break;case 30:break;default:On(e,o)}}function Od(e){var n=e.alternate;n!==null&&(e.alternate=null,Od(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Cs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,Ft=!1;function Bn(e,n,o){for(o=o.child;o!==null;)Yd(e,n,o),o=o.sibling}function Yd(e,n,o){if(W&&typeof W.onCommitFiberUnmount=="function")try{W.onCommitFiberUnmount(ie,o)}catch{}switch(o.tag){case 26:_t||Rn(o,n),Bn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_t||Rn(o,n);var s=at,d=Ft;yi(o.type)&&(at=o.stateNode,Ft=!1),Bn(e,n,o),Ml(o.stateNode),at=s,Ft=d;break;case 5:_t||Rn(o,n);case 6:if(s=at,d=Ft,at=null,Bn(e,n,o),at=s,Ft=d,at!==null)if(Ft)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(o.stateNode)}catch(h){Je(o,n,h)}else try{at.removeChild(o.stateNode)}catch(h){Je(o,n,h)}break;case 18:at!==null&&(Ft?(e=at,kp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Do(e)):kp(at,o.stateNode));break;case 4:s=at,d=Ft,at=o.stateNode.containerInfo,Ft=!0,Bn(e,n,o),at=s,Ft=d;break;case 0:case 11:case 14:case 15:ci(2,o,n),_t||ci(4,o,n),Bn(e,n,o);break;case 1:_t||(Rn(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Hd(o,n,s)),Bn(e,n,o);break;case 21:Bn(e,n,o);break;case 22:_t=(s=_t)||o.memoizedState!==null,Bn(e,n,o),_t=s;break;default:Bn(e,n,o)}}function Fd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Do(e)}catch(o){Je(n,n.return,o)}}}function Jd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Do(e)}catch(o){Je(n,n.return,o)}}function d0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new zd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new zd),n;default:throw Error(a(435,e.tag))}}function xa(e,n){var o=d0(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=E0.bind(null,e,s);s.then(d,d)}})}function Jt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],h=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(yi(_.type)){at=_.stateNode,Ft=!1;break e}break;case 5:at=_.stateNode,Ft=!1;break e;case 3:case 4:at=_.stateNode.containerInfo,Ft=!0;break e}_=_.return}if(at===null)throw Error(a(160));Yd(h,S,d),at=null,Ft=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Xd(n,e),n=n.sibling}var vn=null;function Xd(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jt(n,e),Xt(e),s&4&&(ci(3,e,e.return),vl(3,e),ci(5,e,e.return));break;case 1:Jt(n,e),Xt(e),s&512&&(_t||o===null||Rn(o,o.return)),s&64&&zn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=vn;if(Jt(n,e),Xt(e),s&512&&(_t||o===null||Rn(o,o.return)),s&4){var h=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Jo]||h[wt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),Lt(h,s,o),h[wt]=e,Nt(h),s=h;break e;case"link":var S=Xp("link","href",d).get(s+(o.href||""));if(S){for(var _=0;_<S.length;_++)if(h=S[_],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(_,1);break t}}h=d.createElement(s),Lt(h,s,o),d.head.appendChild(h);break;case"meta":if(S=Xp("meta","content",d).get(s+(o.content||""))){for(_=0;_<S.length;_++)if(h=S[_],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(_,1);break t}}h=d.createElement(s),Lt(h,s,o),d.head.appendChild(h);break;default:throw Error(a(468,s))}h[wt]=e,Nt(h),s=h}e.stateNode=s}else Kp(d,e.type,e.stateNode);else e.stateNode=Jp(d,s,e.memoizedProps);else h!==s?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,s===null?Kp(d,e.type,e.stateNode):Jp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Yr(e,e.memoizedProps,o.memoizedProps)}break;case 27:Jt(n,e),Xt(e),s&512&&(_t||o===null||Rn(o,o.return)),o!==null&&s&4&&Yr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Jt(n,e),Xt(e),s&512&&(_t||o===null||Rn(o,o.return)),e.flags&32){d=e.stateNode;try{eo(d,"")}catch(fe){Je(e,e.return,fe)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Yr(e,d,o!==null?o.memoizedProps:d)),s&1024&&(Xr=!0);break;case 6:if(Jt(n,e),Xt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(fe){Je(e,e.return,fe)}}break;case 3:if(za=null,d=vn,vn=qa(n.containerInfo),Jt(n,e),vn=d,Xt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Do(n.containerInfo)}catch(fe){Je(e,e.return,fe)}Xr&&(Xr=!1,Kd(e));break;case 4:s=vn,vn=qa(e.stateNode.containerInfo),Jt(n,e),Xt(e),vn=s;break;case 12:Jt(n,e),Xt(e);break;case 31:Jt(n,e),Xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,xa(e,s)));break;case 13:Jt(n,e),Xt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ra=bt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,xa(e,s)));break;case 22:d=e.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,L=zn,q=_t;if(zn=L||d,_t=q||x,Jt(n,e),_t=q,zn=L,Xt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||x||zn||_t||Bi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){x=o=n;try{if(h=x.stateNode,d)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=x.stateNode;var z=x.memoizedProps.style,G=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){Je(x,x.return,fe)}}}else if(n.tag===6){if(o===null){x=n;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(fe){Je(x,x.return,fe)}}}else if(n.tag===18){if(o===null){x=n;try{var P=x.stateNode;d?Hp(P,!0):Hp(x.stateNode,!1)}catch(fe){Je(x,x.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,xa(e,o))));break;case 19:Jt(n,e),Xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,xa(e,s)));break;case 30:break;case 21:break;default:Jt(n,e),Xt(e)}}function Xt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(qd(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,h=Fr(e);Aa(e,h,d);break;case 5:var S=o.stateNode;o.flags&32&&(eo(S,""),o.flags&=-33);var _=Fr(e);Aa(e,_,S);break;case 3:case 4:var x=o.stateNode.containerInfo,L=Fr(e);Jr(e,L,x);break;default:throw Error(a(161))}}catch(q){Je(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Kd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Kd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function On(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bd(e,n.alternate,n),n=n.sibling}function Bi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ci(4,n,n.return),Bi(n);break;case 1:Rn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Hd(n,n.return,o),Bi(n);break;case 27:Ml(n.stateNode);case 26:case 5:Rn(n,n.return),Bi(n);break;case 22:n.memoizedState===null&&Bi(n);break;case 30:Bi(n);break;default:Bi(n)}e=e.sibling}}function Yn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,h=n,S=h.flags;switch(h.tag){case 0:case 11:case 15:Yn(d,h,o),vl(4,h);break;case 1:if(Yn(d,h,o),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(L){Je(s,s.return,L)}if(s=h,d=s.updateQueue,d!==null){var _=s.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)xf(x[d],_)}catch(L){Je(s,s.return,L)}}o&&S&64&&kd(h),Sl(h,h.return);break;case 27:Vd(h);case 26:case 5:Yn(d,h,o),o&&s===null&&S&4&&Pd(h),Sl(h,h.return);break;case 12:Yn(d,h,o);break;case 31:Yn(d,h,o),o&&S&4&&Fd(d,h);break;case 13:Yn(d,h,o),o&&S&4&&Jd(d,h);break;case 22:h.memoizedState===null&&Yn(d,h,o),Sl(h,h.return);break;case 30:break;default:Yn(d,h,o)}n=n.sibling}}function Kr(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&ll(o))}function Qr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ll(e))}function Sn(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qd(e,n,o,s),n=n.sibling}function Qd(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Sn(e,n,o,s),d&2048&&vl(9,n);break;case 1:Sn(e,n,o,s);break;case 3:Sn(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ll(e)));break;case 12:if(d&2048){Sn(e,n,o,s),e=n.stateNode;try{var h=n.memoizedProps,S=h.id,_=h.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Je(n,n.return,x)}}else Sn(e,n,o,s);break;case 31:Sn(e,n,o,s);break;case 13:Sn(e,n,o,s);break;case 23:break;case 22:h=n.stateNode,S=n.alternate,n.memoizedState!==null?h._visibility&2?Sn(e,n,o,s):Tl(e,n):h._visibility&2?Sn(e,n,o,s):(h._visibility|=2,Eo(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Kr(S,n);break;case 24:Sn(e,n,o,s),d&2048&&Qr(n.alternate,n);break;default:Sn(e,n,o,s)}}function Eo(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,S=n,_=o,x=s,L=S.flags;switch(S.tag){case 0:case 11:case 15:Eo(h,S,_,x,d),vl(8,S);break;case 23:break;case 22:var q=S.stateNode;S.memoizedState!==null?q._visibility&2?Eo(h,S,_,x,d):Tl(h,S):(q._visibility|=2,Eo(h,S,_,x,d)),d&&L&2048&&Kr(S.alternate,S);break;case 24:Eo(h,S,_,x,d),d&&L&2048&&Qr(S.alternate,S);break;default:Eo(h,S,_,x,d)}n=n.sibling}}function Tl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:Tl(o,s),d&2048&&Kr(s.alternate,s);break;case 24:Tl(o,s),d&2048&&Qr(s.alternate,s);break;default:Tl(o,s)}n=n.sibling}}var El=8192;function _o(e,n,o){if(e.subtreeFlags&El)for(e=e.child;e!==null;)Zd(e,n,o),e=e.sibling}function Zd(e,n,o){switch(e.tag){case 26:_o(e,n,o),e.flags&El&&e.memoizedState!==null&&W0(o,vn,e.memoizedState,e.memoizedProps);break;case 5:_o(e,n,o);break;case 3:case 4:var s=vn;vn=qa(e.stateNode.containerInfo),_o(e,n,o),vn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=El,El=16777216,_o(e,n,o),El=s):_o(e,n,o));break;default:_o(e,n,o)}}function $d(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function _l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Rt=s,jd(s,e)}$d(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wd(e),e=e.sibling}function Wd(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&ci(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Na(e)):_l(e);break;default:_l(e)}}function Na(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];Rt=s,jd(s,e)}$d(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ci(8,n,n.return),Na(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Na(n));break;default:Na(n)}e=e.sibling}}function jd(e,n){for(;Rt!==null;){var o=Rt;switch(o.tag){case 0:case 11:case 15:ci(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ll(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,Rt=s;else e:for(o=e;Rt!==null;){s=Rt;var d=s.sibling,h=s.return;if(Od(s),s===o){Rt=null;break e}if(d!==null){d.return=h,Rt=d;break e}Rt=h}}}var p0={getCacheForType:function(e){var n=Dt(St),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return Dt(St).controller.signal}},h0=typeof WeakMap=="function"?WeakMap:Map,Ye=0,je=null,be=null,Ue=0,Fe=0,tn=null,fi=!1,Co=!1,Zr=!1,Fn=0,pt=0,di=0,Oi=0,$r=0,nn=0,Ao=0,Cl=null,Kt=null,Wr=!1,Ra=0,ep=0,Ma=1/0,ba=null,pi=null,At=0,hi=null,xo=null,Jn=0,jr=0,eu=null,tp=null,Al=0,tu=null;function on(){return(Ye&2)!==0&&Ue!==0?Ue&-Ue:H.T!==null?su():gc()}function np(){if(nn===0)if((Ue&536870912)===0||Ge){var e=lt;lt<<=1,(lt&3932160)===0&&(lt=262144),nn=e}else nn=536870912;return e=jt.current,e!==null&&(e.flags|=32),nn}function Qt(e,n,o){(e===je&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(No(e,0),mi(e,Ue,nn,!1)),Zt(e,o),((Ye&2)===0||e!==je)&&(e===je&&((Ye&2)===0&&(Oi|=o),pt===4&&mi(e,Ue,nn,!1)),Mn(e))}function ip(e,n,o){if((Ye&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||We(e,n),d=s?y0(e,n):iu(e,n,!0),h=s;do{if(d===0){Co&&!s&&mi(e,n,0,!1);break}else{if(o=e.current.alternate,h&&!m0(o)){d=iu(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=Cl;var x=_.current.memoizedState.isDehydrated;if(x&&(No(_,S).flags|=256),S=iu(_,S,!1),S!==2){if(Zr&&!x){_.errorRecoveryDisabledLanes|=h,Oi|=h,d=4;break e}h=Kt,Kt=d,h!==null&&(Kt===null?Kt=h:Kt.push.apply(Kt,h))}d=S}if(h=!1,d!==2)continue}}if(d===1){No(e,0),mi(e,n,0,!0);break}e:{switch(s=e,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:mi(s,n,nn,!fi);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Ra+300-bt(),10<d)){if(mi(s,n,nn,!fi),tt(s,0,!0)!==0)break e;Jn=n,s.timeoutHandle=Lp(op.bind(null,s,o,Kt,ba,Wr,n,nn,Oi,Ao,fi,h,"Throttled",-0,0),d);break e}op(s,o,Kt,ba,Wr,n,nn,Oi,Ao,fi,h,null,-0,0)}}break}while(!0);Mn(e)}function op(e,n,o,s,d,h,S,_,x,L,q,z,G,P){if(e.timeoutHandle=-1,z=n.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:In},Zd(n,h,z);var fe=(h&62914560)===h?Ra-bt():(h&4194048)===h?ep-bt():0;if(fe=j0(z,fe),fe!==null){Jn=h,e.cancelPendingCommit=fe(dp.bind(null,e,n,h,o,s,d,S,_,x,q,z,null,G,P)),mi(e,h,S,!L);return}}dp(e,n,h,o,s,d,S,_,x)}function m0(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],h=d.getSnapshot;d=d.value;try{if(!$t(h(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mi(e,n,o,s){n&=~$r,n&=~Oi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var h=31-ge(d),S=1<<h;s[h]=-1,d&=~S}o!==0&&ql(e,o,n)}function wa(){return(Ye&6)===0?(xl(0),!1):!0}function nu(){if(be!==null){if(Fe===0)var e=be.return;else e=be,Gn=Li=null,vr(e),go=null,sl=0,e=be;for(;e!==null;)Gd(e.alternate,e),e=e.return;be=null}}function No(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,G0(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Jn=0,nu(),je=e,be=o=Un(e.current,null),Ue=n,Fe=0,tn=null,fi=!1,Co=We(e,n),Zr=!1,Ao=nn=$r=Oi=di=pt=0,Kt=Cl=null,Wr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-ge(s),h=1<<d;n|=e[d],s&=~h}return Fn=n,$l(),o}function lp(e,n){Ae=null,H.H=ml,n===mo||n===la?(n=Ef(),Fe=3):n===ar?(n=Ef(),Fe=4):Fe=n===Lr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,tn=n,be===null&&(pt=1,Sa(e,rn(n,e.current)))}function ap(){var e=jt.current;return e===null?!0:(Ue&4194048)===Ue?dn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===dn:!1}function sp(){var e=H.H;return H.H=ml,e===null?ml:e}function rp(){var e=H.A;return H.A=p0,e}function Ia(){pt=4,fi||(Ue&4194048)!==Ue&&jt.current!==null||(Co=!0),(di&134217727)===0&&(Oi&134217727)===0||je===null||mi(je,Ue,nn,!1)}function iu(e,n,o){var s=Ye;Ye|=2;var d=sp(),h=rp();(je!==e||Ue!==n)&&(ba=null,No(e,n)),n=!1;var S=pt;e:do try{if(Fe!==0&&be!==null){var _=be,x=tn;switch(Fe){case 8:nu(),S=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(n=!0);var L=Fe;if(Fe=0,tn=null,Ro(e,_,x,L),o&&Co){S=0;break e}break;default:L=Fe,Fe=0,tn=null,Ro(e,_,x,L)}}g0(),S=pt;break}catch(q){lp(e,q)}while(!0);return n&&e.shellSuspendCounter++,Gn=Li=null,Ye=s,H.H=d,H.A=h,be===null&&(je=null,Ue=0,$l()),S}function g0(){for(;be!==null;)up(be)}function y0(e,n){var o=Ye;Ye|=2;var s=sp(),d=rp();je!==e||Ue!==n?(ba=null,Ma=bt()+500,No(e,n)):Co=We(e,n);e:do try{if(Fe!==0&&be!==null){n=be;var h=tn;t:switch(Fe){case 1:Fe=0,tn=null,Ro(e,n,h,1);break;case 2:case 9:if(Sf(h)){Fe=0,tn=null,cp(n);break}n=function(){Fe!==2&&Fe!==9||je!==e||(Fe=7),Mn(e)},h.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Sf(h)?(Fe=0,tn=null,cp(n)):(Fe=0,tn=null,Ro(e,n,h,7));break;case 5:var S=null;switch(be.tag){case 26:S=be.memoizedState;case 5:case 27:var _=be;if(S?Qp(S):_.stateNode.complete){Fe=0,tn=null;var x=_.sibling;if(x!==null)be=x;else{var L=_.return;L!==null?(be=L,Da(L)):be=null}break t}}Fe=0,tn=null,Ro(e,n,h,5);break;case 6:Fe=0,tn=null,Ro(e,n,h,6);break;case 8:nu(),pt=6;break e;default:throw Error(a(462))}}v0();break}catch(q){lp(e,q)}while(!0);return Gn=Li=null,H.H=s,H.A=d,Ye=o,be!==null?0:(je=null,Ue=0,$l(),pt)}function v0(){for(;be!==null&&!Oo();)up(be)}function up(e){var n=Ud(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,n===null?Da(e):be=n}function cp(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Rd(o,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=Rd(o,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:vr(n);default:Gd(o,n),n=be=rf(n,Fn),n=Ud(o,n,Fn)}e.memoizedProps=e.pendingProps,n===null?Da(e):be=n}function Ro(e,n,o,s){Gn=Li=null,vr(n),go=null,sl=0;var d=n.return;try{if(a0(e,d,n,o,Ue)){pt=1,Sa(e,rn(o,e.current)),be=null;return}}catch(h){if(d!==null)throw be=d,h;pt=1,Sa(e,rn(o,e.current)),be=null;return}n.flags&32768?(Ge||s===1?e=!0:Co||(Ue&536870912)!==0?e=!1:(fi=e=!0,(s===2||s===9||s===3||s===6)&&(s=jt.current,s!==null&&s.tag===13&&(s.flags|=16384))),fp(n,e)):Da(n)}function Da(e){var n=e;do{if((n.flags&32768)!==0){fp(n,fi);return}e=n.return;var o=u0(n.alternate,n,Fn);if(o!==null){be=o;return}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);pt===0&&(pt=5)}function fp(e,n){do{var o=c0(e.alternate,e);if(o!==null){o.flags&=32767,be=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){be=e;return}be=e=o}while(e!==null);pt=6,be=null}function dp(e,n,o,s,d,h,S,_,x){e.cancelPendingCommit=null;do Ua();while(At!==0);if((Ye&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Fs,Fo(e,o,h,S,_,x),e===je&&(be=je=null,Ue=0),xo=n,hi=e,Jn=o,jr=h,eu=d,tp=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_0(bn,function(){return yp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,d=$.p,$.p=2,S=Ye,Ye|=4;try{f0(e,n,o)}finally{Ye=S,$.p=d,H.T=s}}At=1,pp(),hp(),mp()}}function pp(){if(At===1){At=0;var e=hi,n=xo,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var s=$.p;$.p=2;var d=Ye;Ye|=4;try{Xd(n,e);var h=mu,S=Wc(e.containerInfo),_=h.focusedElem,x=h.selectionRange;if(S!==_&&_&&_.ownerDocument&&$c(_.ownerDocument.documentElement,_)){if(x!==null&&Vs(_)){var L=x.start,q=x.end;if(q===void 0&&(q=L),"selectionStart"in _)_.selectionStart=L,_.selectionEnd=Math.min(q,_.value.length);else{var z=_.ownerDocument||document,G=z&&z.defaultView||window;if(G.getSelection){var P=G.getSelection(),fe=_.textContent.length,Te=Math.min(x.start,fe),Ze=x.end===void 0?Te:Math.min(x.end,fe);!P.extend&&Te>Ze&&(S=Ze,Ze=Te,Te=S);var D=Zc(_,Te),M=Zc(_,Ze);if(D&&M&&(P.rangeCount!==1||P.anchorNode!==D.node||P.anchorOffset!==D.offset||P.focusNode!==M.node||P.focusOffset!==M.offset)){var U=z.createRange();U.setStart(D.node,D.offset),P.removeAllRanges(),Te>Ze?(P.addRange(U),P.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),P.addRange(U))}}}}for(z=[],P=_;P=P.parentNode;)P.nodeType===1&&z.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var V=z[_];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Fa=!!hu,mu=hu=null}finally{Ye=d,$.p=s,H.T=o}}e.current=n,At=2}}function hp(){if(At===2){At=0;var e=hi,n=xo,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var s=$.p;$.p=2;var d=Ye;Ye|=4;try{Bd(e,n.alternate,n)}finally{Ye=d,$.p=s,H.T=o}}At=3}}function mp(){if(At===4||At===3){At=0,Wn();var e=hi,n=xo,o=Jn,s=tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?At=5:(At=0,xo=hi=null,gp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(pi=null),Es(o),n=n.stateNode,W&&typeof W.onCommitFiberRoot=="function")try{W.onCommitFiberRoot(ie,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=H.T,d=$.p,$.p=2,H.T=null;try{for(var h=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];h(_.value,{componentStack:_.stack})}}finally{H.T=n,$.p=d}}(Jn&3)!==0&&Ua(),Mn(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===tu?Al++:(Al=0,tu=e):Al=0,xl(0)}}function gp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ll(n)))}function Ua(){return pp(),hp(),mp(),yp()}function yp(){if(At!==5)return!1;var e=hi,n=jr;jr=0;var o=Es(Jn),s=H.T,d=$.p;try{$.p=32>o?32:o,H.T=null,o=eu,eu=null;var h=hi,S=Jn;if(At=0,xo=hi=null,Jn=0,(Ye&6)!==0)throw Error(a(331));var _=Ye;if(Ye|=4,Wd(h.current),Qd(h,h.current,S,o),Ye=_,xl(0,!1),W&&typeof W.onPostCommitFiberRoot=="function")try{W.onPostCommitFiberRoot(ie,h)}catch{}return!0}finally{$.p=d,H.T=s,gp(e,n)}}function vp(e,n,o){n=rn(o,n),n=Ur(e.stateNode,n,2),e=si(e,n,2),e!==null&&(Zt(e,2),Mn(e))}function Je(e,n,o){if(e.tag===3)vp(e,e,o);else for(;n!==null;){if(n.tag===3){vp(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(pi===null||!pi.has(s))){e=rn(o,e),o=Sd(2),s=si(n,o,2),s!==null&&(Td(o,s,n,e),Zt(s,2),Mn(s));break}}n=n.return}}function ou(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new h0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(Zr=!0,d.add(o),e=S0.bind(null,e,n,o),n.then(e,e))}function S0(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,je===e&&(Ue&o)===o&&(pt===4||pt===3&&(Ue&62914560)===Ue&&300>bt()-Ra?(Ye&2)===0&&No(e,0):$r|=o,Ao===Ue&&(Ao=0)),Mn(e)}function Sp(e,n){n===0&&(n=xt()),e=Ii(e,n),e!==null&&(Zt(e,n),Mn(e))}function T0(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Sp(e,o)}function E0(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Sp(e,o)}function _0(e,n){return st(e,n)}var La=null,Mo=null,lu=!1,Ga=!1,au=!1,gi=0;function Mn(e){e!==Mo&&e.next===null&&(Mo===null?La=Mo=e:Mo=Mo.next=e),Ga=!0,lu||(lu=!0,A0())}function xl(e,n){if(!au&&Ga){au=!0;do for(var o=!1,s=La;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var S=s.suspendedLanes,_=s.pingedLanes;h=(1<<31-ge(42|e)+1)-1,h&=d&~(S&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,Cp(s,h))}else h=Ue,h=tt(s,s===je?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||We(s,h)||(o=!0,Cp(s,h));s=s.next}while(o);au=!1}}function C0(){Tp()}function Tp(){Ga=lu=!1;var e=0;gi!==0&&L0()&&(e=gi);for(var n=bt(),o=null,s=La;s!==null;){var d=s.next,h=Ep(s,n);h===0?(s.next=null,o===null?La=d:o.next=d,d===null&&(Mo=o)):(o=s,(e!==0||(h&3)!==0)&&(Ga=!0)),s=d}At!==0&&At!==5||xl(e),gi!==0&&(gi=0)}function Ep(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-ge(h),_=1<<S,x=d[S];x===-1?((_&o)===0||(_&s)!==0)&&(d[S]=qt(_,n)):x<=n&&(e.expiredLanes|=_),h&=~_}if(n=je,o=Ue,o=tt(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&An(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||We(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&An(s),Es(o)){case 2:case 8:o=Xi;break;case 32:o=bn;break;case 268435456:o=ne;break;default:o=bn}return s=_p.bind(null,e),o=st(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&An(s),e.callbackPriority=2,e.callbackNode=null,2}function _p(e,n){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Ua()&&e.callbackNode!==o)return null;var s=Ue;return s=tt(e,e===je?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ip(e,s,n),Ep(e,bt()),e.callbackNode!=null&&e.callbackNode===o?_p.bind(null,e):null)}function Cp(e,n){if(Ua())return null;ip(e,n,!0)}function A0(){k0(function(){(Ye&6)!==0?st(Ji,C0):Tp()})}function su(){if(gi===0){var e=po;e===0&&(e=nt,nt<<=1,(nt&261888)===0&&(nt=256)),gi=e}return gi}function Ap(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ol(""+e)}function xp(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function x0(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var h=Ap((d[Ot]||null).action),S=s.submitter;S&&(n=(n=S[Ot]||null)?Ap(n.formAction):S.getAttribute("formAction"),n!==null&&(h=n,S=null));var _=new Xl("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(gi!==0){var x=S?xp(d,S):new FormData(d);Rr(o,{pending:!0,data:x,method:d.method,action:h},null,x)}}else typeof h=="function"&&(_.preventDefault(),x=S?xp(d,S):new FormData(d),Rr(o,{pending:!0,data:x,method:d.method,action:h},h,x))},currentTarget:d}]})}}for(var ru=0;ru<Ys.length;ru++){var uu=Ys[ru],N0=uu.toLowerCase(),R0=uu[0].toUpperCase()+uu.slice(1);yn(N0,"on"+R0)}yn(tf,"onAnimationEnd"),yn(nf,"onAnimationIteration"),yn(of,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Oy,"onTransitionRun"),yn(Yy,"onTransitionStart"),yn(Fy,"onTransitionCancel"),yn(lf,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Np(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],x=_.instance,L=_.currentTarget;if(_=_.listener,x!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=L;try{h(d)}catch(q){Zl(q)}d.currentTarget=null,h=x}else for(S=0;S<s.length;S++){if(_=s[S],x=_.instance,L=_.currentTarget,_=_.listener,x!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=L;try{h(d)}catch(q){Zl(q)}d.currentTarget=null,h=x}}}}function we(e,n){var o=n[_s];o===void 0&&(o=n[_s]=new Set);var s=e+"__bubble";o.has(s)||(Rp(n,e,2,!1),o.add(s))}function cu(e,n,o){var s=0;n&&(s|=4),Rp(o,e,s,n)}var ka="_reactListening"+Math.random().toString(36).slice(2);function fu(e){if(!e[ka]){e[ka]=!0,Sc.forEach(function(o){o!=="selectionchange"&&(M0.has(o)||cu(o,!1,e),cu(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ka]||(n[ka]=!0,cu("selectionchange",!1,n))}}function Rp(e,n,o,s){switch(nh(n)){case 2:var d=nv;break;case 8:d=iv;break;default:d=Nu}o=d.bind(null,n,o,e),d=void 0,!Is||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function du(e,n,o,s,d){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var x=S.tag;if((x===3||x===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=Qi(_),S===null)return;if(x=S.tag,x===5||x===6||x===26||x===27){s=h=S;continue e}_=_.parentNode}}s=s.return}Ic(function(){var L=h,q=bs(o),z=[];e:{var G=af.get(e);if(G!==void 0){var P=Xl,fe=e;switch(e){case"keypress":if(Fl(o)===0)break e;case"keydown":case"keyup":P=Ey;break;case"focusin":fe="focus",P=Gs;break;case"focusout":fe="blur",P=Gs;break;case"beforeblur":case"afterblur":P=Gs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Ay;break;case tf:case nf:case of:P=dy;break;case lf:P=Ny;break;case"scroll":case"scrollend":P=sy;break;case"wheel":P=My;break;case"copy":case"cut":case"paste":P=hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=kc;break;case"toggle":case"beforetoggle":P=wy}var Te=(n&4)!==0,Ze=!Te&&(e==="scroll"||e==="scrollend"),D=Te?G!==null?G+"Capture":null:G;Te=[];for(var M=L,U;M!==null;){var V=M;if(U=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||U===null||D===null||(V=Ko(M,D),V!=null&&Te.push(Rl(M,V,U))),Ze)break;M=M.return}0<Te.length&&(G=new P(G,fe,null,o,q),z.push({event:G,listeners:Te}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",G&&o!==Ms&&(fe=o.relatedTarget||o.fromElement)&&(Qi(fe)||fe[Ki]))break e;if((P||G)&&(G=q.window===q?q:(G=q.ownerDocument)?G.defaultView||G.parentWindow:window,P?(fe=o.relatedTarget||o.toElement,P=L,fe=fe?Qi(fe):null,fe!==null&&(Ze=f(fe),Te=fe.tag,fe!==Ze||Te!==5&&Te!==27&&Te!==6)&&(fe=null)):(P=null,fe=L),P!==fe)){if(Te=Lc,V="onMouseLeave",D="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Te=kc,V="onPointerLeave",D="onPointerEnter",M="pointer"),Ze=P==null?G:Xo(P),U=fe==null?G:Xo(fe),G=new Te(V,M+"leave",P,o,q),G.target=Ze,G.relatedTarget=U,V=null,Qi(q)===L&&(Te=new Te(D,M+"enter",fe,o,q),Te.target=U,Te.relatedTarget=Ze,V=Te),Ze=V,P&&fe)t:{for(Te=b0,D=P,M=fe,U=0,V=D;V;V=Te(V))U++;V=0;for(var ye=M;ye;ye=Te(ye))V++;for(;0<U-V;)D=Te(D),U--;for(;0<V-U;)M=Te(M),V--;for(;U--;){if(D===M||M!==null&&D===M.alternate){Te=D;break t}D=Te(D),M=Te(M)}Te=null}else Te=null;P!==null&&Mp(z,G,P,Te,!1),fe!==null&&Ze!==null&&Mp(z,Ze,fe,Te,!0)}}e:{if(G=L?Xo(L):window,P=G.nodeName&&G.nodeName.toLowerCase(),P==="select"||P==="input"&&G.type==="file")var Ve=Yc;else if(Bc(G))if(Fc)Ve=Vy;else{Ve=Py;var pe=Hy}else P=G.nodeName,!P||P.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?L&&Rs(L.elementType)&&(Ve=Yc):Ve=qy;if(Ve&&(Ve=Ve(e,L))){Oc(z,Ve,o,q);break e}pe&&pe(e,G,L),e==="focusout"&&L&&G.type==="number"&&L.memoizedProps.value!=null&&Ns(G,"number",G.value)}switch(pe=L?Xo(L):window,e){case"focusin":(Bc(pe)||pe.contentEditable==="true")&&(oo=pe,zs=L,nl=null);break;case"focusout":nl=zs=oo=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,jc(z,o,q);break;case"selectionchange":if(By)break;case"keydown":case"keyup":jc(z,o,q)}var Ne;if(Hs)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else io?Vc(e,o)&&(Le="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(Hc&&o.locale!=="ko"&&(io||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&io&&(Ne=Dc()):(ei=q,Ds="value"in ei?ei.value:ei.textContent,io=!0)),pe=Ha(L,Le),0<pe.length&&(Le=new Gc(Le,e,null,o,q),z.push({event:Le,listeners:pe}),Ne?Le.data=Ne:(Ne=zc(o),Ne!==null&&(Le.data=Ne)))),(Ne=Dy?Uy(e,o):Ly(e,o))&&(Le=Ha(L,"onBeforeInput"),0<Le.length&&(pe=new Gc("onBeforeInput","beforeinput",null,o,q),z.push({event:pe,listeners:Le}),pe.data=Ne)),x0(z,e,L,o,q)}Np(z,n)})}function Rl(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ha(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Ko(e,o),d!=null&&s.unshift(Rl(e,d,h)),d=Ko(e,n),d!=null&&s.push(Rl(e,d,h))),e.tag===3)return s;e=e.return}return[]}function b0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mp(e,n,o,s,d){for(var h=n._reactName,S=[];o!==null&&o!==s;){var _=o,x=_.alternate,L=_.stateNode;if(_=_.tag,x!==null&&x===s)break;_!==5&&_!==26&&_!==27||L===null||(x=L,d?(L=Ko(o,h),L!=null&&S.unshift(Rl(o,L,x))):d||(L=Ko(o,h),L!=null&&S.push(Rl(o,L,x)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var w0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function bp(e){return(typeof e=="string"?e:""+e).replace(w0,`
`).replace(I0,"")}function wp(e,n){return n=bp(n),bp(e)===n}function Qe(e,n,o,s,d,h){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||eo(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&eo(e,""+s);break;case"className":zl(e,"class",s);break;case"tabIndex":zl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(e,o,s);break;case"style":bc(e,s,h);break;case"data":if(n!=="object"){zl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Ol(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(n!=="input"&&Qe(e,n,"name",d.name,d,null),Qe(e,n,"formEncType",d.formEncType,d,null),Qe(e,n,"formMethod",d.formMethod,d,null),Qe(e,n,"formTarget",d.formTarget,d,null)):(Qe(e,n,"encType",d.encType,d,null),Qe(e,n,"method",d.method,d,null),Qe(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Ol(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=In);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Ol(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":we("beforetoggle",e),we("toggle",e),Vl(e,"popover",s);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Vl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ly.get(o)||o,Vl(e,o,s))}}function pu(e,n,o,s,d,h){switch(o){case"style":bc(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?eo(e,s):(typeof s=="number"||typeof s=="bigint")&&eo(e,""+s);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"onClick":s!=null&&(e.onclick=In);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),h=e[Ot]||null,h=h!=null?h[o]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):Vl(e,o,s)}}}function Lt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var s=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var S=o[h];if(S!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qe(e,n,h,S,o,null)}}d&&Qe(e,n,"srcSet",o.srcSet,o,null),s&&Qe(e,n,"src",o.src,o,null);return;case"input":we("invalid",e);var _=h=S=d=null,x=null,L=null;for(s in o)if(o.hasOwnProperty(s)){var q=o[s];if(q!=null)switch(s){case"name":d=q;break;case"type":S=q;break;case"checked":x=q;break;case"defaultChecked":L=q;break;case"value":h=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Qe(e,n,s,q,o,null)}}xc(e,h,_,x,L,S,d,!1);return;case"select":we("invalid",e),s=S=h=null;for(d in o)if(o.hasOwnProperty(d)&&(_=o[d],_!=null))switch(d){case"value":h=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:Qe(e,n,d,_,o,null)}n=h,o=S,e.multiple=!!s,n!=null?ji(e,!!s,n,!1):o!=null&&ji(e,!!s,o,!0);return;case"textarea":we("invalid",e),h=d=s=null;for(S in o)if(o.hasOwnProperty(S)&&(_=o[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Qe(e,n,S,_,o,null)}Rc(e,s,d,h);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(s=o[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Qe(e,n,x,s,o,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(s=0;s<Nl.length;s++)we(Nl[s],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in o)if(o.hasOwnProperty(L)&&(s=o[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qe(e,n,L,s,o,null)}return;default:if(Rs(n)){for(q in o)o.hasOwnProperty(q)&&(s=o[q],s!==void 0&&pu(e,n,q,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&Qe(e,n,_,s,o,null))}function D0(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,S=null,_=null,x=null,L=null,q=null;for(P in o){var z=o[P];if(o.hasOwnProperty(P)&&z!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":x=z;default:s.hasOwnProperty(P)||Qe(e,n,P,null,s,z)}}for(var G in s){var P=s[G];if(z=o[G],s.hasOwnProperty(G)&&(P!=null||z!=null))switch(G){case"type":h=P;break;case"name":d=P;break;case"checked":L=P;break;case"defaultChecked":q=P;break;case"value":S=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:P!==z&&Qe(e,n,G,P,s,z)}}xs(e,S,_,x,L,q,h,d);return;case"select":P=S=_=G=null;for(h in o)if(x=o[h],o.hasOwnProperty(h)&&x!=null)switch(h){case"value":break;case"multiple":P=x;default:s.hasOwnProperty(h)||Qe(e,n,h,null,s,x)}for(d in s)if(h=s[d],x=o[d],s.hasOwnProperty(d)&&(h!=null||x!=null))switch(d){case"value":G=h;break;case"defaultValue":_=h;break;case"multiple":S=h;default:h!==x&&Qe(e,n,d,h,s,x)}n=_,o=S,s=P,G!=null?ji(e,!!o,G,!1):!!s!=!!o&&(n!=null?ji(e,!!o,n,!0):ji(e,!!o,o?[]:"",!1));return;case"textarea":P=G=null;for(_ in o)if(d=o[_],o.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Qe(e,n,_,null,s,d)}for(S in s)if(d=s[S],h=o[S],s.hasOwnProperty(S)&&(d!=null||h!=null))switch(S){case"value":G=d;break;case"defaultValue":P=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&Qe(e,n,S,d,s,h)}Nc(e,G,P);return;case"option":for(var fe in o)if(G=o[fe],o.hasOwnProperty(fe)&&G!=null&&!s.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:Qe(e,n,fe,null,s,G)}for(x in s)if(G=s[x],P=o[x],s.hasOwnProperty(x)&&G!==P&&(G!=null||P!=null))switch(x){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Qe(e,n,x,G,s,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)G=o[Te],o.hasOwnProperty(Te)&&G!=null&&!s.hasOwnProperty(Te)&&Qe(e,n,Te,null,s,G);for(L in s)if(G=s[L],P=o[L],s.hasOwnProperty(L)&&G!==P&&(G!=null||P!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Qe(e,n,L,G,s,P)}return;default:if(Rs(n)){for(var Ze in o)G=o[Ze],o.hasOwnProperty(Ze)&&G!==void 0&&!s.hasOwnProperty(Ze)&&pu(e,n,Ze,void 0,s,G);for(q in s)G=s[q],P=o[q],!s.hasOwnProperty(q)||G===P||G===void 0&&P===void 0||pu(e,n,q,G,s,P);return}}for(var D in o)G=o[D],o.hasOwnProperty(D)&&G!=null&&!s.hasOwnProperty(D)&&Qe(e,n,D,null,s,G);for(z in s)G=s[z],P=o[z],!s.hasOwnProperty(z)||G===P||G==null&&P==null||Qe(e,n,z,G,s,P)}function Ip(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],h=d.transferSize,S=d.initiatorType,_=d.duration;if(h&&_&&Ip(S)){for(S=0,_=d.responseEnd,s+=1;s<o.length;s++){var x=o[s],L=x.startTime;if(L>_)break;var q=x.transferSize,z=x.initiatorType;q&&Ip(z)&&(x=x.responseEnd,S+=q*(x<_?1:(_-L)/(x-L)))}if(--s,n+=8*(h+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hu=null,mu=null;function Pa(e){return e.nodeType===9?e:e.ownerDocument}function Dp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yu=null;function L0(){var e=window.event;return e&&e.type==="popstate"?e===yu?!1:(yu=e,!0):(yu=null,!1)}var Lp=typeof setTimeout=="function"?setTimeout:void 0,G0=typeof clearTimeout=="function"?clearTimeout:void 0,Gp=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof Gp<"u"?function(e){return Gp.resolve(null).then(e).catch(H0)}:Lp;function H0(e){setTimeout(function(){throw e})}function yi(e){return e==="head"}function kp(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),Do(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Ml(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Ml(o);for(var h=o.firstChild;h;){var S=h.nextSibling,_=h.nodeName;h[Jo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||o.removeChild(h),h=S}}else o==="body"&&Ml(e.ownerDocument.body);o=d}while(o);Do(n)}function Hp(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function vu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vu(o),Cs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function P0(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Jo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=pn(e.nextSibling),e===null)break}return null}function q0(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=pn(e.nextSibling),e===null))return null;return e}function Pp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=pn(e.nextSibling),e===null))return null;return e}function Su(e){return e.data==="$?"||e.data==="$~"}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function V0(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Eu=null;function qp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return pn(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Vp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function zp(e,n,o){switch(n=Pa(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Cs(e)}var hn=new Map,Bp=new Set;function qa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xn=$.d;$.d={f:z0,r:B0,D:O0,C:Y0,L:F0,m:J0,X:K0,S:X0,M:Q0};function z0(){var e=Xn.f(),n=wa();return e||n}function B0(e){var n=Zi(e);n!==null&&n.tag===5&&n.type==="form"?ld(n):Xn.r(e)}var bo=typeof document>"u"?null:document;function Op(e,n,o){var s=bo;if(s&&typeof n=="string"&&n){var d=an(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Bp.has(d)||(Bp.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),Lt(n,"link",e),Nt(n),s.head.appendChild(n)))}}function O0(e){Xn.D(e),Op("dns-prefetch",e,null)}function Y0(e,n){Xn.C(e,n),Op("preconnect",e,n)}function F0(e,n,o){Xn.L(e,n,o);var s=bo;if(s&&e&&n){var d='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+an(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+an(o.imageSizes)+'"]')):d+='[href="'+an(e)+'"]';var h=d;switch(n){case"style":h=wo(e);break;case"script":h=Io(e)}hn.has(h)||(e=E({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),hn.set(h,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(bl(h))||n==="script"&&s.querySelector(wl(h))||(n=s.createElement("link"),Lt(n,"link",e),Nt(n),s.head.appendChild(n)))}}function J0(e,n){Xn.m(e,n);var o=bo;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+an(s)+'"][href="'+an(e)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Io(e)}if(!hn.has(h)&&(e=E({rel:"modulepreload",href:e},n),hn.set(h,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wl(h)))return}s=o.createElement("link"),Lt(s,"link",e),Nt(s),o.head.appendChild(s)}}}function X0(e,n,o){Xn.S(e,n,o);var s=bo;if(s&&e){var d=$i(s).hoistableStyles,h=wo(e);n=n||"default";var S=d.get(h);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(bl(h)))_.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},o),(o=hn.get(h))&&_u(e,o);var x=S=s.createElement("link");Nt(x),Lt(x,"link",e),x._p=new Promise(function(L,q){x.onload=L,x.onerror=q}),x.addEventListener("load",function(){_.loading|=1}),x.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Va(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(h,S)}}}function K0(e,n){Xn.X(e,n);var o=bo;if(o&&e){var s=$i(o).hoistableScripts,d=Io(e),h=s.get(d);h||(h=o.querySelector(wl(d)),h||(e=E({src:e,async:!0},n),(n=hn.get(d))&&Cu(e,n),h=o.createElement("script"),Nt(h),Lt(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Q0(e,n){Xn.M(e,n);var o=bo;if(o&&e){var s=$i(o).hoistableScripts,d=Io(e),h=s.get(d);h||(h=o.querySelector(wl(d)),h||(e=E({src:e,async:!0,type:"module"},n),(n=hn.get(d))&&Cu(e,n),h=o.createElement("script"),Nt(h),Lt(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Yp(e,n,o,s){var d=(d=O.current)?qa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=wo(o.href),o=$i(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=wo(o.href);var h=$i(d).hoistableStyles,S=h.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=d.querySelector(bl(e)))&&!h._p&&(S.instance=h,S.state.loading=5),hn.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},hn.set(e,o),h||Z0(d,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Io(o),o=$i(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function wo(e){return'href="'+an(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function Fp(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Z0(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Lt(n,"link",o),Nt(n),e.head.appendChild(n))}function Io(e){return'[src="'+an(e)+'"]'}function wl(e){return"script[async]"+e}function Jp(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+an(o.href)+'"]');if(s)return n.instance=s,Nt(s),s;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Nt(s),Lt(s,"style",d),Va(s,o.precedence,e),n.instance=s;case"stylesheet":d=wo(o.href);var h=e.querySelector(bl(d));if(h)return n.state.loading|=4,n.instance=h,Nt(h),h;s=Fp(o),(d=hn.get(d))&&_u(s,d),h=(e.ownerDocument||e).createElement("link"),Nt(h);var S=h;return S._p=new Promise(function(_,x){S.onload=_,S.onerror=x}),Lt(h,"link",s),n.state.loading|=4,Va(h,o.precedence,e),n.instance=h;case"script":return h=Io(o.src),(d=e.querySelector(wl(h)))?(n.instance=d,Nt(d),d):(s=o,(d=hn.get(h))&&(s=E({},o),Cu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Nt(d),Lt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Va(s,o.precedence,e));return n.instance}function Va(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)h=_;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function _u(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var za=null;function Xp(e,n,o){if(za===null){var s=new Map,d=za=new Map;d.set(o,s)}else d=za,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var h=o[d];if(!(h[Jo]||h[wt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(h):s.set(S,[h])}}return s}function Kp(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function $0(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function W0(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=wo(s.href),h=n.querySelector(bl(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ba.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=h,Nt(h);return}h=n.ownerDocument||n,s=Fp(s),(d=hn.get(d))&&_u(s,d),h=h.createElement("link"),Nt(h);var S=h;S._p=new Promise(function(_,x){S.onload=_,S.onerror=x}),Lt(h,"link",s),o.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ba.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Au=0;function j0(e,n){return e.stylesheets&&e.count===0&&Ya(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Ya(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Au===0&&(Au=62500*U0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ya(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Au?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Ba(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ya(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oa=null;function Ya(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oa=new Map,n.forEach(ev,e),Oa=null,Ba.call(e))}function ev(e,n){if(!(n.state.loading&4)){var o=Oa.get(e);if(o)var s=o.get(null);else{o=new Map,Oa.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var S=d[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),h=o.get(S)||s,h===s&&o.set(null,d),o.set(S,d),this.count++,s=Ba.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Il={$$typeof:F,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function tv(e,n,o,s,d,h,S,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rt(0),this.hiddenUpdates=rt(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Zp(e,n,o,s,d,h,S,_,x,L,q,z){return e=new tv(e,n,o,S,x,L,q,z,_),n=1,h===!0&&(n|=24),h=Wt(3,null,null,n),e.current=h,h.stateNode=e,n=ir(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:o,cache:n},sr(h),e}function $p(e){return e?(e=so,e):so}function Wp(e,n,o,s,d,h){d=$p(d),s.context===null?s.context=d:s.pendingContext=d,s=ai(n),s.payload={element:o},h=h===void 0?null:h,h!==null&&(s.callback=h),o=si(e,s,n),o!==null&&(Qt(o,e,n),ul(o,e,n))}function jp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function xu(e,n){jp(e,n),(e=e.alternate)&&jp(e,n)}function eh(e){if(e.tag===13||e.tag===31){var n=Ii(e,67108864);n!==null&&Qt(n,e,67108864),xu(e,67108864)}}function th(e){if(e.tag===13||e.tag===31){var n=on();n=Ts(n);var o=Ii(e,n);o!==null&&Qt(o,e,n),xu(e,n)}}var Fa=!0;function nv(e,n,o,s){var d=H.T;H.T=null;var h=$.p;try{$.p=2,Nu(e,n,o,s)}finally{$.p=h,H.T=d}}function iv(e,n,o,s){var d=H.T;H.T=null;var h=$.p;try{$.p=8,Nu(e,n,o,s)}finally{$.p=h,H.T=d}}function Nu(e,n,o,s){if(Fa){var d=Ru(s);if(d===null)du(e,n,s,Ja,o),ih(e,s);else if(lv(d,e,n,o,s))s.stopPropagation();else if(ih(e,s),n&4&&-1<ov.indexOf(e)){for(;d!==null;){var h=Zi(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=ft(h.pendingLanes);if(S!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var x=1<<31-ge(S);_.entanglements[1]|=x,S&=~x}Mn(h),(Ye&6)===0&&(Ma=bt()+500,xl(0))}}break;case 31:case 13:_=Ii(h,2),_!==null&&Qt(_,h,2),wa(),xu(h,2)}if(h=Ru(s),h===null&&du(e,n,s,Ja,o),h===d)break;d=h}d!==null&&s.stopPropagation()}else du(e,n,s,null,o)}}function Ru(e){return e=bs(e),Mu(e)}var Ja=null;function Mu(e){if(Ja=null,e=Qi(e),e!==null){var n=f(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ja=e,null}function nh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yo()){case Ji:return 2;case Xi:return 8;case bn:case Y:return 32;case ne:return 268435456;default:return 32}default:return 32}}var bu=!1,vi=null,Si=null,Ti=null,Dl=new Map,Ul=new Map,Ei=[],ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ih(e,n){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function Ll(e,n,o,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Zi(n),n!==null&&eh(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function lv(e,n,o,s,d){switch(n){case"focusin":return vi=Ll(vi,e,n,o,s,d),!0;case"dragenter":return Si=Ll(Si,e,n,o,s,d),!0;case"mouseover":return Ti=Ll(Ti,e,n,o,s,d),!0;case"pointerover":var h=d.pointerId;return Dl.set(h,Ll(Dl.get(h)||null,e,n,o,s,d)),!0;case"gotpointercapture":return h=d.pointerId,Ul.set(h,Ll(Ul.get(h)||null,e,n,o,s,d)),!0}return!1}function oh(e){var n=Qi(e.target);if(n!==null){var o=f(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,yc(e.priority,function(){th(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,yc(e.priority,function(){th(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Ru(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);Ms=s,o.target.dispatchEvent(s),Ms=null}else return n=Zi(o),n!==null&&eh(n),e.blockedOn=o,!1;n.shift()}return!0}function lh(e,n,o){Xa(e)&&o.delete(n)}function av(){bu=!1,vi!==null&&Xa(vi)&&(vi=null),Si!==null&&Xa(Si)&&(Si=null),Ti!==null&&Xa(Ti)&&(Ti=null),Dl.forEach(lh),Ul.forEach(lh)}function Ka(e,n){e.blockedOn===n&&(e.blockedOn=null,bu||(bu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,av)))}var Qa=null;function ah(e){Qa!==e&&(Qa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qa===e&&(Qa=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(Mu(s||o)===null)continue;break}var h=Zi(o);h!==null&&(e.splice(n,3),n-=3,Rr(h,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function Do(e){function n(x){return Ka(x,e)}vi!==null&&Ka(vi,e),Si!==null&&Ka(Si,e),Ti!==null&&Ka(Ti,e),Dl.forEach(n),Ul.forEach(n);for(var o=0;o<Ei.length;o++){var s=Ei[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ei.length&&(o=Ei[0],o.blockedOn===null);)oh(o),o.blockedOn===null&&Ei.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],h=o[s+1],S=d[Ot]||null;if(typeof h=="function")S||ah(o);else if(S){var _=null;if(h&&h.hasAttribute("formAction")){if(d=h,S=h[Ot]||null)_=S.formAction;else if(Mu(d)!==null)continue}else _=S.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),ah(o)}}}function sh(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function wu(e){this._internalRoot=e}Za.prototype.render=wu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=on();Wp(o,s,e,n,null,null)},Za.prototype.unmount=wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Wp(e.current,2,null,e,null,null),wa(),n[Ki]=null}};function Za(e){this._internalRoot=e}Za.prototype.unstable_scheduleHydration=function(e){if(e){var n=gc();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Ei.length&&n!==0&&n<Ei[o].priority;o++);Ei.splice(o,0,e),o===0&&oh(e)}};var rh=t.version;if(rh!=="19.2.3")throw Error(a(527,rh,"19.2.3"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var sv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{ie=$a.inject(sv),W=$a}catch{}}return kl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=md,h=gd,S=yd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Zp(e,1,!1,null,null,o,s,null,d,h,S,sh),e[Ki]=n.current,fu(e),new wu(n)},kl.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",h=md,S=gd,_=yd,x=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(x=o.formState)),n=Zp(e,1,!0,n,o??null,s,d,x,h,S,_,sh),n.context=$p(null),o=n.current,s=on(),s=Ts(s),d=ai(s),d.callback=null,si(o,d,s),o=s,n.current.lanes=o,Zt(n,o),Mn(n),e[Ki]=n.current,fu(e),new Za(n)},kl.version="19.2.3",kl}var vh;function vv(){if(vh)return Uu.exports;vh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Uu.exports=yv(),Uu.exports}var Sv=vv();const Tv=eg(Sv);var xi=(i=>(i.SELECT="SELECT",i.ADD_PARENT="ADD_PARENT",i.ADD_CHILD="ADD_CHILD",i.ADD_SPOUSE="ADD_SPOUSE",i.PAN="PAN",i))(xi||{});/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_v=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,a)=>a?a.toUpperCase():l.toLowerCase()),Sh=i=>{const t=_v(i);return t.charAt(0).toUpperCase()+t.slice(1)},tg=(...i)=>i.filter((t,l,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===l).join(" ").trim(),Cv=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Av={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=j.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:r="",children:f,iconNode:p,...g},y)=>j.createElement("svg",{ref:y,...Av,width:t,height:t,stroke:i,strokeWidth:a?Number(l)*24/Number(t):l,className:tg("lucide",r),...!f&&!Cv(g)&&{"aria-hidden":"true"},...g},[...p.map(([m,v])=>j.createElement(m,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(i,t)=>{const l=j.forwardRef(({className:a,...r},f)=>j.createElement(xv,{ref:f,iconNode:t,className:tg(`lucide-${Ev(Sh(i))}`,`lucide-${i}`,a),...r}));return l.displayName=Sh(i),l};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Rv=gt("camera",Nv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bv=gt("download",Mv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Iv=gt("grid-3x3",wv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Uv=gt("lock-open",Dv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gv=gt("lock",Lv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Hv=gt("maximize",kv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],qv=gt("mouse",Pv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],zv=gt("move",Vv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Ov=gt("panels-top-left",Bv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fv=gt("plus",Yv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xv=gt("save",Jv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qv=gt("search",Kv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$v=gt("settings",Zv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jv=gt("trash-2",Wv);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tS=gt("upload",eS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iS=gt("user",nS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lS=gt("users",oS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],sS=gt("wand-sparkles",aS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uS=gt("x",rS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],fS=gt("zoom-in",cS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],pS=gt("zoom-out",dS),ke={User:iS,Users:lS,Plus:Fv,Move:zv,Download:bv,Upload:tS,Wand2:sS,Trash2:jv,X:uS,Save:Xv,ZoomIn:fS,ZoomOut:pS,Maximize:Hv,Camera:Rv,Search:Qv,Lock:Gv,Unlock:Uv,Layout:Ov,Grid:Iv,Settings:$v,Mouse:qv},Lo=180,as=90,ic=100,ng=120,Kn=160,Hu={x:window.innerWidth/2,y:window.innerHeight/2,scale:1},Th={male:"bg-blue-100 border-blue-300 text-blue-900",female:"bg-pink-100 border-pink-300 text-pink-900",other:"bg-gray-100 border-gray-300 text-gray-900"},qo={id:{searchPlaceholder:"Cari anggota keluarga...",noResults:"Tidak ditemukan",aiGenerator:"Generator AI",importJson:"Impor JSON",exportJson:"Ekspor JSON",viewMode:"Tampilan Kartu",autoLayout:"Atur Jarak",layoutSettings:"Pengaturan",siblingGap:"Jarak Saudara",cousinGap:"Jarak Sepupu/Grup",editTriggerLabel:"Buka Edit Detail:",editTriggerClick:"1x Klik",editTriggerHold:"Tahan Klik",apply:"Terapkan",toolPan:"Mode Geser (Pan)",toolSelect:"Mode Seleksi (Box)",scrollModeLabel:"Fungsi Scroll Mouse:",scrollZoom:"Zoom",scrollPan:"Geser",lockEditing:"Kunci Pengeditan",unlockEditing:"Buka Pengeditan",enterPassword:"Masukan Password untuk membuka kunci:",wrongPassword:"Password Salah!",meRoot:"Saya / Utama",parents:"Orang Tua",grandparents:"Kakek-Nenek",greatGrandparents:"Buyut",children:"Anak",grandchildren:"Cucu",greatGrandchildren:"Cicit",genAgo:"G Lalu",genAfter:"G Bawah",unlimited:"Tak Terbatas",gAgo:"G Lalu",child:"Anak",childSpouse:"Anak & Pasangan",grandchild:"Cucu",male:"Laki-laki",female:"Perempuan",other:"Lainnya",born:"Lahir",died:"Wafat",unknownDate:"Tanggal Tak Diketahui",rip:"Alm",goTo:"Ke",editDetails:"Edit Detail",changePhoto:"Ganti Foto",remove:"Hapus",fullName:"Nama Lengkap",gender:"Jenis Kelamin",birthDate:"Tanggal Lahir",birthPlace:"Tempat Lahir",deceasedInfo:"Info Kematian (Opsional)",deathDate:"Tanggal Kematian",deathPlace:"Tempat Kematian",notes:"Catatan",notesPlaceholder:"Informasi tambahan, biografi, gelar...",familyConnections:"Hubungan Keluarga",parentsList:"Orang Tua",spousesList:"Pasangan",childrenList:"Anak",addLinkParent:"Tambah / Hubungkan Orang Tua",addLinkSpouse:"Tambah / Hubungkan Pasangan",addLinkChild:"Tambah / Hubungkan Anak",createNewParent:"Buat Orang Tua Baru",createNewSpouse:"Buat Pasangan Baru",createNewChild:"Buat Anak Baru",selectExisting:"Pilih yang ada...",searchSelectPlaceholder:"Cari nama...",link:"Hubungkan",cancel:"Batal",addChild:"Tambah Anak",save:"Simpan",confirmDelete:"Konfirmasi Hapus?",deletePerson:"Hapus Orang",customRightGap:"Jarak Kanan (Manual)",customLeftGap:"Jarak Kiri (Manual)",applyLayout:"Terapkan Layout",married:"Menikah",divorced:"Cerai",setDivorced:"Ubah ke Cerai",setMarried:"Ubah ke Menikah",connectionOffset:"Geser Posisi Ikon",shortcutLink:"Link / Jalan Pintas",shortcutDesc:"Hubungkan tombol 'Ke' dengan:",aiTitle:"Generator Pohon AI",aiDesc:"Jelaskan keluarga Anda dalam bahasa alami, dan biarkan Gemini membuat pohon silsilah untuk Anda.",aiExample:'Contoh: "Saya Budi (lahir 1990). Ayah saya Joko dan ibu saya Siti. Saya punya adik bernama Sari."',aiPlaceholder:"Ketik sejarah keluarga Anda di sini...",generating:"Sedang Membuat...",generate:"Buat",aiError:"Gagal membuat pohon. Pastikan teks sudah jelas."},en:{searchPlaceholder:"Find family member...",noResults:"No results found",aiGenerator:"AI Generator",importJson:"Import JSON",exportJson:"Export JSON",viewMode:"Card View",autoLayout:"Auto Layout",layoutSettings:"Settings",siblingGap:"Sibling Gap",cousinGap:"Cousin/Group Gap",editTriggerLabel:"Open Edit Form:",editTriggerClick:"1x Click",editTriggerHold:"Hold Click",apply:"Apply",toolPan:"Pan Mode",toolSelect:"Select Mode (Box)",scrollModeLabel:"Mouse Scroll Function:",scrollZoom:"Zoom",scrollPan:"Pan",lockEditing:"Lock Editing",unlockEditing:"Unlock Editing",enterPassword:"Enter Password to unlock:",wrongPassword:"Wrong Password!",meRoot:"Me / Root",parents:"Parents",grandparents:"Grandparents",greatGrandparents:"Great G-Parents",children:"Children",grandchildren:"Grandchildren",greatGrandchildren:"Great G-Children",genAgo:"G Ago",genAfter:"G After",unlimited:"Unlimited",gAgo:"G Ago",child:"Child",childSpouse:"Child & Spouse",grandchild:"Grandchild",male:"Male",female:"Female",other:"Other",born:"b.",died:"d.",unknownDate:"Unknown Date",rip:"RIP",goTo:"To",editDetails:"Edit Details",changePhoto:"Change Photo",remove:"Remove",fullName:"Full Name",gender:"Gender",birthDate:"Birth Date",birthPlace:"Birth Place",deceasedInfo:"Deceased Info (Optional)",deathDate:"Death Date",deathPlace:"Death Place",notes:"Notes",notesPlaceholder:"Additional information, biography, titles...",familyConnections:"Family Connections",parentsList:"Parents",spousesList:"Spouses",childrenList:"Children",addLinkParent:"Add / Link Parent",addLinkSpouse:"Add / Link Spouse",addLinkChild:"Add / Link Child",createNewParent:"Create New Parent",createNewSpouse:"Create New Spouse",createNewChild:"Create New Child",selectExisting:"Select Existing...",searchSelectPlaceholder:"Search name...",link:"Link",cancel:"Cancel",addChild:"Add Child",save:"Save",confirmDelete:"Confirm Delete?",deletePerson:"Delete Person",customRightGap:"Right Gap (Manual)",customLeftGap:"Left Gap (Manual)",applyLayout:"Apply Layout",married:"Married",divorced:"Divorced",setDivorced:"Set to Divorced",setMarried:"Set to Married",connectionOffset:"Shift Icon Position",shortcutLink:"Link / Shortcut",shortcutDesc:"Connect 'Go To' button with:",aiTitle:"AI Tree Generator",aiDesc:"Describe your family in natural language, and let Gemini build the tree for you.",aiExample:'Ex: "I am John (born 1990). My dad is Mark and mom is Sarah. I have a sister named Emily."',aiPlaceholder:"Type your family history here...",generating:"Generating...",generate:"Generate",aiError:"Failed to generate tree. Please ensure the text is clear."}},hS=({person:i,linkedPersonName:t,x:l,y:a,isSelected:r,onSelect:f,onNodePointerDown:p,onNavigate:g,language:y="id",viewMode:m="normal",editTrigger:v="click"})=>{const E=Th[i.gender]||Th.other,T=qo[y],[A,N]=j.useState(!1),k=j.useRef(null),R=j.useRef({x:0,y:0}),B=l??i.x,Z=a??i.y,F=se=>se?se.split("-")[0]:"",ee=F(i.birthDate),oe=F(i.deathDate);let ce=T.unknownDate;ee?ce=oe?`${ee} - ${oe}`:`${T.born} ${ee}`:oe&&(ce=`${T.died} ${oe}`);const Q=T[i.gender]||i.gender,de=m==="mini"?ic:Lo,ue=m==="mini"?ng:as,ae=se=>{se.preventDefault(),se.stopPropagation(),se.currentTarget.setPointerCapture(se.pointerId),p(se,i.id),R.current={x:se.clientX,y:se.clientY},k.current=setTimeout(()=>{v==="hold"?(N(!0),navigator.vibrate&&navigator.vibrate(50),f(se,i.id,!0)):N(!0)},600)},Ce=se=>{k.current&&!A&&Math.hypot(se.clientX-R.current.x,se.clientY-R.current.y)>5&&(clearTimeout(k.current),k.current=null)},ve=se=>{se.currentTarget.releasePointerCapture(se.pointerId),N(!1),k.current&&(clearTimeout(k.current),k.current=null,v==="click"?f(se,i.id,!0):f(se,i.id,!1))};return C.jsxs("div",{className:`absolute shadow-md rounded-lg flex transition-colors duration-200 
        ${E} 
        ${r?"ring-2 ring-indigo-500 z-10":"z-0"}
        ${A?"scale-110 ring-4 ring-orange-400 z-50 shadow-2xl cursor-grabbing":"hover:shadow-lg cursor-grab active:cursor-grabbing"}
        ${m==="mini"?"flex-col items-center justify-center p-1 text-center":"flex-row items-center space-x-3 p-2 text-left"}
      `,style:{width:de,height:ue,transform:`translate(${B}px, ${Z}px)`,userSelect:"none",touchAction:"none",willChange:r?"transform":"auto"},onPointerDown:ae,onPointerMove:Ce,onPointerUp:ve,onPointerLeave:ve,onContextMenu:se=>se.preventDefault(),children:[i.linkedId&&g&&C.jsxs("button",{onClick:se=>{se.stopPropagation(),g(i.linkedId)},className:"absolute -top-7 left-1/2 -translate-x-1/2 bg-indigo-600 text-white text-[10px] px-2 py-1 rounded-full shadow-md hover:bg-indigo-700 flex items-center gap-1 z-50 animate-fade-in whitespace-nowrap",title:`${T.goTo} ${t||"..."}`,onPointerDown:se=>se.stopPropagation(),children:[C.jsxs("span",{className:"font-bold",children:[T.goTo,":"]}),C.jsx("span",{className:"max-w-[80px] truncate",children:t||"..."}),C.jsx(ke.Move,{className:"w-3 h-3"})]}),C.jsx("img",{src:i.photoUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(i.name)}&background=random`,alt:i.name,className:`rounded-full border-2 border-white object-cover ${i.deathDate?"grayscale":""}
            ${m==="mini"?"w-16 h-16 mb-2":"w-12 h-12"}
        `,draggable:!1}),C.jsxs("div",{className:`flex-1 min-w-0 pointer-events-none ${m==="mini"?"w-full px-1":""}`,children:[C.jsx("h3",{className:`font-bold leading-tight ${m==="mini"?"text-xs truncate":"text-sm truncate"}`,children:i.name}),C.jsx("p",{className:"text-xs opacity-75 truncate",children:ce}),m!=="mini"&&C.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[C.jsx("span",{className:"text-[10px] uppercase tracking-wider opacity-60",children:Q}),i.deathDate&&C.jsx("span",{className:"text-[10px] bg-gray-600 text-white px-1 rounded",children:T.rip})]})]})]})},mS=j.memo(hS,(i,t)=>i.person===t.person&&i.linkedPersonName===t.linkedPersonName&&i.x===t.x&&i.y===t.y&&i.isSelected===t.isSelected&&i.viewMode===t.viewMode&&i.language===t.language&&i.editTrigger===t.editTrigger),gS=({data:i,viewport:t,setViewport:l,onUpdatePersonPosition:a,onMoveSelectedNodes:r,selectedPersonIds:f,onSelectPerson:p,onMultiSelect:g,onNavigate:y,language:m,viewMode:v,toolMode:E,scrollMode:T,editTrigger:A})=>{const N=j.useRef(null),[k,R]=j.useState(!1),[B,Z]=j.useState({x:0,y:0}),[F,ee]=j.useState(null),[oe,ce]=j.useState({x:0,y:0}),Q=j.useRef(!1),[de,ue]=j.useState(null),ae=j.useRef([]),Ce=j.useRef(-1),ve=v==="mini"?ic:Lo,se=v==="mini"?ng:as,He=j.useCallback(I=>{var te;if(T==="zoom"?!I.ctrlKey:I.ctrlKey){I.preventDefault();const me=I.deltaY*-.001,xe=Math.min(Math.max(.1,t.scale+me),3),Se=(te=N.current)==null?void 0:te.getBoundingClientRect();if(Se){const Pe=I.clientX-Se.left,qe=I.clientY-Se.top,et=(Pe-t.x)/t.scale,Xe=(qe-t.y)/t.scale;l({scale:xe,x:Pe-et*xe,y:qe-Xe*xe})}else l(Pe=>({...Pe,scale:xe}))}else I.preventDefault(),l(O=>({...O,x:O.x-I.deltaX,y:O.y-I.deltaY}))},[t,l,T]);j.useEffect(()=>{const I=N.current;return I&&I.addEventListener("wheel",He,{passive:!1}),()=>{I&&I.removeEventListener("wheel",He)}},[He]);const $e=j.useCallback(I=>f.has(I.id)&&(oe.x!==0||oe.y!==0)?{x:I.x+oe.x,y:I.y+oe.y}:{x:I.x,y:I.y},[f,oe]),H=I=>{if(ae.current.push(I),ae.current.length===2){ue(null);return}I.currentTarget.setPointerCapture(I.pointerId);const X=N.current.getBoundingClientRect(),K=I.clientX-X.left,te=I.clientY-X.top;E===xi.SELECT?(ue({startX:K,startY:te,currentX:K,currentY:te}),!I.shiftKey&&!I.ctrlKey&&p(null)):(R(!0),Z({x:I.clientX,y:I.clientY}),p(null))},$=I=>{var K;const X=ae.current.findIndex(te=>te.pointerId===I.pointerId);if(X>-1&&(ae.current[X]=I),ae.current.length===2){const te=ae.current[0].clientX-ae.current[1].clientX,O=ae.current[0].clientY-ae.current[1].clientY,me=Math.sqrt(te*te+O*O);if(Ce.current>0){const xe=me-Ce.current;let Se=Math.min(Math.max(.1,t.scale+xe*.005),3);const Pe=(K=N.current)==null?void 0:K.getBoundingClientRect(),qe=(ae.current[0].clientX+ae.current[1].clientX)/2,et=(ae.current[0].clientY+ae.current[1].clientY)/2,Xe=qe-((Pe==null?void 0:Pe.left)||0),ct=et-((Pe==null?void 0:Pe.top)||0),Me=(Xe-t.x)/t.scale,yt=(ct-t.y)/t.scale;l({scale:Se,x:Xe-Me*Se,y:ct-yt*Se})}Ce.current=me,R(!1),ue(null);return}if(de&&ae.current.length<2){const te=N.current.getBoundingClientRect();ue(O=>O?{...O,currentX:I.clientX-te.left,currentY:I.clientY-te.top}:null);return}if(k&&ae.current.length<2){const te=I.clientX-B.x,O=I.clientY-B.y;l(me=>({...me,x:me.x+te,y:me.y+O})),Z({x:I.clientX,y:I.clientY})}else if(F&&ae.current.length<2){const te=(I.clientX-B.x)/t.scale,O=(I.clientY-B.y)/t.scale;(Math.abs(te)>1||Math.abs(O)>1)&&(Q.current=!0),ce({x:te,y:O})}},he=I=>{const X=ae.current.findIndex(K=>K.pointerId===I.pointerId);if(X>-1&&ae.current.splice(X,1),ae.current.length<2&&(Ce.current=-1),I.currentTarget.releasePointerCapture(I.pointerId),de){const K=Math.min(de.startX,de.currentX),te=Math.min(de.startY,de.currentY),O=Math.max(de.startX,de.currentX),me=Math.max(de.startY,de.currentY),xe=(K-t.x)/t.scale,Se=(te-t.y)/t.scale,Pe=(O-t.x)/t.scale,qe=(me-t.y)/t.scale,et=new Set(I.shiftKey?f:[]);i.people.forEach(Xe=>{Xe.x<Pe&&Xe.x+ve>xe&&Xe.y<qe&&Xe.y+se>Se&&et.add(Xe.id)}),et.size>0?g(et):I.shiftKey||p(null),ue(null)}F&&Q.current&&r(oe.x,oe.y),ae.current.length===1&&k?Z({x:ae.current[0].clientX,y:ae.current[0].clientY}):R(!1),ee(null),ce({x:0,y:0}),Q.current=!1},Ie=j.useCallback((I,X)=>{I.stopPropagation(),!(ae.current.length>1)&&(ae.current.push(I),Q.current=!1,ee(X),Z({x:I.clientX,y:I.clientY}))},[]),De=j.useCallback((I,X,K)=>{p(X,I.shiftKey,K)},[p]),b=()=>{const I=[],X=[],K=new Set;i.relationships.forEach(O=>{if(O.type==="spouse"){const me=[O.sourceId,O.targetId].sort().join("-");if(K.has(me))return;K.add(me);const xe=i.people.find(st=>st.id===O.sourceId),Se=i.people.find(st=>st.id===O.targetId);if(!xe||!Se)return;const Pe=$e(xe),qe=$e(Se),et=Pe.x+ve/2,Xe=Pe.y+se/2,ct=qe.x+ve/2,Me=qe.y+se/2,yt=(et+ct)/2,Cn=O.customOffset||0,Ht=yt+Cn;let Pt=(Xe+Me)/2;Math.sqrt(Math.pow(ct-et,2)+Math.pow(Me-Xe,2))>ve*1.5&&(Pt-=50),I.push(C.jsx("path",{d:`M ${et} ${Xe} Q ${(et+Ht)/2} ${Xe} ${Ht} ${Pt} Q ${(Ht+ct)/2} ${Me} ${ct} ${Me}`,stroke:"#94a3b8",strokeWidth:"3",fill:"none",strokeLinecap:"round"},`spouse-line-${me}`)),X.push(O.relationshipStatus==="divorced"?C.jsxs("g",{transform:`translate(${Ht}, ${Pt})`,children:[C.jsx("circle",{r:"8",fill:"#f4f1ea"}),C.jsx("line",{x1:"-3",y1:"-8",x2:"-8",y2:"8",stroke:"#ef4444",strokeWidth:"2"}),C.jsx("line",{x1:"8",y1:"-8",x2:"3",y2:"8",stroke:"#ef4444",strokeWidth:"2"})]},`spouse-divorced-${me}`):C.jsxs("g",{transform:`translate(${Ht}, ${Pt})`,children:[C.jsx("circle",{r:"12",fill:"white",stroke:"#64748b",strokeWidth:"2"}),C.jsx("path",{d:"M-4 0a3 3 0 1 1 5 0 M-1 0a3 3 0 1 0 5 0",stroke:"#64748b",strokeWidth:"1.5",fill:"none",strokeLinecap:"round"})]},`spouse-icon-${me}`))}});const te=new Map;return i.relationships.forEach(O=>{var me;O.type==="parent"&&(te.has(O.targetId)||te.set(O.targetId,[]),(me=te.get(O.targetId))==null||me.push(O.sourceId))}),te.forEach((O,me)=>{const xe=i.people.find(Me=>Me.id===me),Se=O.map(Me=>i.people.find(yt=>yt.id===Me)).filter(Me=>!!Me);if(!xe||Se.length===0)return;const Pe=$e(xe),qe=Se.map(Me=>$e(Me));let et=0,Xe=0;if(Se.length===1)et=qe[0].x+ve/2,Xe=qe[0].y+se;else if(Se.length===2){const Me=qe[0].x+ve/2,yt=qe[0].y+se/2,Cn=qe[1].x+ve/2,Ht=qe[1].y+se/2;et=(Me+Cn)/2,Xe=(yt+Ht)/2;const Pt=i.relationships.find(st=>st.type==="spouse"&&(st.sourceId===Se[0].id&&st.targetId===Se[1].id||st.sourceId===Se[1].id&&st.targetId===Se[0].id));Pt&&(et+=Pt.customOffset||0,Math.sqrt(Math.pow(Cn-Me,2)+Math.pow(Ht-yt,2))>ve*1.5&&(Xe-=50))}else et=qe.reduce((Me,yt)=>Me+yt.x,0)/Se.length+ve/2,Xe=qe.reduce((Me,yt)=>Me+yt.y,0)/Se.length+se/2;let ct=Math.max(...qe.map(Me=>Me.y))+se+30;Pe.y>Math.max(...qe.map(Me=>Me.y))+se+40&&(ct=Math.max(...qe.map(Me=>Me.y))+se+(Pe.y-(Math.max(...qe.map(Me=>Me.y))+se))/2),I.push(C.jsx("path",{d:`M ${et} ${Xe} V ${ct} H ${Pe.x+ve/2} V ${Pe.y}`,stroke:"#334155",strokeWidth:"2",fill:"none",strokeLinejoin:"round"},`child-${me}`))}),[...I,...X]};return C.jsxs("div",{ref:N,className:`w-full h-full relative overflow-hidden touch-none ${k?"cursor-grabbing":E===xi.PAN?"cursor-grab":"cursor-crosshair"}`,style:{backgroundColor:"#f4f1ea"},onPointerDown:H,onPointerMove:$,onPointerUp:he,onPointerLeave:he,onPointerCancel:he,children:[C.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:"radial-gradient(#475569 1px, transparent 1px)",backgroundSize:`${20*t.scale}px ${20*t.scale}px`,backgroundPosition:`${t.x}px ${t.y}px`}}),C.jsxs("div",{style:{transform:`translate(${t.x}px, ${t.y}px) scale(${t.scale})`,transformOrigin:"0 0",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:[C.jsx("svg",{className:"absolute top-0 left-0 w-full h-full overflow-visible pointer-events-none -z-10",children:b()}),i.people.map(I=>{var te;const X=f.has(I.id),K=X&&(oe.x!==0||oe.y!==0)?{x:I.x+oe.x,y:I.y+oe.y}:void 0;return C.jsx(mS,{person:I,linkedPersonName:I.linkedId?(te=i.people.find(O=>O.id===I.linkedId))==null?void 0:te.name:void 0,x:K==null?void 0:K.x,y:K==null?void 0:K.y,isSelected:X,onSelect:De,onNodePointerDown:Ie,onNavigate:y,language:m,viewMode:v,editTrigger:A},I.id)})]}),de&&C.jsx("div",{className:"absolute border border-blue-500 bg-blue-500/20 pointer-events-none z-50",style:{left:Math.min(de.startX,de.currentX),top:Math.min(de.startY,de.currentY),width:Math.abs(de.currentX-de.startX),height:Math.abs(de.currentY-de.startY)}})]})},Pu=({person:i,role:t,onUnlink:l,relationship:a,onUpdateRel:r,t:f})=>{const[p,g]=j.useState(!1),y=()=>{if(a&&r){const v=a.relationshipStatus==="divorced"?"married":"divorced";r(a.id,{relationshipStatus:v})}},m=v=>{a&&r&&r(a.id,{customOffset:parseInt(v.target.value)})};return C.jsxs("div",{className:"bg-white border border-gray-100 p-1.5 rounded-md mb-1 shadow-sm",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-1",children:[C.jsx("img",{src:i.photoUrl||`https://ui-avatars.com/api/?name=${i.name}`,className:"w-5 h-5 rounded-full"}),C.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:i.name})]}),C.jsxs("div",{className:"flex items-center gap-1",children:[t==="Spouse"&&a&&r&&C.jsx("button",{onClick:()=>g(!p),className:`w-5 h-5 flex items-center justify-center rounded border transition-colors ${p?"bg-gray-200 border-gray-400 text-gray-700":"bg-white border-gray-200 text-gray-400 hover:border-gray-300"}`,title:f.layoutSettings,children:C.jsx(ke.Settings,{className:"w-3 h-3"})}),t==="Spouse"&&a&&r&&C.jsx("button",{onClick:y,className:`w-5 h-5 flex items-center justify-center rounded border transition-colors ${a.relationshipStatus==="divorced"?"border-red-300 bg-red-50 text-red-500":"border-blue-300 bg-blue-50 text-blue-500"}`,title:a.relationshipStatus==="divorced"?f.setMarried:f.setDivorced,children:a.relationshipStatus==="divorced"?C.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("line",{x1:"22",y1:"2",x2:"2",y2:"22"})}):C.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("circle",{cx:"8",cy:"12",r:"6"}),C.jsx("circle",{cx:"16",cy:"12",r:"6"})]})}),C.jsx("button",{onClick:l,className:"text-gray-400 hover:text-red-500 transition-colors p-1",title:`${f.remove} ${t}`,children:C.jsx("div",{className:"w-4 h-4 flex items-center justify-center border border-gray-300 rounded hover:border-red-400",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),C.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}),C.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"4",strokeWidth:"2",stroke:"red"})]})})})]})]}),p&&a&&C.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100 animate-fade-in space-y-2",children:C.jsxs("div",{children:[C.jsxs("div",{className:"flex justify-between items-center mb-1",children:[C.jsx("span",{className:"text-[10px] text-gray-500 font-medium",children:f.connectionOffset}),C.jsxs("div",{className:"flex items-center",children:[C.jsx("input",{type:"number",value:a.customOffset||0,onChange:m,className:"w-14 text-right text-[10px] font-mono border border-gray-300 rounded px-1 py-0.5 focus:ring-1 focus:ring-blue-500 outline-none"}),C.jsx("span",{className:"text-[10px] text-gray-500 ml-1",children:"px"})]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-[9px] text-gray-400",children:"L"}),C.jsx("input",{type:"range",min:"-500",max:"500",step:"5",value:a.customOffset||0,onChange:m,className:"flex-1 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),C.jsx("span",{className:"text-[9px] text-gray-400",children:"R"})]})]})})]})},Wa=({options:i,value:t,onChange:l,placeholder:a,autoFocus:r,noResultsText:f})=>{const[p,g]=j.useState(!1),[y,m]=j.useState(""),v=j.useRef(null);j.useEffect(()=>{const T=i.find(A=>A.value===t);T?m(T.label):t||m("")},[t,i]),j.useEffect(()=>{const T=A=>{if(v.current&&!v.current.contains(A.target)){g(!1);const N=i.find(k=>k.value===t);m(N?N.label:"")}};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[t,i]);const E=i.filter(T=>T.label.toLowerCase().includes(y.toLowerCase()));return C.jsxs("div",{ref:v,className:"relative flex-1",children:[C.jsx("input",{type:"text",className:"w-full text-[10px] border border-gray-300 rounded px-2 py-1 focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:a,value:y,onChange:T=>{m(T.target.value),g(!0),t&&l("")},onFocus:()=>{g(!0),m("")},autoFocus:r}),p&&C.jsx("ul",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-40 overflow-y-auto left-0",children:E.length>0?E.map(T=>C.jsx("li",{onClick:()=>{l(T.value),g(!1)},className:"px-2 py-1.5 text-[10px] hover:bg-indigo-50 cursor-pointer text-gray-700 truncate",children:T.label},T.value)):C.jsx("li",{className:"px-2 py-1.5 text-[10px] text-gray-400 italic text-center",children:f})})]})},yS=({selectedPerson:i,allPeople:t,relationships:l,onUpdatePerson:a,onUpdateRelationship:r,onDeletePerson:f,onAddRelative:p,onLinkRelative:g,onUnlinkRelative:y,onTriggerLayout:m,onSetShortcutLink:v,isOpen:E,onClose:T,language:A})=>{const[N,k]=j.useState(null),R=qo[A],[B,Z]=j.useState(!1),[F,ee]=j.useState(""),[oe,ce]=j.useState(!1),[Q,de]=j.useState(""),[ue,ae]=j.useState(!1),[Ce,ve]=j.useState(""),[se,He]=j.useState(!1),$e=j.useRef(null),[H,$]=j.useState({x:0,y:0}),[he,Ie]=j.useState({width:Math.min(320,typeof window<"u"?window.innerWidth-30:320),height:Math.min(550,typeof window<"u"?window.innerHeight-80:550)}),[De,b]=j.useState(!1),[I,X]=j.useState(!1),K=j.useRef({x:0,y:0}),te=j.useRef({x:0,y:0}),O=j.useRef({x:0,y:0,w:0,h:0});j.useEffect(()=>{k(i),Z(!1),ee(""),ce(!1),de(""),ae(!1),ve(""),He(!1)},[i]);const me=j.useMemo(()=>{if(!N)return[];const w=t.filter(le=>le.id!==N.id),J=new Map(w.map(le=>[le.id,le])),ie=[],W=new Set;return w.forEach(le=>{if(W.has(le.id))return;const vt=l.filter(Re=>Re.type==="spouse"&&(Re.sourceId===le.id||Re.targetId===le.id)).map(Re=>Re.sourceId===le.id?Re.targetId:Re.sourceId).map(Re=>J.get(Re)).filter(Re=>!!Re);if(vt.length>0){const Re=vt[0];ie.push({label:`${le.name} & ${Re.name}`,value:`${le.id},${Re.id}`}),W.add(le.id),W.add(Re.id)}else ie.push({label:le.name,value:le.id}),W.add(le.id)}),ie.sort((le,ge)=>le.label.localeCompare(ge.label))},[t,l,N]),xe=j.useMemo(()=>N?t.filter(w=>w.id!==N.id).map(w=>({label:w.name,value:w.id})).sort((w,J)=>w.label.localeCompare(J.label)):[],[t,N]);if(!E||!N)return null;const Se=l.filter(w=>w.type==="parent"&&w.targetId===N.id).map(w=>t.find(J=>J.id===w.sourceId)).filter(w=>!!w),Pe=l.filter(w=>w.type==="spouse"&&(w.sourceId===N.id||w.targetId===N.id)).map(w=>{const J=w.sourceId===N.id?w.targetId:w.sourceId;return{person:t.find(W=>W.id===J),relationship:w}}).filter(w=>!!w.person),qe=l.filter(w=>w.type==="parent"&&w.sourceId===N.id).map(w=>t.find(J=>J.id===w.targetId)).filter(w=>!!w),et=t.filter(w=>w.id!==N.id).map(w=>({label:w.name,value:w.id})).sort((w,J)=>w.label.localeCompare(J.label)),Xe=t.filter(w=>w.id!==N.id).map(w=>({label:w.name,value:w.id})).sort((w,J)=>w.label.localeCompare(J.label)),ct=w=>{w.preventDefault(),b(!0),K.current={x:w.clientX,y:w.clientY},te.current={...H},w.currentTarget.setPointerCapture(w.pointerId)},Me=w=>{if(!De)return;const J=w.clientX-K.current.x,ie=w.clientY-K.current.y;$({x:te.current.x+J,y:te.current.y+ie})},yt=w=>{b(!1),w.currentTarget.releasePointerCapture(w.pointerId)},Cn=w=>{w.preventDefault(),w.stopPropagation(),X(!0),O.current={x:w.clientX,y:w.clientY,w:he.width,h:he.height},w.currentTarget.setPointerCapture(w.pointerId)},Ht=w=>{if(!I)return;const J=w.clientX-O.current.x,ie=w.clientY-O.current.y;Ie({width:Math.max(260,O.current.w+J),height:Math.max(300,O.current.h+ie)})},Pt=w=>{X(!1),w.currentTarget.releasePointerCapture(w.pointerId)},st=w=>{const{name:J,value:ie}=w.target;k(W=>W?{...W,[J]:ie}:null)},An=(w,J)=>{const ie=parseInt(w.target.value)||0;if(N){const W={...N,[J==="left"?"customLeftGap":"customRightGap"]:ie};k(W),a(W),m()}},Oo=w=>{var ie;const J=(ie=w.target.files)==null?void 0:ie[0];if(J){const W=new FileReader;W.onloadend=()=>{k(le=>le?{...le,photoUrl:W.result}:null)},W.readAsDataURL(J)}},Wn=()=>{k(w=>w?{...w,photoUrl:void 0}:null),$e.current&&($e.current.value="")},bt=()=>{N&&a(N)},Yo=()=>{N&&(a(N),setTimeout(()=>m(),50))},Ji=()=>N.photoUrl?N.photoUrl:`https://ui-avatars.com/api/?name=${encodeURIComponent(N.name)}&background=random`,Xi=()=>{F&&N&&(g(N.id,F,"spouse"),Z(!1),ee(""))},bn=()=>{Q&&N&&(Q.split(",").forEach(J=>{Se.some(W=>W.id===J)||g(N.id,J,"parent")}),ce(!1),de(""))},Y=()=>{Ce&&N&&(g(N.id,Ce,"child"),ae(!1),ve(""))},ne=w=>{v&&N&&(v(N.id,w),k(J=>J?{...J,linkedId:w||void 0}:null))};return C.jsxs("div",{className:"absolute top-16 md:top-4 right-2 md:right-4 bg-white rounded-xl shadow-2xl border border-gray-200 flex flex-col z-50 animate-fade-in-right transition-shadow",style:{transform:`translate(${H.x}px, ${H.y}px)`,width:he.width,height:he.height,touchAction:"none"},children:[C.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-100 cursor-move bg-gray-50 rounded-t-xl active:bg-gray-100 flex-shrink-0",onPointerDown:ct,onPointerMove:Me,onPointerUp:yt,children:[C.jsxs("h2",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[C.jsx(ke.Move,{className:"w-3.5 h-3.5 text-gray-400"}),C.jsx(ke.User,{className:"w-3.5 h-3.5 text-indigo-600"}),R.editDetails]}),C.jsx("button",{onClick:T,className:"text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-200",onPointerDown:w=>w.stopPropagation(),children:C.jsx(ke.X,{className:"w-4 h-4"})})]}),C.jsx("div",{className:"p-2 border-b border-gray-100 bg-white flex-shrink-0",children:C.jsx("div",{className:"flex gap-2",children:se?C.jsxs("div",{className:"flex gap-2 w-full animate-fade-in",children:[C.jsx("button",{type:"button",onClick:()=>{f(N.id),He(!1)},className:"flex-1 bg-red-600 text-white py-1.5 rounded-lg hover:bg-red-700 transition font-bold text-xs shadow-sm",children:R.confirmDelete}),C.jsx("button",{type:"button",onClick:()=>He(!1),className:"px-3 py-1.5 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg transition text-xs font-medium",children:R.cancel})]}):C.jsxs(C.Fragment,{children:[C.jsxs("button",{type:"button",onClick:bt,className:"flex-1 bg-indigo-600 text-white py-1.5 rounded-lg hover:bg-indigo-700 transition font-bold text-xs flex items-center justify-center gap-2 shadow-sm",children:[C.jsx(ke.Save,{className:"w-3.5 h-3.5"})," ",R.save]}),C.jsx("button",{type:"button",onClick:()=>He(!0),className:"px-3 py-1.5 text-red-600 bg-red-50 hover:bg-red-100 border border-red-100 rounded-lg transition flex items-center justify-center shadow-sm",title:R.deletePerson,children:C.jsx(ke.Trash2,{className:"w-4 h-4"})})]})})}),C.jsxs("div",{className:"p-2 space-y-3 overflow-y-auto no-scrollbar flex-1",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"relative group w-14 h-14 flex-shrink-0",children:[C.jsx("img",{src:Ji(),alt:"Profile",className:`w-full h-full rounded-full object-cover border-2 border-white shadow-md bg-gray-100 ${N.deathDate?"grayscale":""}`}),C.jsx("button",{onClick:()=>{var w;return(w=$e.current)==null?void 0:w.click()},className:"absolute inset-0 flex items-center justify-center bg-black/40 text-white opacity-0 group-hover:opacity-100 rounded-full transition-opacity duration-200 cursor-pointer",children:C.jsx(ke.Camera,{className:"w-5 h-5"})}),C.jsx("input",{type:"file",ref:$e,onChange:Oo,accept:"image/*",className:"hidden"})]}),C.jsx("div",{className:"flex flex-col items-start w-full min-w-0",children:C.jsxs("div",{className:"space-y-1 w-full",children:[C.jsx("input",{type:"text",name:"name",value:N.name,onChange:st,className:"w-full px-2 py-1 border rounded text-xs font-bold focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:R.fullName}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>{var w;return(w=$e.current)==null?void 0:w.click()},className:"text-[9px] bg-blue-50 text-blue-600 px-2 py-0.5 rounded border border-blue-100 hover:bg-blue-100",children:R.changePhoto}),N.photoUrl&&C.jsx("button",{onClick:Wn,className:"text-[9px] bg-red-50 text-red-500 px-2 py-0.5 rounded border border-red-100 hover:bg-red-100",children:R.remove})]})]})})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500",children:R.gender}),C.jsxs("select",{name:"gender",value:N.gender,onChange:st,className:"w-full px-2 py-1 border rounded-md text-xs",children:[C.jsx("option",{value:"male",children:R.male}),C.jsx("option",{value:"female",children:R.female}),C.jsx("option",{value:"other",children:R.other})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase",children:R.birthDate}),C.jsx("input",{type:"date",name:"birthDate",value:N.birthDate,onChange:st,className:"w-full px-1.5 py-1 border rounded-md text-xs"})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase",children:R.birthPlace}),C.jsx("input",{type:"text",name:"birthPlace",placeholder:A==="id"?"Kota":"City",value:N.birthPlace||"",onChange:st,className:"w-full px-1.5 py-1 border rounded-md text-xs"})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-1.5 bg-gray-50 p-1.5 rounded-md border border-gray-100",children:[C.jsx("div",{className:"col-span-2 text-[10px] font-bold text-gray-400 uppercase tracking-wide",children:R.deceasedInfo}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500",children:R.deathDate}),C.jsx("input",{type:"date",name:"deathDate",value:N.deathDate||"",onChange:st,className:"w-full px-1.5 py-1 border rounded-md text-xs bg-white"})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500",children:R.deathPlace}),C.jsx("input",{type:"text",name:"deathPlace",placeholder:A==="id"?"Kota":"City",value:N.deathPlace||"",onChange:st,className:"w-full px-1.5 py-1 border rounded-md text-xs bg-white"})]})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500",children:R.notes}),C.jsx("textarea",{name:"notes",value:N.notes||"",onChange:st,rows:2,placeholder:"...",className:"w-full px-2 py-1 border rounded-md text-xs resize-none focus:ring-1 focus:ring-blue-500"})]}),C.jsxs("div",{className:"pt-2 border-t border-gray-100 space-y-2",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500",children:R.customLeftGap}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"range",min:"0",max:"500",step:"10",value:N.customLeftGap||0,onChange:w=>An(w,"left"),className:"flex-1 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),C.jsxs("div",{className:"flex items-center",children:[C.jsx("input",{type:"number",min:"0",value:N.customLeftGap||0,onChange:w=>An(w,"left"),className:"w-10 text-right text-[10px] font-mono border border-gray-300 rounded px-1 py-0.5 focus:ring-1 focus:ring-blue-500 outline-none"}),C.jsx("span",{className:"text-[9px] text-gray-500 ml-1",children:"px"})]})]})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-medium text-gray-500",children:R.customRightGap}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"range",min:"0",max:"500",step:"10",value:N.customRightGap||0,onChange:w=>An(w,"right"),className:"flex-1 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),C.jsxs("div",{className:"flex items-center",children:[C.jsx("input",{type:"number",min:"0",value:N.customRightGap||0,onChange:w=>An(w,"right"),className:"w-10 text-right text-[10px] font-mono border border-gray-300 rounded px-1 py-0.5 focus:ring-1 focus:ring-blue-500 outline-none"}),C.jsx("span",{className:"text-[9px] text-gray-500 ml-1",children:"px"})]})]})]}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("p",{className:"text-[8px] text-gray-400 italic",children:A==="id"?"*Atur jarak ke Kartu/Istri berikutnya (Kanan) atau sebelumnya (Kiri).":"*Adjust gap to next Card/Spouse (Right) or previous (Left)."}),C.jsx("button",{onClick:Yo,className:"text-[9px] bg-gray-100 hover:bg-gray-200 text-gray-600 px-2 py-0.5 rounded border border-gray-300 transition-colors",children:R.applyLayout})]})]}),v&&C.jsxs("div",{className:"pt-2 border-t border-gray-100 space-y-1",children:[C.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:R.shortcutLink}),C.jsxs("div",{className:"bg-gray-50 p-2 rounded-lg border border-gray-100",children:[C.jsx("p",{className:"text-[9px] text-gray-500 mb-1",children:R.shortcutDesc}),C.jsx(Wa,{options:xe,value:N.linkedId||"",onChange:ne,placeholder:R.selectExisting,noResultsText:R.noResults})]})]}),C.jsxs("div",{className:"pt-2 border-t border-gray-100 space-y-2",children:[C.jsx("h3",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider",children:R.familyConnections}),C.jsxs("div",{className:"bg-gray-50 p-1.5 rounded-lg border border-gray-100",children:[C.jsxs("div",{className:"text-[9px] font-medium text-gray-500 mb-1 flex justify-between px-1",children:[C.jsx("span",{children:R.parentsList}),C.jsx("span",{className:"bg-gray-200 px-1 rounded text-gray-600",children:Se.length})]}),Se.map(w=>C.jsx(Pu,{person:w,role:"Parent",onUnlink:()=>y(N.id,w.id),t:R},w.id)),oe?C.jsx("div",{className:"bg-white p-1.5 rounded border border-blue-100 shadow-sm animate-fade-in relative z-10",children:C.jsxs("div",{className:"space-y-1.5",children:[C.jsxs("button",{onClick:()=>{p(N.id,"parent"),ce(!1)},className:"w-full text-left px-2 py-1 text-[9px] bg-blue-50 text-blue-700 rounded hover:bg-blue-100 font-medium",children:["+ ",R.createNewParent]}),C.jsxs("div",{className:"flex gap-1 items-start",children:[C.jsx(Wa,{options:me,value:Q,onChange:de,placeholder:R.searchSelectPlaceholder,noResultsText:R.noResults,autoFocus:!0}),C.jsx("button",{onClick:bn,disabled:!Q,className:"px-2 py-1 bg-blue-600 text-white text-[9px] rounded disabled:opacity-50 h-full",children:"OK"})]}),C.jsx("button",{onClick:()=>ce(!1),className:"w-full text-center text-[9px] text-gray-400 hover:text-gray-600",children:R.cancel})]})}):C.jsxs("button",{onClick:()=>ce(!0),className:"w-full flex items-center justify-center gap-1 py-1 border border-dashed border-blue-300 rounded text-[9px] text-blue-600 hover:bg-blue-50",children:[C.jsx(ke.Plus,{className:"w-3 h-3"})," ",R.addLinkParent]})]}),C.jsxs("div",{className:"bg-gray-50 p-1.5 rounded-lg border border-gray-100",children:[C.jsxs("div",{className:"text-[9px] font-medium text-gray-500 mb-1 flex justify-between px-1",children:[C.jsx("span",{children:R.spousesList}),C.jsx("span",{className:"bg-gray-200 px-1 rounded text-gray-600",children:Pe.length})]}),Pe.map(({person:w,relationship:J})=>C.jsx(Pu,{person:w,role:"Spouse",onUnlink:()=>y(N.id,w.id),relationship:J,onUpdateRel:r,t:R},w.id)),B?C.jsx("div",{className:"bg-white p-1.5 rounded border border-pink-100 shadow-sm animate-fade-in relative z-10",children:C.jsxs("div",{className:"space-y-1.5",children:[C.jsxs("button",{onClick:()=>{p(N.id,"spouse"),Z(!1)},className:"w-full text-left px-2 py-1 text-[9px] bg-pink-50 text-pink-700 rounded hover:bg-pink-100 font-medium",children:["+ ",R.createNewSpouse]}),C.jsxs("div",{className:"flex gap-1 items-start",children:[C.jsx(Wa,{options:et,value:F,onChange:ee,placeholder:R.searchSelectPlaceholder,noResultsText:R.noResults,autoFocus:!0}),C.jsx("button",{onClick:Xi,disabled:!F,className:"px-2 py-1 bg-pink-600 text-white text-[9px] rounded disabled:opacity-50 h-full",children:"OK"})]}),C.jsx("button",{onClick:()=>Z(!1),className:"w-full text-center text-[9px] text-gray-400 hover:text-gray-600",children:R.cancel})]})}):C.jsxs("button",{onClick:()=>Z(!0),className:"w-full flex items-center justify-center gap-1 py-1 border border-dashed border-pink-300 rounded text-[9px] text-pink-600 hover:bg-pink-50",children:[C.jsx(ke.Plus,{className:"w-3 h-3"})," ",R.addLinkSpouse]})]}),C.jsxs("div",{className:"bg-gray-50 p-1.5 rounded-lg border border-gray-100",children:[C.jsxs("div",{className:"text-[9px] font-medium text-gray-500 mb-1 flex justify-between px-1",children:[C.jsx("span",{children:R.childrenList}),C.jsx("span",{className:"bg-gray-200 px-1 rounded text-gray-600",children:qe.length})]}),qe.map(w=>C.jsx(Pu,{person:w,role:"Child",onUnlink:()=>y(N.id,w.id),t:R},w.id)),ue?C.jsx("div",{className:"bg-white p-1.5 rounded border border-green-100 shadow-sm animate-fade-in relative z-10",children:C.jsxs("div",{className:"space-y-1.5",children:[C.jsxs("button",{onClick:()=>{p(N.id,"child"),ae(!1)},className:"w-full text-left px-2 py-1 text-[9px] bg-green-50 text-green-700 rounded hover:bg-green-100 font-medium",children:["+ ",R.createNewChild]}),C.jsxs("div",{className:"flex gap-1 items-start",children:[C.jsx(Wa,{options:Xe,value:Ce,onChange:ve,placeholder:R.searchSelectPlaceholder,noResultsText:R.noResults,autoFocus:!0}),C.jsx("button",{onClick:Y,disabled:!Ce,className:"px-2 py-1 bg-green-600 text-white text-[9px] rounded disabled:opacity-50 h-full",children:"OK"})]}),C.jsx("button",{onClick:()=>ae(!1),className:"w-full text-center text-[9px] text-gray-400 hover:text-gray-600",children:R.cancel})]})}):C.jsxs("button",{onClick:()=>ae(!0),className:"w-full flex items-center justify-center gap-1 py-1 border border-dashed border-green-300 rounded text-[9px] text-green-600 hover:bg-green-50",children:[C.jsx(ke.Plus,{className:"w-3 h-3"})," ",R.addLinkChild]})]})]})]}),C.jsx("div",{onPointerDown:Cn,onPointerMove:Ht,onPointerUp:Pt,className:"absolute bottom-0 right-0 w-8 h-8 cursor-nwse-resize z-50 flex items-end justify-end p-1.5 hover:bg-gray-100 rounded-br-xl",children:C.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 10 10",fill:"none",children:[C.jsx("path",{d:"M10 10L10 0",stroke:"#94a3b8",strokeWidth:"2",strokeLinecap:"round"}),C.jsx("path",{d:"M6 10L10 6",stroke:"#94a3b8",strokeWidth:"2",strokeLinecap:"round"}),C.jsx("path",{d:"M2 10L10 2",stroke:"#94a3b8",strokeWidth:"2",strokeLinecap:"round"})]})})]})};var vS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let SS,TS;function ES(){return{geminiUrl:SS,vertexUrl:TS}}function _S(i,t,l,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=ES();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zn{}function re(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let m=0;m<y.length;m++){const v=y[m];c(v,t.slice(f+1),l[m])}else for(const m of y)c(m,t.slice(f+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function CS(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const m=f[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}Bu(i,r,f,0,p)}}function Bu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Bu(y,t,l,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=p[m];for(const[m,v]of Object.entries(y)){const E=[];for(const T of l.slice(a))T==="*"?E.push(m):E.push(T);c(p,E,v)}for(const m of g)delete p[m]}}else{const p=i;f in p&&Bu(p[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AS(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function xS(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],RS(p)),t}function NS(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],MS(p)),t}function RS(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>bS(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function MS(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>wS(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function bS(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],kS(l)),t}function wS(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],HS(l)),t}function IS(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function DS(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function US(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],LS(p)),t}function LS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function ig(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],GS(p)),t}function GS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function kS(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],oc(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function HS(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],oc(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Eh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Eh||(Eh={}));var _h;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(_h||(_h={}));var Ch;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Ch||(Ch={}));var ut;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(ut||(ut={}));var Ah;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Ah||(Ah={}));var xh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xh||(xh={}));var Nh;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Nh||(Nh={}));var Rh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Rh||(Rh={}));var Mh;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Mh||(Mh={}));var bh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(bh||(bh={}));var wh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(wh||(wh={}));var Ih;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Ih||(Ih={}));var Dh;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Dh||(Dh={}));var Uh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Uh||(Uh={}));var Lh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Lh||(Lh={}));var Gh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Gh||(Gh={}));var kh;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(kh||(kh={}));var Hh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Hh||(Hh={}));var Ph;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ph||(Ph={}));var ss;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ss||(ss={}));var qh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qh||(qh={}));var Vh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vh||(Vh={}));var zh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zh||(zh={}));var Ou;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ou||(Ou={}));var Bh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Bh||(Bh={}));var Oh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Oh||(Oh={}));var Yh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Yh||(Yh={}));var Fh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Fh||(Fh={}));var Jh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Jh||(Jh={}));var Xh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Xh||(Xh={}));var Kh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Kh||(Kh={}));var Qh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Qh||(Qh={}));var Zh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Zh||(Zh={}));var $h;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})($h||($h={}));var Wh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Wh||(Wh={}));var jh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jh||(jh={}));var em;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(em||(em={}));var tm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(tm||(tm={}));var nm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(nm||(nm={}));var im;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(im||(im={}));var om;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(om||(om={}));var lm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(lm||(lm={}));var am;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(am||(am={}));var sm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(sm||(sm={}));var rm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(rm||(rm={}));var um;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(um||(um={}));var cm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(cm||(cm={}));var fm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(fm||(fm={}));var dm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(dm||(dm={}));var pm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(pm||(pm={}));var hm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hm||(hm={}));var mm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(mm||(mm={}));var gm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gm||(gm={}));var ym;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ym||(ym={}));var vm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(vm||(vm={}));var Go;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Go||(Go={}));class Yu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Hl{get text(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const E=[];for(const T of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,N]of Object.entries(T))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(N!==null||N!==void 0)&&E.push(A);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,m+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[T,A]of Object.entries(E))T!=="inlineData"&&(A!==null||A!==void 0)&&v.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(m+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,l,a,r,f,p,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,a,r,f,p,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Sm{}class Tm{}class PS{}class qS{}class VS{}class zS{}class Em{}class _m{}class Cm{}class BS{}class rs{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new rs;let r;const f=t;return l?r=NS(f):r=xS(f),Object.assign(a,r),a}}class Am{}class xm{}class Nm{}class Rm{}class OS{}class YS{}class FS{}class lc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new lc,f=US(t);return Object.assign(a,f),a}}class JS{}class XS{}class KS{}class Mm{}class QS{get text(){var t,l,a;let r="",f=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ZS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ac{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new ac,f=ig(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Be(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function og(i,t){const l=Be(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function lg(i){return Array.isArray(i)?i.map(t=>us(t)):[us(i)]}function us(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function ag(i){const t=us(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function sg(i){const t=us(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function bm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function rg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>bm(t)):[bm(i)]}function Fu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function wm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Im(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function kt(i){if(i==null)throw new Error("ContentUnion is required");return Fu(i)?i:{role:"user",parts:rg(i)}}function sc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=kt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=kt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>kt(l)):[kt(t)]}function mn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(wm(i)||Im(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[kt(i)]}const t=[],l=[],a=Fu(i[0]);for(const r of i){const f=Fu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(wm(r)||Im(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:rg(l)}),t}function $S(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(ut).includes(l[0].toUpperCase())?l[0].toUpperCase():ut.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(ut).includes(a.toUpperCase())?a.toUpperCase():ut.TYPE_UNSPECIFIED})}}function Ho(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&$S(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ut).includes(g.toUpperCase())?g.toUpperCase():ut.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=Ho(g);else if(a.includes(p)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(Ho(m))}t[p]=y}else if(r.includes(p)){const y={};for(const[m,v]of Object.entries(g))y[m]=Ho(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function rc(i){return Ho(i)}function uc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function cc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Vo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ho(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ho(t.response));return i}function zo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function WS(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function $n(i,t){if(typeof t!="string")throw new Error("name must be a string");return WS(i,t,"cachedContents")}function ug(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Ni(i){return oc(i)}function jS(i){return i!=null&&typeof i=="object"&&"name"in i}function eT(i){return i!=null&&typeof i=="object"&&"video"in i}function tT(i){return i!=null&&typeof i=="object"&&"uri"in i}function cg(i){var t;let l;if(jS(i)&&(l=i.name),!(tT(i)&&(l=i.uri,l===void 0))&&!(eT(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function fg(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function dg(i){for(const t of["models","tunedModels","publisherModels"])if(nT(i,t))return i[t];return[]}function nT(i,t){return i!==null&&typeof i=="object"&&t in i}function iT(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function oT(i,t={}){const l=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=iT(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function pg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function lT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function hg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Bo(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function mg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aT(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>VT(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function sT(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function rT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function os(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],mg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const m=u(i,["metadata","output"]);return m!=null&&c(t,["dest"],aT(hg(m))),t}function Ju(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],mg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(t,["updateTime"],m);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const E=u(i,["inputConfig"]);E!=null&&c(t,["src"],uT(E));const T=u(i,["outputConfig"]);T!=null&&c(t,["dest"],sT(hg(T)));const A=u(i,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function uT(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function cT(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>qT(i,p))),c(l,["requests","requests"],f)}return l}function fT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function dT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function pT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Bo(i,a)),l}function hT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Bo(i,a)),l}function mT(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],gT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(A=>A)),c(t,["safetyRatings"],T)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function gT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function gg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>XT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function yT(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function vT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],rT(lT(r))),l}function Dm(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],cT(i,pg(i,r)));const f=u(t,["config"]);return f!=null&&yT(f,l),l}function ST(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Be(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],fT(pg(i,r)));const f=u(t,["config"]);return f!=null&&vT(f,l),l}function TT(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function ET(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],MT(i,r));const f=u(t,["config"]);return f!=null&&TT(f,l),l}function _T(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Bo(i,a)),l}function CT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Bo(i,a)),l}function AT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function xT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function NT(i,t){const l={},a=u(t,["contents"]);if(a!=null){let f=sc(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],RT(r,l)),CS(l,{"requests[].*":"requests[].request.*"})),l}function RT(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function MT(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],NT(i,r)),l}function bT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function wT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function IT(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function DT(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],gg(kt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const T=u(t,["logprobs"]);T!=null&&c(a,["logprobs"],T);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const N=u(t,["frequencyPenalty"]);N!=null&&c(a,["frequencyPenalty"],N);const k=u(t,["seed"]);k!=null&&c(a,["seed"],k);const R=u(t,["responseMimeType"]);R!=null&&c(a,["responseMimeType"],R);const B=u(t,["responseSchema"]);B!=null&&c(a,["responseSchema"],rc(B));const Z=u(t,["responseJsonSchema"]);if(Z!=null&&c(a,["responseJsonSchema"],Z),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(l!==void 0&&F!=null){let se=F;Array.isArray(se)&&(se=se.map(He=>KT(He))),c(l,["safetySettings"],se)}const ee=u(t,["tools"]);if(l!==void 0&&ee!=null){let se=zo(ee);Array.isArray(se)&&(se=se.map(He=>ZT(Vo(He)))),c(l,["tools"],se)}const oe=u(t,["toolConfig"]);if(l!==void 0&&oe!=null&&c(l,["toolConfig"],QT(oe)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=u(t,["cachedContent"]);l!==void 0&&ce!=null&&c(l,["cachedContent"],$n(i,ce));const Q=u(t,["responseModalities"]);Q!=null&&c(a,["responseModalities"],Q);const de=u(t,["mediaResolution"]);de!=null&&c(a,["mediaResolution"],de);const ue=u(t,["speechConfig"]);if(ue!=null&&c(a,["speechConfig"],uc(ue)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=u(t,["thinkingConfig"]);ae!=null&&c(a,["thinkingConfig"],ae);const Ce=u(t,["imageConfig"]);Ce!=null&&c(a,["imageConfig"],PT(Ce));const ve=u(t,["enableEnhancedCivicAnswers"]);return ve!=null&&c(a,["enableEnhancedCivicAnswers"],ve),a}function UT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>mT(m))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function LT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Bo(i,a)),l}function GT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Bo(i,a)),l}function kT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function HT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function PT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function qT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Be(i,a));const r=u(t,["contents"]);if(r!=null){let g=mn(r);Array.isArray(g)&&(g=g.map(y=>gg(y))),c(l,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(l,["request","generationConfig"],DT(i,p,u(l,["request"],{}))),l}function VT(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],UT(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function zT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function BT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function OT(i){const t={},l=u(i,["config"]);return l!=null&&zT(l,t),t}function YT(i){const t={},l=u(i,["config"]);return l!=null&&BT(l,t),t}function FT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>os(p))),c(t,["batchJobs"],f)}return t}function JT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Ju(p))),c(t,["batchJobs"],f)}return t}function XT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],bT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],wT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],dT(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const T=u(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function KT(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function QT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],IT(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function ZT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],kT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],HT(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Qn||(Qn={}));class Fi{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $T extends Zn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Fi(Qn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Dm(this.apiClient,t),a=l._url,r=re("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=T,E.request=A}m.push(E)}return g.requests=m,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=ST(this.apiClient,t);return g=re("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ju(v))}else{const m=Dm(this.apiClient,t);return g=re("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>os(v))}}async createEmbeddingsInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ET(this.apiClient,t);return f=re("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>os(y))}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=GT(this.apiClient,t);return g=re("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ju(v))}else{const m=LT(this.apiClient,t);return g=re("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>os(v))}}async cancel(t){var l,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=hT(this.apiClient,t);p=re("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=pT(this.apiClient,t);p=re("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=YT(t);return g=re("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=JT(v),T=new Mm;return Object.assign(T,E),T})}else{const m=OT(t);return g=re("batches",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=FT(v),T=new Mm;return Object.assign(T,E),T})}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=CT(this.apiClient,t);return g=re("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>xT(v))}else{const m=_T(this.apiClient,t);return g=re("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>AT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Um(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>EE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function jT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=mn(p);Array.isArray(v)&&(v=v.map(E=>Um(E))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Um(kt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>CE(E))),c(t,["tools"],v)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&c(t,["toolConfig"],_E(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function eE(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let E=mn(p);Array.isArray(E)&&(E=E.map(T=>T)),c(t,["contents"],E)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],kt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>AE(T))),c(t,["tools"],E)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&c(t,["toolConfig"],m);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function tE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],og(i,a));const r=u(t,["config"]);return r!=null&&jT(r,l),l}function nE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],og(i,a));const r=u(t,["config"]);return r!=null&&eE(r,l),l}function iE(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],$n(i,a)),l}function oE(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],$n(i,a)),l}function lE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function aE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function sE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function rE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uE(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function cE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function fE(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],$n(i,a)),l}function dE(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],$n(i,a)),l}function pE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function hE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function mE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function gE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function yE(i){const t={},l=u(i,["config"]);return l!=null&&mE(l,t),t}function vE(i){const t={},l=u(i,["config"]);return l!=null&&gE(l,t),t}function SE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function TE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function EE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],sE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],rE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],WT(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const T=u(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function _E(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],uE(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function CE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],pE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],hE(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function AE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(T=>cE(T))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function xE(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function NE(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function RE(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],$n(i,a));const r=u(t,["config"]);return r!=null&&xE(r,l),l}function ME(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],$n(i,a));const r=u(t,["config"]);return r!=null&&NE(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bE extends Zn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Fi(Qn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=nE(this.apiClient,t);return g=re("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=tE(this.apiClient,t);return g=re("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=dE(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=fE(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=oE(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=aE(v),T=new Nm;return Object.assign(T,E),T})}else{const m=iE(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=lE(v),T=new Nm;return Object.assign(T,E),T})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=ME(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=RE(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=vE(t);return g=re("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=TE(v),T=new Rm;return Object.assign(T,E),T})}else{const m=yE(t);return g=re("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=SE(v),T=new Rm;return Object.assign(T,E),T})}}}function cs(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Lm(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ee(i){return this instanceof Ee?(this.v=i,this):new Ee(i)}function Tn(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(N){return Promise.resolve(N).then(A,E)}}function g(A,N){a[A]&&(r[A]=function(k){return new Promise(function(R,B){f.push([A,k,R,B])>1||y(A,k)})},N&&(r[A]=N(r[A])))}function y(A,N){try{m(a[A](N))}catch(k){T(f[0][3],k)}}function m(A){A.value instanceof Ee?Promise.resolve(A.value.v).then(v,E):T(f[0][2],A)}function v(A){y("next",A)}function E(A){y("throw",A)}function T(A,N){A(N),f.shift(),f.length&&y(f[0][0],f[0][1])}}function En(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Lm=="function"?Lm(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(m){f({value:m,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wE(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:yg(l)}function yg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function IE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Gm(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),f&&!yg(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class DE{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new UE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class UE{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),IE(f)}async sendMessage(t){var l;await this.sendPromise;const a=kt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,m=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];v!=null&&(T=(g=v.slice(E))!==null&&g!==void 0?g:[]);const A=m?[m]:[];this.recordHistory(a,A,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=kt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?Gm(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Tn(this,arguments,function*(){var r,f,p,g,y,m;const v=[];try{for(var E=!0,T=En(t),A;A=yield Ee(T.next()),r=A.done,!r;E=!0){g=A.value,E=!1;const N=g;if(wE(N)){const k=(m=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;k!==void 0&&v.push(k)}yield yield Ee(N)}}catch(N){f={error:N}}finally{try{!E&&!r&&(p=T.return)&&(yield Ee(p.call(T)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Gm(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ps extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ps.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LE(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function GE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function kE(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],cg(l)),t}function HE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function PE(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],cg(l)),t}function qE(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function VE(i){const t={},l=u(i,["config"]);return l!=null&&qE(l,t),t}function zE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BE extends Zn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Fi(Qn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VE(t);return f=re("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=zE(y),v=new JS;return Object.assign(v,m),v})}}async createInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LE(t);return f=re("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=GE(y),v=new XS;return Object.assign(v,m),v})}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PE(t);return f=re("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=kE(t);return f=re("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=HE(y),v=new KS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ls(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function OE(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>l_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function YE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function FE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function XE(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const T=u(i,["responseLogprobs"]);T!=null&&c(t,["responseLogprobs"],T);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const N=u(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const k=u(i,["responseSchema"]);k!=null&&c(t,["responseSchema"],k);const R=u(i,["routingConfig"]);R!=null&&c(t,["routingConfig"],R);const B=u(i,["seed"]);B!=null&&c(t,["seed"],B);const Z=u(i,["speechConfig"]);Z!=null&&c(t,["speechConfig"],vg(Z));const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const ee=u(i,["temperature"]);ee!=null&&c(t,["temperature"],ee);const oe=u(i,["thinkingConfig"]);oe!=null&&c(t,["thinkingConfig"],oe);const ce=u(i,["topK"]);ce!=null&&c(t,["topK"],ce);const Q=u(i,["topP"]);if(Q!=null&&c(t,["topP"],Q),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function KE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function QE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function ZE(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],cc(E));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","thinkingConfig"],T);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],OE(kt(N)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let ce=zo(k);Array.isArray(ce)&&(ce=ce.map(Q=>s_(Vo(Q)))),c(t,["setup","tools"],ce)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],a_(R));const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const Z=u(i,["outputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","outputAudioTranscription"],Z);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const ee=u(i,["contextWindowCompression"]);t!==void 0&&ee!=null&&c(t,["setup","contextWindowCompression"],ee);const oe=u(i,["proactivity"]);if(t!==void 0&&oe!=null&&c(t,["setup","proactivity"],oe),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function $E(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],XE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],vg(cc(E)));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","thinkingConfig"],T);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],kt(N));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let Q=zo(k);Array.isArray(Q)&&(Q=Q.map(de=>r_(Vo(de)))),c(t,["setup","tools"],Q)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],R);const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const Z=u(i,["outputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","outputAudioTranscription"],Z);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const ee=u(i,["contextWindowCompression"]);t!==void 0&&ee!=null&&c(t,["setup","contextWindowCompression"],ee);const oe=u(i,["proactivity"]);t!==void 0&&oe!=null&&c(t,["setup","proactivity"],oe);const ce=u(i,["explicitVadSignal"]);return t!==void 0&&ce!=null&&c(t,["setup","explicitVadSignal"],ce),l}function WE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Be(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],ZE(r,l)),l}function jE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Be(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],$E(r,l)),l}function e_(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function t_(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function n_(i){const t={},l=u(i,["media"]);if(l!=null){let m=lg(l);Array.isArray(m)&&(m=m.map(v=>ls(v))),c(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],ls(sg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],ls(ag(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function i_(i){const t={},l=u(i,["media"]);if(l!=null){let m=lg(l);Array.isArray(m)&&(m=m.map(v=>v)),c(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],sg(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],ag(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function o_(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],u_(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const m=u(i,["voiceActivityDetectionSignal"]);return m!=null&&c(t,["voiceActivityDetectionSignal"],m),t}function l_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],YE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],FE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],ls(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const T=u(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function a_(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function vg(i){const t={},l=u(i,["voiceConfig"]);l!=null&&c(t,["voiceConfig"],l);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function s_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],KE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],QE(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function r_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(T=>JE(T))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function u_(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(N=>N)),c(t,["promptTokensDetails"],A)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(N=>N)),c(t,["cacheTokensDetails"],A)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(N=>N)),c(t,["responseTokensDetails"],A)}const E=u(i,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(N=>N)),c(t,["toolUsePromptTokensDetails"],A)}const T=u(i,["trafficType"]);return T!=null&&c(t,["trafficType"],T),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c_(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function f_(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],d_(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(i,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(A=>A)),c(t,["safetyRatings"],T)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function d_(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function p_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["contents"]);if(r!=null){let f=mn(r);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["contents"],f)}return l}function h_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function m_(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],g_(a)),t}function g_(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function hs(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>xC(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function y_(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function v_(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function S_(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],kt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Cg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],cC(f)),l}function T_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["contents"]);if(r!=null){let p=mn(r);Array.isArray(p)&&(p=p.map(g=>hs(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&v_(f),l}function E_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["contents"]);if(r!=null){let p=mn(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&S_(f,l),l}function __(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function C_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function A_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Be(i,a)),l}function x_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Be(i,a)),l}function N_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function R_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function M_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const T=u(i,["includeRaiReason"]);t!==void 0&&T!=null&&c(t,["parameters","includeRaiReason"],T);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&c(t,["parameters","outputOptions","compressionQuality"],k);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&c(t,["parameters","addWatermark"],R);const B=u(i,["labels"]);t!==void 0&&B!=null&&c(t,["labels"],B);const Z=u(i,["editMode"]);t!==void 0&&Z!=null&&c(t,["parameters","editMode"],Z);const F=u(i,["baseSteps"]);return t!==void 0&&F!=null&&c(t,["parameters","editConfig","baseSteps"],F),l}function b_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>IC(y))),c(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&M_(p,l),l}function w_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>ms(f))),c(t,["generatedImages"],r)}return t}function I_(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function D_(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function U_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["contents"]);if(r!=null){let g=sc(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&I_(f,l);const p=u(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],Be(i,p)),l}function L_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["contents"]);if(r!=null){let p=sc(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&D_(f,l),l}function G_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function k_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>m_(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function H_(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function P_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function q_(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function V_(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function z_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function B_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],hs(kt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const T=u(t,["logprobs"]);T!=null&&c(a,["logprobs"],T);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const N=u(t,["frequencyPenalty"]);N!=null&&c(a,["frequencyPenalty"],N);const k=u(t,["seed"]);k!=null&&c(a,["seed"],k);const R=u(t,["responseMimeType"]);R!=null&&c(a,["responseMimeType"],R);const B=u(t,["responseSchema"]);B!=null&&c(a,["responseSchema"],rc(B));const Z=u(t,["responseJsonSchema"]);if(Z!=null&&c(a,["responseJsonSchema"],Z),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(l!==void 0&&F!=null){let se=F;Array.isArray(se)&&(se=se.map(He=>DC(He))),c(l,["safetySettings"],se)}const ee=u(t,["tools"]);if(l!==void 0&&ee!=null){let se=zo(ee);Array.isArray(se)&&(se=se.map(He=>qC(Vo(He)))),c(l,["tools"],se)}const oe=u(t,["toolConfig"]);if(l!==void 0&&oe!=null&&c(l,["toolConfig"],PC(oe)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ce=u(t,["cachedContent"]);l!==void 0&&ce!=null&&c(l,["cachedContent"],$n(i,ce));const Q=u(t,["responseModalities"]);Q!=null&&c(a,["responseModalities"],Q);const de=u(t,["mediaResolution"]);de!=null&&c(a,["mediaResolution"],de);const ue=u(t,["speechConfig"]);if(ue!=null&&c(a,["speechConfig"],uc(ue)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=u(t,["thinkingConfig"]);ae!=null&&c(a,["thinkingConfig"],ae);const Ce=u(t,["imageConfig"]);Ce!=null&&c(a,["imageConfig"],mC(Ce));const ve=u(t,["enableEnhancedCivicAnswers"]);return ve!=null&&c(a,["enableEnhancedCivicAnswers"],ve),a}function O_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],kt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const T=u(t,["logprobs"]);T!=null&&c(a,["logprobs"],T);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const N=u(t,["frequencyPenalty"]);N!=null&&c(a,["frequencyPenalty"],N);const k=u(t,["seed"]);k!=null&&c(a,["seed"],k);const R=u(t,["responseMimeType"]);R!=null&&c(a,["responseMimeType"],R);const B=u(t,["responseSchema"]);B!=null&&c(a,["responseSchema"],rc(B));const Z=u(t,["responseJsonSchema"]);Z!=null&&c(a,["responseJsonSchema"],Z);const F=u(t,["routingConfig"]);F!=null&&c(a,["routingConfig"],F);const ee=u(t,["modelSelectionConfig"]);ee!=null&&c(a,["modelConfig"],ee);const oe=u(t,["safetySettings"]);if(l!==void 0&&oe!=null){let H=oe;Array.isArray(H)&&(H=H.map($=>$)),c(l,["safetySettings"],H)}const ce=u(t,["tools"]);if(l!==void 0&&ce!=null){let H=zo(ce);Array.isArray(H)&&(H=H.map($=>Cg(Vo($)))),c(l,["tools"],H)}const Q=u(t,["toolConfig"]);l!==void 0&&Q!=null&&c(l,["toolConfig"],Q);const de=u(t,["labels"]);l!==void 0&&de!=null&&c(l,["labels"],de);const ue=u(t,["cachedContent"]);l!==void 0&&ue!=null&&c(l,["cachedContent"],$n(i,ue));const ae=u(t,["responseModalities"]);ae!=null&&c(a,["responseModalities"],ae);const Ce=u(t,["mediaResolution"]);Ce!=null&&c(a,["mediaResolution"],Ce);const ve=u(t,["speechConfig"]);ve!=null&&c(a,["speechConfig"],_g(uc(ve)));const se=u(t,["audioTimestamp"]);se!=null&&c(a,["audioTimestamp"],se);const He=u(t,["thinkingConfig"]);He!=null&&c(a,["thinkingConfig"],He);const $e=u(t,["imageConfig"]);if($e!=null&&c(a,["imageConfig"],gC($e)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function km(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["contents"]);if(r!=null){let p=mn(r);Array.isArray(p)&&(p=p.map(g=>hs(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],B_(i,f,l)),l}function Hm(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["contents"]);if(r!=null){let p=mn(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],O_(i,f,l)),l}function Pm(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>f_(m))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function qm(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),c(t,["candidates"],m)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function Y_(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","mimeType"],E);const T=u(i,["outputCompressionQuality"]);if(t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(i,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function F_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const T=u(i,["includeRaiReason"]);t!==void 0&&T!=null&&c(t,["parameters","includeRaiReason"],T);const A=u(i,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const k=u(i,["outputCompressionQuality"]);t!==void 0&&k!=null&&c(t,["parameters","outputOptions","compressionQuality"],k);const R=u(i,["addWatermark"]);t!==void 0&&R!=null&&c(t,["parameters","addWatermark"],R);const B=u(i,["labels"]);t!==void 0&&B!=null&&c(t,["labels"],B);const Z=u(i,["imageSize"]);t!==void 0&&Z!=null&&c(t,["parameters","sampleImageSize"],Z);const F=u(i,["enhancePrompt"]);return t!==void 0&&F!=null&&c(t,["parameters","enhancePrompt"],F),l}function J_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&Y_(f,l),l}function X_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&F_(f,l),l}function K_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>aC(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Tg(r)),t}function Q_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>ms(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Eg(r)),t}function Z_(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const m=u(i,["enhancePrompt"]);if(t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],gs(v));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(A=>WC(A))),c(t,["instances[0]","referenceImages"],T)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function $_(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&c(t,["parameters","pubsubTopic"],E);const T=u(i,["negativePrompt"]);t!==void 0&&T!=null&&c(t,["parameters","negativePrompt"],T);const A=u(i,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const N=u(i,["generateAudio"]);t!==void 0&&N!=null&&c(t,["parameters","generateAudio"],N);const k=u(i,["lastFrame"]);t!==void 0&&k!=null&&c(t,["instances[0]","lastFrame"],_n(k));const R=u(i,["referenceImages"]);if(t!==void 0&&R!=null){let F=R;Array.isArray(F)&&(F=F.map(ee=>jC(ee))),c(t,["instances[0]","referenceImages"],F)}const B=u(i,["mask"]);t!==void 0&&B!=null&&c(t,["instances[0]","mask"],$C(B));const Z=u(i,["compressionQuality"]);return t!==void 0&&Z!=null&&c(t,["parameters","compressionQuality"],Z),l}function W_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],nC(p)),t}function j_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],iC(p)),t}function eC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],gs(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],Ag(p));const g=u(t,["source"]);g!=null&&oC(g,l);const y=u(t,["config"]);return y!=null&&Z_(y,l),l}function tC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],_n(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],xg(p));const g=u(t,["source"]);g!=null&&lC(g,l);const y=u(t,["config"]);return y!=null&&$_(y,l),l}function nC(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>rC(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function iC(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>uC(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function oC(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],gs(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Ag(f)),l}function lC(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],_n(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],xg(f)),l}function aC(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],yC(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],Tg(r)),t}function ms(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],Sg(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],Eg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function sC(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],Sg(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function rC(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],QC(l)),t}function uC(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],ZC(l)),t}function cC(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const T=u(i,["responseLogprobs"]);T!=null&&c(t,["responseLogprobs"],T);const A=u(i,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const N=u(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const k=u(i,["responseSchema"]);k!=null&&c(t,["responseSchema"],k);const R=u(i,["routingConfig"]);R!=null&&c(t,["routingConfig"],R);const B=u(i,["seed"]);B!=null&&c(t,["seed"],B);const Z=u(i,["speechConfig"]);Z!=null&&c(t,["speechConfig"],_g(Z));const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const ee=u(i,["temperature"]);ee!=null&&c(t,["temperature"],ee);const oe=u(i,["thinkingConfig"]);oe!=null&&c(t,["thinkingConfig"],oe);const ce=u(i,["topK"]);ce!=null&&c(t,["topK"],ce);const Q=u(i,["topP"]);if(Q!=null&&c(t,["topP"],Q),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function fC(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Be(i,a)),l}function dC(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Be(i,a)),l}function pC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function hC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function mC(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function gC(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function yC(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],Ni(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Sg(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Ni(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function gs(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],Ni(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function _n(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Ni(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function vC(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],fg(i,g)),a}function SC(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],fg(i,g)),a}function TC(i,t){const l={},a=u(t,["config"]);return a!=null&&vC(i,a,l),l}function EC(i,t){const l={},a=u(t,["config"]);return a!=null&&SC(i,a,l),l}function _C(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=dg(r);Array.isArray(f)&&(f=f.map(p=>Xu(p))),c(t,["models"],f)}return t}function CC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=dg(r);Array.isArray(f)&&(f=f.map(p=>Ku(p))),c(t,["models"],f)}return t}function AC(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Xu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],VC(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const m=u(i,["supportedGenerationMethods"]);m!=null&&c(t,["supportedActions"],m);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const E=u(i,["maxTemperature"]);E!=null&&c(t,["maxTemperature"],E);const T=u(i,["topP"]);T!=null&&c(t,["topP"],T);const A=u(i,["topK"]);A!=null&&c(t,["topK"],A);const N=u(i,["thinking"]);return N!=null&&c(t,["thinking"],N),t}function Ku(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>H_(T))),c(t,["endpoints"],E)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],zC(y));const m=u(i,["defaultCheckpointId"]);m!=null&&c(t,["defaultCheckpointId"],m);const v=u(i,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(T=>T)),c(t,["checkpoints"],E)}return t}function xC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],P_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],q_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],c_(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const T=u(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function NC(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],_n(l)),t}function RC(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const m=u(i,["addWatermark"]);t!==void 0&&m!=null&&c(t,["parameters","addWatermark"],m);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const T=u(i,["enhancePrompt"]);t!==void 0&&T!=null&&c(t,["parameters","enhancePrompt"],T);const A=u(i,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),l}function MC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["source"]);r!=null&&wC(r,l);const f=u(t,["config"]);return f!=null&&RC(f,l),l}function bC(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>ms(r))),c(t,["generatedImages"],a)}return t}function wC(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],_n(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>NC(g))),c(t,["instances[0]","productImages"],p)}return l}function IC(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],_n(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],AC(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],y_(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Tg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Eg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function DC(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function UC(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],_n(l)),t}function LC(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function GC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["source"]);r!=null&&HC(r,l);const f=u(t,["config"]);return f!=null&&LC(f,l),l}function kC(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>sC(r))),c(t,["generatedMasks"],a)}return t}function HC(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],_n(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],UC(f)),l}function _g(i){const t={},l=u(i,["voiceConfig"]);l!=null&&c(t,["voiceConfig"],l);const a=u(i,["languageCode"]);if(a!=null&&c(t,["languageCode"],a),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function PC(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],V_(l));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function qC(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],pC(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],hC(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function Cg(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let E=l;Array.isArray(E)&&(E=E.map(T=>z_(T))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&c(t,["googleSearch"],m);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function VC(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function zC(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function BC(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function OC(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function YC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Be(i,a));const r=u(t,["config"]);return r!=null&&BC(r,l),l}function FC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["config"]);return r!=null&&OC(r,l),l}function JC(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const m=u(i,["enhanceInputImage"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=u(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const T=u(i,["numberOfImages"]);t!==void 0&&T!=null&&c(t,["parameters","sampleCount"],T);const A=u(i,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),l}function XC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Be(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],_n(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&JC(p,l),l}function KC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>ms(f))),c(t,["generatedImages"],r)}return t}function QC(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Ni(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function ZC(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Ni(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function $C(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],_n(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function WC(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],gs(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function jC(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],_n(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Ag(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Ni(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function xg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Ni(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eA(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function tA(i){const t={},l=u(i,["config"]);return l!=null&&eA(l,t),t}function nA(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function iA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&nA(a,t),t}function oA(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function lA(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function aA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],rA(p)),t}function sA(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&lA(r,t),t}function rA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function uA(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function cA(i){const t={},l=u(i,["config"]);return l!=null&&uA(l,t),t}function fA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function Ng(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function dA(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&Ng(a,t),t}function pA(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hA="Content-Type",mA="X-Server-Timeout",gA="User-Agent",Qu="x-goog-api-client",yA="1.33.0",vA=`google-genai-sdk/${yA}`,SA="v1beta1",TA="v1beta";class EA{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:SA,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:TA,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,p=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return l&&l.extraBody!==null&&_A(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Vm(r),new Yu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Vm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Tn(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield Ee(r.read());if(m){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=f.decode(v,{stream:!0});try{const N=JSON.parse(E);if("error"in N){const k=JSON.parse(JSON.stringify(N.error)),R=k.status,B=k.code,Z=`got status: ${R}. ${JSON.stringify(N)}`;if(B>=400&&B<600)throw new ps({message:Z,status:B})}}catch(N){if(N.name==="ApiError")throw N}p+=E;let T=-1,A=0;for(;;){T=-1,A=0;for(const R of y){const B=p.indexOf(R);B!==-1&&(T===-1||B<T)&&(T=B,A=R.length)}if(T===-1)break;const N=p.substring(0,T);p=p.substring(T+A);const k=N.trim();if(k.startsWith(g)){const R=k.substring(g.length).trim();try{const B=new Response(R,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ee(new Yu(B))}catch(B){throw new Error(`exception parsing stream chunk ${R}. ${B}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=vA+" "+this.clientOptions.userAgentExtra;return t[gA]=l,t[Qu]=l,t[hA]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(mA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),v=re("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,y,l==null?void 0:l.httpOptions);return f.upload(t,E,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,p=await f.stat(l),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),E={};a!=null&&Ng(a,E);const T=await this.fetchUploadUrl(m,g,y,v,E,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,T,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Vm(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new ps({message:r,status:l}):new Error(r)}}function _A(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const m=p[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CA="mcp_used/unknown";let AA=!1;function Rg(i){for(const t of i)if(xA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return AA}function Mg(i){var t;const l=(t=i[Qu])!==null&&t!==void 0?t:"";i[Qu]=(l+` ${CA}`).trimStart()}function xA(i){return i!==null&&typeof i=="object"&&i instanceof fc}function NA(i){return Tn(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const p=yield Ee(l.listTools({cursor:r}));for(const g of p.tools)yield yield Ee(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class fc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new fc(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,En(NA(v))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const E=r;p.push(E);const T=E.name;if(f[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);f[T]=v}}catch(E){l={error:E}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),oT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function RA(i,t,l){const a=new ZS;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class MA{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=IA(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(F=>{m=F}),E=t.callbacks,T=function(){m({})},A=this.apiClient,N={onopen:T,onmessage:F=>{RA(A,E.onmessage,F)},onerror:(l=E==null?void 0:E.onerror)!==null&&l!==void 0?l:function(F){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(F){}},k=this.webSocketFactory.create(y,wA(p),N);k.connect(),await v;const Z={setup:{model:Be(this.apiClient,t.model)}};return k.send(JSON.stringify(Z)),new bA(k,this.apiClient)}}class bA{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=t_(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=e_(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Go.PLAY)}pause(){this.sendPlaybackControl(Go.PAUSE)}stop(){this.sendPlaybackControl(Go.STOP)}resetContext(){this.sendPlaybackControl(Go.RESET_CONTEXT)}close(){this.conn.close()}}function wA(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function IA(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function UA(i,t,l){const a=new QS;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=o_(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class LA{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new MA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&Rg(t.config.tools)&&Mg(E);const T=PA(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v);else{const ue=this.apiClient.getApiKey();let ae="BidiGenerateContent",Ce="key";ue!=null&&ue.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",Ce="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ae}?${Ce}=${ue}`}let A=()=>{};const N=new Promise(ue=>{A=ue}),k=t.callbacks,R=function(){var ue;(ue=k==null?void 0:k.onopen)===null||ue===void 0||ue.call(k),A({})},B=this.apiClient,Z={onopen:R,onmessage:ue=>{UA(B,k.onmessage,ue)},onerror:(l=k==null?void 0:k.onerror)!==null&&l!==void 0?l:function(ue){},onclose:(a=k==null?void 0:k.onclose)!==null&&a!==void 0?a:function(ue){}},F=this.webSocketFactory.create(v,HA(T),Z);F.connect(),await N;let ee=Be(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&ee.startsWith("publishers/")){const ue=this.apiClient.getProject(),ae=this.apiClient.getLocation();ee=`projects/${ue}/locations/${ae}/`+ee}let oe={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ss.AUDIO]}:t.config.responseModalities=[ss.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ce=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Q=[];for(const ue of ce)if(this.isCallableTool(ue)){const ae=ue;Q.push(await ae.tool())}else Q.push(ue);Q.length>0&&(t.config.tools=Q);const de={model:ee,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?oe=jE(this.apiClient,de):oe=WE(this.apiClient,de),delete oe.config,F.send(JSON.stringify(oe)),new kA(F,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const GA={turnComplete:!0};class kA{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=mn(l.turns),t.isVertexAI()||(a=a.map(r=>hs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(DA)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},GA),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:i_(t)}:l={realtimeInput:n_(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function HA(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function PA(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zm=10;function Bm(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(Po(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Po(i){return"callTool"in i&&typeof i.callTool=="function"}function qA(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>Po(r)))!==null&&a!==void 0?a:!1}function Om(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(Po(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function Ym(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VA extends Zn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!qA(l)||Bm(l.config))return await this.generateContentInternal(y);const m=Om(l);if(m.length>0){const k=m.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let v,E;const T=mn(y.contents),A=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:zm;let N=0;for(;N<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const k=v.candidates[0].content,R=[];for(const B of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(Po(B)){const F=await B.callTool(v.functionCalls);R.push(...F)}N++,E={role:"user",parts:R},y.contents=mn(y.contents),y.contents.push(k),y.contents.push(E),Ym(y.config)&&(T.push(k),T.push(E))}return Ym(y.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async l=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(l),Bm(l.config)){const E=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(E)}const y=Om(l);if(y.length>0){const E=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Fi(Qn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(f=l.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>Po(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Rg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Mg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(Po(p)){const g=p,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(f.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);f.set(m.name,g)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:zm;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,E){return Tn(this,arguments,function*(){for(var T,A,N,k,R,B;g<f;){p&&(g++,p=!1);const oe=yield Ee(m.processParamsMaybeAddMcpUsage(E)),ce=yield Ee(m.generateContentStreamInternal(oe)),Q=[],de=[];try{for(var Z=!0,F=(A=void 0,En(ce)),ee;ee=yield Ee(F.next()),T=ee.done,!T;Z=!0){k=ee.value,Z=!1;const ue=k;if(yield yield Ee(ue),ue.candidates&&(!((R=ue.candidates[0])===null||R===void 0)&&R.content)){de.push(ue.candidates[0].content);for(const ae of(B=ue.candidates[0].content.parts)!==null&&B!==void 0?B:[])if(g<f&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ae.functionCall.name)){const Ce=yield Ee(v.get(ae.functionCall.name).callTool([ae.functionCall]));Q.push(...Ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(ue){A={error:ue}}finally{try{!Z&&!T&&(N=F.return)&&(yield Ee(N.call(F)))}finally{if(A)throw A.error}}if(Q.length>0){p=!0;const ue=new Hl;ue.candidates=[{content:{role:"user",parts:Q}}],yield yield Ee(ue);const ae=[];ae.push(...de),ae.push({role:"user",parts:Q});const Ce=mn(E.contents).concat(ae);E.contents=Ce}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Hm(this.apiClient,t);return g=re("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=qm(v),T=new Hl;return Object.assign(T,E),T})}else{const m=km(this.apiClient,t);return g=re("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=Pm(v),T=new Hl;return Object.assign(T,E),T})}}async generateContentStreamInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Hm(this.apiClient,t);return g=re("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(E){return Tn(this,arguments,function*(){var T,A,N,k;try{for(var R=!0,B=En(E),Z;Z=yield Ee(B.next()),T=Z.done,!T;R=!0){k=Z.value,R=!1;const F=k,ee=qm(yield Ee(F.json()));ee.sdkHttpResponse={headers:F.headers};const oe=new Hl;Object.assign(oe,ee),yield yield Ee(oe)}}catch(F){A={error:F}}finally{try{!R&&!T&&(N=B.return)&&(yield Ee(N.call(B)))}finally{if(A)throw A.error}}})})}else{const m=km(this.apiClient,t);return g=re("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(E){return Tn(this,arguments,function*(){var T,A,N,k;try{for(var R=!0,B=En(E),Z;Z=yield Ee(B.next()),T=Z.done,!T;R=!0){k=Z.value,R=!1;const F=k,ee=Pm(yield Ee(F.json()));ee.sdkHttpResponse={headers:F.headers};const oe=new Hl;Object.assign(oe,ee),yield yield Ee(oe)}}catch(F){A={error:F}}finally{try{!R&&!T&&(N=B.return)&&(yield Ee(N.call(B)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=L_(this.apiClient,t);return g=re("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=k_(v),T=new Sm;return Object.assign(T,E),T})}else{const m=U_(this.apiClient,t);return g=re("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=G_(v),T=new Sm;return Object.assign(T,E),T})}}async generateImagesInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=X_(this.apiClient,t);return g=re("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=Q_(v),T=new Tm;return Object.assign(T,E),T})}else{const m=J_(this.apiClient,t);return g=re("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=K_(v),T=new Tm;return Object.assign(T,E),T})}}async editImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=b_(this.apiClient,t);return f=re("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=w_(y),v=new PS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=XC(this.apiClient,t);return f=re("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=KC(y),v=new qS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=MC(this.apiClient,t);return f=re("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=bC(y),v=new VS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=GC(this.apiClient,t);return f=re("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=kC(y),v=new zS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=dC(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ku(v))}else{const m=fC(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Xu(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=EC(this.apiClient,t);return g=re("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=CC(v),T=new Em;return Object.assign(T,E),T})}else{const m=TC(this.apiClient,t);return g=re("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=_C(v),T=new Em;return Object.assign(T,E),T})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=FC(this.apiClient,t);return g=re("{model}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ku(v))}else{const m=YC(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Xu(v))}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=x_(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=R_(v),T=new _m;return Object.assign(T,E),T})}else{const m=A_(this.apiClient,t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=N_(v),T=new _m;return Object.assign(T,E),T})}}async countTokens(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=E_(this.apiClient,t);return g=re("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=C_(v),T=new Cm;return Object.assign(T,E),T})}else{const m=T_(this.apiClient,t);return g=re("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=__(v),T=new Cm;return Object.assign(T,E),T})}}async computeTokens(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=p_(this.apiClient,t);return f=re("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=h_(y),v=new BS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=tC(this.apiClient,t);return g=re("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const E=j_(v),T=new rs;return Object.assign(T,E),T})}else{const m=eC(this.apiClient,t);return g=re("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const E=W_(v),T=new rs;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zA extends Zn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=DS(t);return g=re("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const m=IS(t);return g=re("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=AS(t);return f=re("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BA(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function OA(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>WA(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function YA(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const p=u(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],$A(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function FA(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],YA(i,a,l)),l}function JA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function XA(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function KA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function QA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function ZA(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],cc(E));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","thinkingConfig"],T);const A=u(i,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],OA(kt(N)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let ce=zo(k);Array.isArray(ce)&&(ce=ce.map(Q=>ex(Vo(Q)))),c(t,["setup","tools"],ce)}const R=u(i,["sessionResumption"]);t!==void 0&&R!=null&&c(t,["setup","sessionResumption"],jA(R));const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const Z=u(i,["outputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","outputAudioTranscription"],Z);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const ee=u(i,["contextWindowCompression"]);t!==void 0&&ee!=null&&c(t,["setup","contextWindowCompression"],ee);const oe=u(i,["proactivity"]);if(t!==void 0&&oe!=null&&c(t,["setup","proactivity"],oe),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function $A(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Be(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],ZA(r,l)),l}function WA(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],JA(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],XA(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],BA(y));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const T=u(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function jA(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ex(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],KA(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],QA(y));const m=u(i,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tx(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function nx(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const f=tx(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class ix extends Zn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=FA(this.apiClient,t);f=re("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=nx(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ox(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function lx(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&ox(a,t),t}function ax(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function sx(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function rx(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&sx(a,t),t}function ux(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cx extends Zn{constructor(t){super(),this.apiClient=t,this.list=async l=>new Fi(Qn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ax(t);return f=re("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lx(t);r=re("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=rx(t);return f=re("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=ux(y),v=new OS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fx extends Zn{constructor(t,l=new cx(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Fi(Qn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tA(t);return f=re("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oA(t);return f=re("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=iA(t);r=re("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cA(t);return f=re("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=fA(y),v=new YS;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dA(t);return f=re("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=pA(y),v=new FS;return Object.assign(v,m),v})}}async importFile(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sA(t);return f=re("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=aA(y),v=new lc;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return bg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const dx=()=>bg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const $u=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gn extends Error{}class Bt extends gn{constructor(t,l,a,r){super(`${Bt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new ys({message:a,cause:$u(l)});const f=l;return t===400?new Ig(t,f,a,r):t===401?new Dg(t,f,a,r):t===403?new Ug(t,f,a,r):t===404?new Lg(t,f,a,r):t===409?new Gg(t,f,a,r):t===422?new kg(t,f,a,r):t===429?new Hg(t,f,a,r):t>=500?new Pg(t,f,a,r):new Bt(t,f,a,r)}}class Wu extends Bt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ys extends Bt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class wg extends ys{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Ig extends Bt{}class Dg extends Bt{}class Ug extends Bt{}class Lg extends Bt{}class Gg extends Bt{}class kg extends Bt{}class Hg extends Bt{}class Pg extends Bt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const px=/^[a-z][a-z0-9+.-]*:/i,hx=i=>px.test(i);let ju=i=>(ju=Array.isArray,ju(i));const mx=ju;let gx=mx;const Fm=gx;function yx(i){if(!i)return!0;for(const t in i)return!1;return!0}function vx(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const Sx=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new gn(`${i} must be an integer`);if(t<0)throw new gn(`${i} must be a positive integer`);return t},Tx=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ex=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _x(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Cx=()=>{var i,t,l,a,r;const f=_x();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Uo,"X-Stainless-OS":Xm(Deno.build.os),"X-Stainless-Arch":Jm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Uo,"X-Stainless-OS":Xm((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Jm((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=Ax();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ax(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Jm=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Xm=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let ja;const xx=()=>ja??(ja=Cx());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function qg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function Rx(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return qg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Vg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Mx(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bx=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function qu(i,t,l){return zg(),new File(i,t??"unknown_file",l)}function wx(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const Ix=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",Dx=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Bg(i),Ux=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function Lx(i,t,l){if(zg(),i=await i,Dx(i))return i instanceof File?i:qu([await i.arrayBuffer()],i.name);if(Ux(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),qu(await ec(r),t,l)}const a=await ec(i);if(t||(t=wx(i)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return qu(a,t,l)}async function ec(i){var t,l,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Bg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(Ix(i))try{for(var g=!0,y=En(i),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const v=r;p.push(...await ec(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${Gx(i)}`)}return p}function Gx(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Og{constructor(t){this._client=t}}Og._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Km=Object.freeze(Object.create(null)),kx=(i=Yg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],p=l.reduce((v,E,T)=>{var A,N,k;/[?#]/.test(E)&&(r=!0);const R=a[T];let B=(r?encodeURIComponent:i)(""+R);return T!==a.length&&(R==null||typeof R=="object"&&R.toString===((k=Object.getPrototypeOf((N=Object.getPrototypeOf((A=R.hasOwnProperty)!==null&&A!==void 0?A:Km))!==null&&N!==void 0?N:Km))===null||k===void 0?void 0:k.toString))&&(B=R+"",f.push({start:v.length+E.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),v+E+(T===a.length?"":B)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)f.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(f.sort((v,E)=>v.start-E.start),f.length>0){let v=0;const E=f.reduce((T,A)=>{const N=" ".repeat(A.start-v),k="^".repeat(A.length);return v=A.start+A.length,T+N+k},"");throw new gn(`Path parameters result in path with invalid segments:
${f.map(T=>T.error).join(`
`)}
${p}
${E}`)}return p}),es=kx(Yg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fg extends Og{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=cs(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new gn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new gn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(es`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(es`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(es`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:p=this._client.apiVersion}=f,g=cs(f,["api_version"]);return this._client.get(es`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Fg._key=Object.freeze(["interactions"]);class Jg extends Fg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hx(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let ts;function dc(i){let t;return(ts??(t=new globalThis.TextEncoder,ts=t.encode.bind(t)))(i)}let ns;function Qm(i){let t;return(ns??(t=new globalThis.TextDecoder,ns=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?dc(t):t;this.buffer=Hx([this.buffer,l]);const a=[];let r;for(;(r=Px(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Qm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Qm(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}vs.NEWLINE_CHARS=new Set([`
`,"\r"]);vs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Px(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function qx(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fs={off:0,error:200,warn:300,info:400,debug:500},Zm=(i,t,l)=>{if(i){if(vx(fs,i))return i;zt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(fs))}`)}};function Pl(){}function is(i,t,l){return!t||fs[i]>fs[l]?Pl:t[i].bind(t)}const Vx={error:Pl,warn:Pl,info:Pl,debug:Pl};let $m=new WeakMap;function zt(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return Vx;const r=$m.get(l);if(r&&r[0]===a)return r[1];const f={error:is("error",l,a),warn:is("warn",l,a),info:is("info",l,a),debug:is("debug",l,a)};return $m.set(l,[a,f]),f}const Yi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ko{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?zt(a):console;function p(){return Tn(this,arguments,function*(){var y,m,v,E;if(r)throw new gn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var A=!0,N=En(zx(t,l)),k;k=yield Ee(N.next()),y=k.done,!y;A=!0){E=k.value,A=!1;const R=E;if(!T)if(R.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Ee(JSON.parse(R.data))}catch(B){throw f.error("Could not parse message into JSON:",R.data),f.error("From chunk:",R.raw),B}}}catch(R){m={error:R}}finally{try{!A&&!y&&(v=N.return)&&(yield Ee(v.call(N)))}finally{if(m)throw m.error}}T=!0}catch(R){if(Zu(R))return yield Ee(void 0);throw R}finally{T||l.abort()}})}return new ko(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return Tn(this,arguments,function*(){var y,m,v,E;const T=new vs,A=Vg(t);try{for(var N=!0,k=En(A),R;R=yield Ee(k.next()),y=R.done,!y;N=!0){E=R.value,N=!1;const B=E;for(const Z of T.decode(B))yield yield Ee(Z)}}catch(B){m={error:B}}finally{try{!N&&!y&&(v=k.return)&&(yield Ee(v.call(k)))}finally{if(m)throw m.error}}for(const B of T.flush())yield yield Ee(B)})}function p(){return Tn(this,arguments,function*(){var y,m,v,E;if(r)throw new gn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var A=!0,N=En(f()),k;k=yield Ee(N.next()),y=k.done,!y;A=!0){E=k.value,A=!1;const R=E;T||R&&(yield yield Ee(JSON.parse(R)))}}catch(R){m={error:R}}finally{try{!A&&!y&&(v=N.return)&&(yield Ee(v.call(N)))}finally{if(m)throw m.error}}T=!0}catch(R){if(Zu(R))return yield Ee(void 0);throw R}finally{T||l.abort()}})}return new ko(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),l.push(p)}return f.shift()}});return[new ko(()=>r(t),this.controller,this.client),new ko(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return qg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const p=dc(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function zx(i,t){return Tn(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new gn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new gn("Attempted to iterate over a response with no body");const g=new Ox,y=new vs,m=Vg(i.body);try{for(var v=!0,E=En(Bx(m)),T;T=yield Ee(E.next()),a=T.done,!a;v=!0){p=T.value,v=!1;const A=p;for(const N of y.decode(A)){const k=g.decode(N);k&&(yield yield Ee(k))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(f=E.return)&&(yield Ee(f.call(E)))}finally{if(r)throw r.error}}for(const A of y.flush()){const N=g.decode(A);N&&(yield yield Ee(N))}})}function Bx(i){return Tn(this,arguments,function*(){var l,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=En(i),m;m=yield Ee(y.next()),l=m.done,!l;g=!0){f=m.value,g=!1;const v=f;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?dc(v):v;let T=new Uint8Array(p.length+E.length);T.set(p),T.set(E,p.length),p=T;let A;for(;(A=qx(p))!==-1;)yield yield Ee(p.slice(0,A)),p=p.slice(A)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield Ee(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield Ee(p))})}class Ox{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=Yx(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function Yx(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Fx(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return zt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):ko.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await l.json():await l.text()})();return zt(i).debug(`[${a}] response parsed`,Yi({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pc extends Promise{constructor(t,l,a=Fx){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new pc(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xg=Symbol("brand.privateNullableHeaders");function*Jx(i){if(!i)return;if(Xg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Fm(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Fm(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const Vu=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[f,p]of Jx(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),l.add(g)):(t.append(f,p),l.delete(g))}}return{[Xg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zu=i=>{var t,l,a,r,f,p;if(typeof globalThis.process<"u")return(a=(l=(t=vS)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kg;class Ss{constructor(t){var l,a,r,f,p,g,y,m=t===void 0?{}:t,{baseURL:v=zu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:E=(l=zu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:T="v1beta"}=m,A=cs(m,["baseURL","apiKey","apiVersion"]);const N=Object.assign(Object.assign({apiKey:E,apiVersion:T},A),{baseURL:v||"https://generativelanguage.googleapis.com"});this.baseURL=N.baseURL,this.timeout=(a=N.timeout)!==null&&a!==void 0?a:Ss.DEFAULT_TIMEOUT,this.logger=(r=N.logger)!==null&&r!==void 0?r:console;const k="warn";this.logLevel=k,this.logLevel=(p=(f=Zm(N.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Zm(zu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:k,this.fetchOptions=N.fetchOptions,this.maxRetries=(g=N.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=N.fetch)!==null&&y!==void 0?y:Nx(),this.encoder=bx,this._options=N,this.apiKey=E,this.apiVersion=T}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return Vu([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new gn(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Uo}`}defaultIdempotencyKey(){return`stainless-node-retry-${dx()}`}makeStatusError(t,l,a,r){return Bt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=hx(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return yx(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new pc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:m,url:v,timeout:E}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(m,{url:v,options:g});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,N=Date.now();if(zt(this).debug(`[${T}] sending request`,Yi({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:m.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Wu;const k=new AbortController,R=await this.fetchWithTimeout(v,m,E,k).catch($u),B=Date.now();if(R instanceof globalThis.Error){const F=`retrying, ${l} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Wu;const ee=Zu(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(l)return zt(this).info(`[${T}] connection ${ee?"timed out":"failed"} - ${F}`),zt(this).debug(`[${T}] connection ${ee?"timed out":"failed"} (${F})`,Yi({retryOfRequestLogID:a,url:v,durationMs:B-N,message:R.message})),this.retryRequest(g,l,a??T);throw zt(this).info(`[${T}] connection ${ee?"timed out":"failed"} - error; no more retries left`),zt(this).debug(`[${T}] connection ${ee?"timed out":"failed"} (error; no more retries left)`,Yi({retryOfRequestLogID:a,url:v,durationMs:B-N,message:R.message})),ee?new wg:new ys({cause:R})}const Z=`[${T}${A}] ${m.method} ${v} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${B-N}ms`;if(!R.ok){const F=await this.shouldRetry(R);if(l&&F){const ue=`retrying, ${l} attempts remaining`;return await Mx(R.body),zt(this).info(`${Z} - ${ue}`),zt(this).debug(`[${T}] response error (${ue})`,Yi({retryOfRequestLogID:a,url:R.url,status:R.status,headers:R.headers,durationMs:B-N})),this.retryRequest(g,l,a??T,R.headers)}const ee=F?"error; no more retries left":"error; not retryable";zt(this).info(`${Z} - ${ee}`);const oe=await R.text().catch(ue=>$u(ue).message),ce=Tx(oe),Q=ce?void 0:oe;throw zt(this).debug(`[${T}] response error (${ee})`,Yi({retryOfRequestLogID:a,url:R.url,status:R.status,headers:R.headers,message:Q,durationMs:Date.now()-N})),this.makeStatusError(R.status,ce,Q,R.headers)}return zt(this).info(Z),zt(this).debug(`[${T}] response start`,Yi({retryOfRequestLogID:a,url:R.url,status:R.status,headers:R.headers,durationMs:B-N})),{response:R,options:g,controller:k,requestLogID:T,retryOfRequestLogID:a,startTime:N}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:p,method:g}=f,y=cs(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(m)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(p=m)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const m=parseFloat(y);Number.isNaN(m)?p=Date.parse(y)-Date.now():p=m*1e3}if(!(p&&0<=p&&p<60*1e3)){const m=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,m)}return await Ex(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:v}=p,E=this.buildURL(y,m,v);"timeout"in p&&Sx("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:T,body:A}=this.buildBody({options:p}),N=await this.buildHeaders({options:t,method:g,bodyHeaders:T,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:N},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:E,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=Vu([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),xx()),await this.authHeaders(t),this._options.defaultHeaders,a,t.headers]);return this.validateHeaders(p),p.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=Vu([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Rx(t)}:this.encoder({body:t,headers:a})}}Ss.DEFAULT_TIMEOUT=6e4;class Mt extends Ss{constructor(){super(...arguments),this.interactions=new Jg(this)}}Kg=Mt;Mt.GeminiNextGenAPIClient=Kg;Mt.GeminiNextGenAPIClientError=gn;Mt.APIError=Bt;Mt.APIConnectionError=ys;Mt.APIConnectionTimeoutError=wg;Mt.APIUserAbortError=Wu;Mt.NotFoundError=Lg;Mt.ConflictError=Gg;Mt.RateLimitError=Hg;Mt.BadRequestError=Ig;Mt.AuthenticationError=Dg;Mt.InternalServerError=Pg;Mt.PermissionDeniedError=Ug;Mt.UnprocessableEntityError=kg;Mt.toFile=Lx;Mt.Interactions=Jg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xx(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function Kx(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function Qx(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function Zx(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function $x(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function Wx(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],Wm(A))}else if(r==="PREFERENCE_TUNING"){const A=u(i,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],Wm(A))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(i,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(i,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(m==="PREFERENCE_TUNING"){const A=u(i,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(i,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const T=u(i,["beta"]);return t!==void 0&&T!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],T),a}function jx(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&cN(f);const p=u(i,["config"]);return p!=null&&$x(p,l),l}function eN(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&fN(f,l,t);const p=u(i,["config"]);return p!=null&&Wx(p,l,t),l}function tN(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function nN(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function iN(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function oN(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function lN(i,t){const l={},a=u(i,["config"]);return a!=null&&iN(a,l),l}function aN(i,t){const l={},a=u(i,["config"]);return a!=null&&oN(a,l),l}function sN(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Qg(g))),c(l,["tuningJobs"],p)}return l}function rN(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>tc(g))),c(l,["tuningJobs"],p)}return l}function uN(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function cN(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function fN(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Qg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],ug(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(i,["description"]);v!=null&&c(l,["description"],v);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const T=u(i,["_self"]);return T!=null&&c(l,["tunedModel"],uN(T)),l}function tc(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],ug(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(i,["error"]);v!=null&&c(l,["error"],v);const E=u(i,["description"]);E!=null&&c(l,["description"],E);const T=u(i,["baseModel"]);T!=null&&c(l,["baseModel"],T);const A=u(i,["tunedModel"]);A!=null&&c(l,["tunedModel"],A);const N=u(i,["preTunedModel"]);N!=null&&c(l,["preTunedModel"],N);const k=u(i,["supervisedTuningSpec"]);k!=null&&c(l,["supervisedTuningSpec"],k);const R=u(i,["preferenceOptimizationSpec"]);R!=null&&c(l,["preferenceOptimizationSpec"],R);const B=u(i,["tuningDataStats"]);B!=null&&c(l,["tuningDataStats"],B);const Z=u(i,["encryptionSpec"]);Z!=null&&c(l,["encryptionSpec"],Z);const F=u(i,["partnerModelTuningSpec"]);F!=null&&c(l,["partnerModelTuningSpec"],F);const ee=u(i,["customBaseModel"]);ee!=null&&c(l,["customBaseModel"],ee);const oe=u(i,["experiment"]);oe!=null&&c(l,["experiment"],oe);const ce=u(i,["labels"]);ce!=null&&c(l,["labels"],ce);const Q=u(i,["outputUri"]);Q!=null&&c(l,["outputUri"],Q);const de=u(i,["pipelineJob"]);de!=null&&c(l,["pipelineJob"],de);const ue=u(i,["serviceAccount"]);ue!=null&&c(l,["serviceAccount"],ue);const ae=u(i,["tunedModelDisplayName"]);ae!=null&&c(l,["tunedModelDisplayName"],ae);const Ce=u(i,["veoTuningSpec"]);return Ce!=null&&c(l,["veoTuningSpec"],Ce),l}function dN(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(i,["done"]);p!=null&&c(l,["done"],p);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function Wm(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pN extends Zn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Fi(Qn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Ou.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=nN(t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>tc(v))}else{const m=tN(t);return g=re("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>Qg(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=aN(t);return g=re("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=rN(v),T=new Am;return Object.assign(T,E),T})}else{const m=lN(t);return g=re("tunedModels",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=sN(v),T=new Am;return Object.assign(T,E),T})}}async cancel(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Kx(t);return g=re("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=Zx(v),T=new xm;return Object.assign(T,E),T})}else{const m=Xx(t);return g=re("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const E=Qx(v),T=new xm;return Object.assign(T,E),T})}}async tuneInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=eN(t,t);return f=re("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>tc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jx(t);return f=re("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>dN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hN{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const mN=1024*1024*8,gN=3,yN=1e3,vN=2,ds="x-goog-upload-status";async function SN(i,t,l){var a;const r=await Zg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[ds])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function TN(i,t,l){var a;const r=await Zg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[ds])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=ig(f),g=new ac;return Object.assign(g,p),g}async function Zg(i,t,l){var a,r;let f=0,p=0,g=new Yu(new Response),y="upload";for(f=i.size;p<f;){const m=Math.min(mN,f-p),v=i.slice(p,p+m);p+m>=f&&(y+=", finalize");let E=0,T=yN;for(;E<gN&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[ds]));)E++,await _N(T),T=T*vN;if(p+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[ds])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function EN(i){return{size:i.size,type:i.type}}function _N(i){return new Promise(t=>setTimeout(t,i))}class CN{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await SN(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await TN(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await EN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AN{create(t,l,a){return new xN(t,l,a)}}class xN{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jm="x-goog-api-key";class NN{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(jm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(jm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RN="gl-node/";class MN{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new Mt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=_S(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new NN(this.apiKey);this.apiClient=new EA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:RN+"web",uploader:new CN,downloader:new hN}),this.models=new VA(this.apiClient),this.live=new LA(this.apiClient,r,new AN),this.batches=new $T(this.apiClient),this.chats=new DE(this.models,this.apiClient),this.caches=new bE(this.apiClient),this.files=new BE(this.apiClient),this.operations=new zA(this.apiClient),this.authTokens=new ix(this.apiClient),this.tunings=new pN(this.apiClient),this.fileSearchStores=new fx(this.apiClient)}}var bN={};const wN=async(i,t=[],l)=>{const a=bN.API_KEY;if(!a)throw new Error("API Key is missing in the environment.");const r=new MN({apiKey:a}),f=t.map(m=>({id:m.id,name:m.name,birthDate:m.birthDate,x:m.x,y:m.y})),p=JSON.stringify(f);let g="";l&&(g=`
      IMPORTANT - FOCUS PERSON:
      The user has selected: "${l.name}" (ID: "${l.id}").
      
      1. Interpret all relationships in the "USER INPUT TEXT" relative to this Focus Person, unless explicitly stated otherwise.
         - Example: If input is "Wife Sarah", it means Sarah is the wife of "${l.name}" (ID: ${l.id}).
         - Example: If input is "Son John", it means John is the son of "${l.name}" (ID: ${l.id}).
      
      2. PRESERVE EXISTING CONNECTIONS: Do NOT break or remove any existing relationships for other people. Only ADD new people and link them to the Focus Person (or existing people if mentioned).
      
      3. LAYOUT ANCHOR: Use the Focus Person's coordinates (X: ${l.x}, Y: ${l.y}) as the starting point for calculating positions of new people.
      `);const y=`
    Analyze the following text to extract or update family tree data.
    
    CONTEXT - EXISTING PEOPLE IN TREE:
    ${p}

    ${g}

    USER INPUT TEXT: 
    "${i}"

    INSTRUCTIONS:
    1. Analyze the relationships described in the text.
    2. CHECK AGAINST EXISTING: If a person mentioned in the text matches a name in the "EXISTING PEOPLE" list, USE THEIR EXISTING ID. Do NOT generate a new ID for them.
    3. NEW PEOPLE: If a person is not in the list, create a new object for them with a new unique ID.
    4. OUTPUT: Return a JSON object containing "people" and "relationships".
       - "people": Include ALL people involved in the text (both existing ones you linked to, and new ones).
       - "relationships": Include relationships involving these people.
    
    LAYOUT RULES:
    - For existing people, keep their X and Y coordinates (unless you need to shift them slightly, but prefer keeping them).
    - For NEW people, calculate their X and Y coordinates relative to the existing people they are connected to.
      - Partners: Same Y, X + 200 (or -200).
      - Children: Y + ${Kn}, centered below parents.
      - Parents: Y - ${Kn}.
    - If no connection to existing data, center the new group at X=0, Y=0.

    STRICT JSON SCHEMA:
  `;try{const v=(await r.models.generateContent({model:"gemini-3-pro-preview",contents:y,config:{responseMimeType:"application/json",responseSchema:{type:ut.OBJECT,properties:{people:{type:ut.ARRAY,items:{type:ut.OBJECT,properties:{id:{type:ut.STRING},name:{type:ut.STRING},gender:{type:ut.STRING,enum:["male","female","other"]},birthDate:{type:ut.STRING},x:{type:ut.NUMBER},y:{type:ut.NUMBER}},required:["id","name","gender","x","y"]}},relationships:{type:ut.ARRAY,items:{type:ut.OBJECT,properties:{id:{type:ut.STRING},sourceId:{type:ut.STRING},targetId:{type:ut.STRING},type:{type:ut.STRING,enum:["parent","spouse"]}},required:["id","sourceId","targetId","type"]}}}}}})).text;if(!v)throw new Error("No response from AI");const E=JSON.parse(v);return E.people=E.people.map(T=>{const A=t.find(N=>N.id===T.id);return{...T,x:T.x||0,y:T.y||0,birthPlace:(A==null?void 0:A.birthPlace)||"",deathDate:(A==null?void 0:A.deathDate)||"",deathPlace:(A==null?void 0:A.deathPlace)||"",notes:(A==null?void 0:A.notes)||"",photoUrl:(A==null?void 0:A.photoUrl)||`https://ui-avatars.com/api/?name=${encodeURIComponent(T.name)}&background=random`}}),E}catch(m){throw console.error("Gemini API Error:",m),m}},IN=({isOpen:i,onClose:t,onApplyData:l,existingPeople:a,language:r="id",selectedPerson:f})=>{const[p,g]=j.useState(""),[y,m]=j.useState(!1),[v,E]=j.useState(null),T=qo[r],A=async()=>{if(p.trim()){m(!0),E(null);try{const N=await wN(p,a,f);l(N),t(),g("")}catch(N){console.error(N),E(T.aiError+(N.message?` (${N.message})`:""))}finally{m(!1)}}};return i?C.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 m-4 animate-scale-in flex flex-col max-h-[90vh]",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-100 pb-2",children:[C.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[C.jsx(ke.Wand2,{className:"w-6 h-6 text-purple-600"}),T.aiTitle]}),C.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:C.jsx(ke.X,{className:"w-6 h-6"})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar",children:[C.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[T.aiDesc,C.jsx("br",{}),C.jsx("span",{className:"italic text-xs text-gray-500",children:T.aiExample})]}),f&&C.jsxs("div",{className:"mb-4 p-2 bg-indigo-50 border border-indigo-200 rounded-lg flex items-center gap-3",children:[C.jsx("img",{src:f.photoUrl||`https://ui-avatars.com/api/?name=${f.name}`,className:"w-8 h-8 rounded-full border border-indigo-200",alt:f.name}),C.jsxs("div",{children:[C.jsx("div",{className:"text-[10px] uppercase font-bold text-indigo-500 tracking-wider",children:"Adding relatives for:"}),C.jsx("div",{className:"text-sm font-bold text-indigo-900",children:f.name})]})]}),C.jsx("textarea",{className:"w-full h-32 p-3 border rounded-lg resize-none mb-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 border-gray-300",placeholder:f?"Add wife Sarah, son Michael...":T.aiPlaceholder,value:p,onChange:N=>g(N.target.value)}),v&&C.jsx("p",{className:"text-red-500 text-sm mb-2 bg-red-50 p-2 rounded border border-red-100",children:v})]}),C.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-2 border-t border-gray-100",children:[C.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:T.cancel}),C.jsx("button",{onClick:A,disabled:y||!p.trim(),className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:opacity-90 disabled:opacity-50 flex items-center gap-2 font-medium",children:y?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),T.generating]}):C.jsxs(C.Fragment,{children:[C.jsx(ke.Wand2,{className:"w-4 h-4"})," ",T.generate]})})]})]})}):null},DN=({viewport:i,language:t="id"})=>{const l=qo[t],a=j.useMemo(()=>{const p=window.innerHeight,g=(0-i.y)/i.scale,y=(p-i.y)/i.scale,m=Math.floor(g/Kn),v=Math.ceil(y/Kn),E=[];for(let T=m;T<=v;T++)E.push(T);return E},[i,window.innerHeight]),r=p=>p===0?l.meRoot:p===-1?l.parents:p===-2?l.grandparents:p===-3?l.greatGrandparents:p===1?l.children:p===2?l.grandchildren:p===3?l.greatGrandchildren:p<0?`${Math.abs(p)}${l.genAgo}`:`${p}${l.genAfter}`,f=p=>p%2===0?"bg-indigo-50/70":"bg-white/50";return C.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-24 overflow-hidden pointer-events-none z-20 select-none",children:[a.map(p=>{const g=p*Kn*i.scale+i.y,y=Kn*i.scale;return g+y<0||g>window.innerHeight?null:C.jsxs("div",{className:`absolute w-full border-b border-indigo-100 flex flex-col justify-center items-center text-center px-1 ${f(p)} pointer-events-none`,style:{top:g,height:y},children:[C.jsx("span",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-widest leading-tight",children:p<0?"":p>0?"":""}),C.jsx("span",{className:"text-xs font-semibold text-slate-500 mt-1",children:r(p)}),Math.abs(p)>3&&C.jsxs("span",{className:"text-[9px] text-slate-300 mt-0.5",children:["Gen ",p]})]},p)}),C.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-px bg-indigo-200/50"})]})},Ci=({active:i,onClick:t,label:l,subLabel:a,icon:r,colorClass:f})=>C.jsxs("button",{onClick:t,className:`w-full flex flex-col items-center justify-center py-2 px-1 border-b border-orange-200 transition-all ${i?"bg-orange-500 text-white shadow-inner":"bg-white text-orange-500 hover:bg-orange-50"} ${f||""}`,children:[r&&C.jsx(r,{className:"w-5 h-5 mb-1"}),l&&C.jsx("span",{className:"text-[10px] font-bold uppercase leading-tight",children:l}),a&&C.jsx("span",{className:"text-[11px] font-medium leading-tight text-center",children:a})]}),UN=({ancestorLimit:i,descendantLimit:t,showDescendantSpouses:l,setAncestorLimit:a,setDescendantLimit:r,setShowDescendantSpouses:f,language:p="id"})=>{const g=qo[p];return C.jsxs("div",{className:"absolute left-0 top-16 bottom-16 w-20 flex flex-col justify-between pointer-events-auto z-30 select-none px-2",children:[C.jsxs("div",{className:"flex flex-col border border-orange-300 rounded-lg overflow-hidden shadow-md bg-white mb-2",children:[C.jsx(Ci,{active:i===1/0,onClick:()=>a(1/0),icon:ke.Maximize,subLabel:g.unlimited}),C.jsx(Ci,{active:i===4,onClick:()=>a(4),label:"",subLabel:`4${g.gAgo}`}),C.jsx(Ci,{active:i===3,onClick:()=>a(3),label:"",subLabel:`3${g.gAgo}`}),C.jsx(Ci,{active:i===2,onClick:()=>a(2),label:"",subLabel:`2${g.gAgo}`})]}),C.jsxs("div",{className:"flex flex-col border border-orange-300 rounded-lg overflow-hidden shadow-md bg-white",children:[C.jsx(Ci,{active:t===1&&!l,onClick:()=>{r(1),f(!1)},icon:ke.User,subLabel:g.child}),C.jsx(Ci,{active:t===1&&l,onClick:()=>{r(1),f(!0)},icon:ke.Users,subLabel:g.childSpouse}),C.jsx(Ci,{active:t===2,onClick:()=>{r(2),f(!0)},icon:ke.Users,subLabel:g.grandchild}),C.jsx(Ci,{active:t===1/0,onClick:()=>{r(1/0),f(!0)},icon:ke.Maximize,subLabel:g.unlimited})]})]})},Ai=()=>Math.random().toString(36).substr(2,9),LN=()=>{const[i,t]=j.useState({people:[{id:"root",name:"Me",gender:"male",birthDate:"",x:0,y:0,photoUrl:"https://ui-avatars.com/api/?name=Me&background=random"}],relationships:[]});j.useEffect(()=>{(async()=>{try{const ne=await fetch("awal.json"),w=ne.headers.get("content-type");if(ne.ok&&w&&w.indexOf("application/json")!==-1){const J=await ne.json();J&&Array.isArray(J.people)&&(console.log("Loaded initial data from awal.json"),t(J))}else console.log("No valid JSON found at awal.json (or 404), using default state.")}catch(ne){console.warn("Failed to fetch awal.json",ne)}})()},[]);const[l,a]=j.useState(Hu),[r,f]=j.useState(new Set(["root"])),[p,g]=j.useState(xi.PAN),[y,m]=j.useState("pan"),[v,E]=j.useState("click"),[T,A]=j.useState(!1),[N,k]=j.useState(!1),[R,B]=j.useState(!0),[Z,F]=j.useState(!1),[ee,oe]=j.useState(""),[ce,Q]=j.useState(!1),[de,ue]=j.useState(50),[ae,Ce]=j.useState(150),[ve,se]=j.useState("id"),[He,$e]=j.useState("normal"),[H,$]=j.useState(""),[he,Ie]=j.useState(!1),[De,b]=j.useState(1/0),[I,X]=j.useState(1/0),[K,te]=j.useState(!0),O=qo[ve],me=j.useRef(null),xe=j.useMemo(()=>r.size===1?Array.from(r)[0]:null,[r]);j.useEffect(()=>{Z&&me.current&&setTimeout(()=>{var Y;return(Y=me.current)==null?void 0:Y.focus()},100)},[Z]);const Se=j.useMemo(()=>{const Y=xe||(i.people.length>0?i.people[0].id:null);if(!Y)return i;const ne=new Map;i.people.forEach(ge=>ne.set(ge.id,[])),i.relationships.forEach(ge=>{var vt,Re,Oe,nt;ge.type==="parent"?((vt=ne.get(ge.targetId))==null||vt.push({id:ge.sourceId,type:"parent",direction:"up"}),(Re=ne.get(ge.sourceId))==null||Re.push({id:ge.targetId,type:"parent",direction:"down"})):ge.type==="spouse"&&((Oe=ne.get(ge.sourceId))==null||Oe.push({id:ge.targetId,type:"spouse",direction:"same"}),(nt=ne.get(ge.targetId))==null||nt.push({id:ge.sourceId,type:"spouse",direction:"same"}))});const w=new Map,J=[];for(J.push({id:Y,gen:0,isSpouseInLaw:!1}),w.set(Y,{gen:0,isSpouseInLaw:!1});J.length>0;){const{id:ge,gen:vt,isSpouseInLaw:Re}=J.shift(),Oe=ne.get(ge)||[];for(const nt of Oe)if(!w.has(nt.id)){let lt=vt,Ct=Re;nt.direction==="up"?(lt=vt-1,Ct=!1):nt.direction==="down"?(lt=vt+1,Ct=!1):Re||(Ct=!0),w.set(nt.id,{gen:lt,isSpouseInLaw:Ct}),J.push({id:nt.id,gen:lt,isSpouseInLaw:Ct})}}const ie=i.people.filter(ge=>{if(!w.has(ge.id))return!1;const vt=w.get(ge.id),Re=vt.gen;return!(Re<0&&Math.abs(Re)>De||Re>0&&(Re>I||vt.isSpouseInLaw&&!K))}),W=new Set(ie.map(ge=>ge.id)),le=i.relationships.filter(ge=>W.has(ge.sourceId)&&W.has(ge.targetId));return{people:ie,relationships:le}},[i,xe,De,I,K]),Pe=(Y,ne,w)=>{R||t(J=>({...J,people:J.people.map(ie=>ie.id===Y?{...ie,x:ne,y:w}:ie)}))},qe=(Y,ne)=>{R||t(w=>({...w,people:w.people.map(J=>r.has(J.id)?{...J,x:J.x+Y,y:J.y+ne}:J)}))},et=Y=>{t(ne=>({...ne,people:ne.people.map(w=>w.id===Y.id?Y:w)}))},Xe=(Y,ne)=>{t(w=>({...w,relationships:w.relationships.map(J=>J.id===Y?{...J,...ne}:J)}))},ct=(Y,ne)=>{t(w=>{let J=[...w.people];const ie=J.find(W=>W.id===Y);if(ie&&ie.linkedId&&(J=J.map(W=>W.id===ie.linkedId&&W.linkedId===Y?{...W,linkedId:void 0}:W)),!ne)J=J.map(W=>W.id===Y?{...W,linkedId:void 0}:W);else{const W=J.find(le=>le.id===ne);W&&W.linkedId&&(J=J.map(le=>le.id===W.linkedId&&le.linkedId===ne?{...le,linkedId:void 0}:le)),J=J.map(le=>le.id===Y?{...le,linkedId:ne}:le.id===ne?{...le,linkedId:Y}:le)}return{...w,people:J}})},Me=Y=>{const ne=i.people.find(w=>w.id===Y);if(ne){const w=l.scale,J=window.innerWidth/2-(ne.x+Lo/2)*w,ie=window.innerHeight/2-(ne.y+as/2)*w;a({x:J,y:ie,scale:w}),f(new Set([Y]))}},yt=Y=>{t(ne=>({people:ne.people.filter(w=>w.id!==Y),relationships:ne.relationships.filter(w=>w.sourceId!==Y&&w.targetId!==Y)})),f(ne=>{const w=new Set(ne);return w.delete(Y),w}),xe===Y&&A(!1)},Cn=(Y,ne)=>{const w=i.people.find(W=>W.id===Y);if(!w)return;let J=[],ie=[];if(ne==="child"){const W=Ai(),le=i.relationships.find(Re=>Re.type==="spouse"&&(Re.sourceId===Y||Re.targetId===Y));let ge;if(le){const Re=le.sourceId===Y?le.targetId:le.sourceId;ge=i.people.find(Oe=>Oe.id===Re)}else{const Re=Ai();ge={id:Re,name:ve==="id"?"Pasangan Baru":"New Spouse",gender:w.gender==="male"?"female":"male",birthDate:"",x:w.x+Lo+30,y:w.y,photoUrl:"https://ui-avatars.com/api/?name=Spouse&background=random"},J.push(ge),ie.push({id:Ai(),sourceId:Y,targetId:Re,type:"spouse"})}const vt={id:W,name:ve==="id"?"Anak Baru":"New Child",gender:"other",birthDate:"",x:w.x,y:w.y+Kn,photoUrl:"https://ui-avatars.com/api/?name=Child&background=random"};ge&&(vt.x=(w.x+ge.x)/2),J.push(vt),ie.push({id:Ai(),sourceId:Y,targetId:W,type:"parent"}),ge&&ie.push({id:Ai(),sourceId:ge.id,targetId:W,type:"parent"}),f(new Set([W]))}else{const W=Ai(),le={id:W,name:ne==="parent"?ve==="id"?"Orang Tua Baru":"New Parent":ve==="id"?"Pasangan Baru":"New Spouse",gender:"other",birthDate:"",x:w.x,y:w.y,photoUrl:`https://ui-avatars.com/api/?name=${ne}&background=random`};for(ne==="parent"?le.y=w.y-Kn:le.x=w.x+200;i.people.some(ge=>Math.abs(ge.x-le.x)<50&&Math.abs(ge.y-le.y)<50);)le.x+=50;J.push(le),ie.push({id:Ai(),sourceId:ne==="parent"?W:Y,targetId:ne==="parent"?Y:W,type:ne==="spouse"?"spouse":"parent",relationshipStatus:"married"}),f(new Set([W]))}t(W=>({people:[...W.people,...J],relationships:[...W.relationships,...ie]})),A(!0)},Ht=(Y,ne,w)=>{let J=Y,ie=ne,W;if(w==="spouse"?W="spouse":(w==="parent"&&(J=ne,ie=Y),W="parent"),i.relationships.some(le=>le.sourceId===J&&le.targetId===ie&&le.type===W||W==="spouse"&&le.sourceId===ie&&le.targetId===J&&le.type==="spouse")){alert("Relationship already exists!");return}t(le=>({...le,relationships:[...le.relationships,{id:Ai(),sourceId:J,targetId:ie,type:W,relationshipStatus:W==="spouse"?"married":void 0}]}))},Pt=(Y,ne)=>{t(w=>({...w,relationships:w.relationships.filter(J=>!(J.sourceId===Y&&J.targetId===ne||J.sourceId===ne&&J.targetId===Y))}))},st=()=>{const Y=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),ne=document.createElement("a");ne.href=URL.createObjectURL(Y),ne.download="family_tree.json",ne.click()},An=Y=>{var w;const ne=(w=Y.target.files)==null?void 0:w[0];if(ne){const J=new FileReader;J.onload=ie=>{var W;try{const le=JSON.parse((W=ie.target)==null?void 0:W.result);le.people&&le.relationships?(t(le),a(Hu)):alert("Invalid file format")}catch{alert("Error parsing JSON")}},J.readAsText(ne)}},Oo=Y=>{t(ne=>{const w=new Map(ne.people.map(ie=>[ie.id,ie])),J=new Map(ne.relationships.map(ie=>[ie.id,ie]));return Y.people.forEach(ie=>w.set(ie.id,w.has(ie.id)?{...w.get(ie.id),...ie}:ie)),Y.relationships.forEach(ie=>{Array.from(J.values()).some(W=>W.sourceId===ie.sourceId&&W.targetId===ie.targetId&&W.type===ie.type)||J.set(ie.id,ie)}),{people:Array.from(w.values()),relationships:Array.from(J.values())}})},Wn=()=>{var ne;const Y=xe||((ne=i.people[0])==null?void 0:ne.id);Y&&t(w=>{const J=new Map;w.people.forEach(Oe=>J.set(Oe.id,[])),w.relationships.forEach(Oe=>{var nt,lt,Ct,ft;Oe.type==="parent"?((nt=J.get(Oe.targetId))==null||nt.push({id:Oe.sourceId,direction:"up"}),(lt=J.get(Oe.sourceId))==null||lt.push({id:Oe.targetId,direction:"down"})):Oe.type==="spouse"&&((Ct=J.get(Oe.sourceId))==null||Ct.push({id:Oe.targetId,direction:"same"}),(ft=J.get(Oe.targetId))==null||ft.push({id:Oe.sourceId,direction:"same"}))});const ie=new Map,W=[{id:Y,level:0,isSpouseInLaw:!1}];ie.set(Y,{level:0,isSpouseInLaw:!1});const le=new Set([Y]);for(;W.length>0;){const{id:Oe,level:nt,isSpouseInLaw:lt}=W.shift(),Ct=J.get(Oe)||[];for(const ft of Ct)if(!le.has(ft.id)){let tt=nt,We=lt;ft.direction==="up"?(tt=nt-1,We=!1):ft.direction==="down"?(tt=nt+1,We=!1):lt||(We=!0),ie.set(ft.id,{level:tt,isSpouseInLaw:We}),le.add(ft.id),W.push({id:ft.id,level:tt,isSpouseInLaw:We})}}const ge=new Map,vt=w.people.map(Oe=>({...Oe}));vt.forEach(Oe=>{var nt;if(ie.has(Oe.id)){const lt=ie.get(Oe.id);ge.has(lt.level)||ge.set(lt.level,[]),(nt=ge.get(lt.level))==null||nt.push(Oe)}});const Re=He==="mini"?ic:Lo;return ge.forEach((Oe,nt)=>{const lt=Oe.filter(tt=>{const We=ie.get(tt.id);return!(!We||We.level<0&&Math.abs(We.level)>De||We.level>0&&(We.level>I||We.isSpouseInLaw&&!K))});if(lt.length===0)return;lt.sort((tt,We)=>tt.x-We.x);const Ct=[],ft=new Set;lt.forEach(tt=>{if(ft.has(tt.id))return;const We=[tt];ft.add(tt.id);const qt=[tt];for(;qt.length>0;){const xt=qt.shift();w.relationships.filter(rt=>rt.type==="spouse"&&(rt.sourceId===xt.id||rt.targetId===xt.id)).map(rt=>rt.sourceId===xt.id?rt.targetId:rt.sourceId).forEach(rt=>{const Zt=lt.find(Fo=>Fo.id===rt);Zt&&!ft.has(rt)&&(ft.add(rt),We.push(Zt),qt.push(Zt))})}We.sort((xt,rt)=>xt.x-rt.x),Ct.push(We)}),Ct.forEach((tt,We)=>{if(We>0){const qt=Ct[We-1],xt=qt[qt.length-1],rt=tt[0];let Zt=ae;xt.customRightGap!==void 0&&xt.customRightGap>0&&(Zt=xt.customRightGap),rt.customLeftGap!==void 0&&rt.customLeftGap>0&&(Zt=rt.customLeftGap);const Fo=xt.x+Re+Zt-tt[0].x;tt.forEach(ql=>ql.x+=Fo)}for(let qt=1;qt<tt.length;qt++){const xt=tt[qt-1],rt=xt.customRightGap!==void 0&&xt.customRightGap>0?xt.customRightGap:30;tt[qt].x=xt.x+Re+rt}tt.forEach(qt=>qt.y=nt*Kn)})}),{...w,people:vt}})};j.useEffect(()=>{i.people.length>1&&Wn()},[K]);const bt=Y=>{const ne=i.people.find(w=>w.id===Y);if(ne){const w=l.scale;a(J=>({...J,x:window.innerWidth/2-(ne.x+Lo/2)*w,y:window.innerHeight/2-(ne.y+as/2)*w})),f(new Set([Y])),R||A(!0),$(""),Ie(!1)}},Yo=()=>{R?(F(!0),oe("")):(B(!0),A(!1))},Ji=Y=>{Y&&Y.preventDefault(),ee==="h45l1ntree"?(B(!1),F(!1),xe&&A(!0)):alert(O.wrongPassword)},Xi=(Y,ne,w=!0)=>{if(Y===null){ne||(f(new Set),A(!1)),Q(!1);return}f(J=>{const ie=new Set(ne?J:[]);return ne&&ie.has(Y)?ie.delete(Y):ie.add(Y),ie}),w&&!R&&(!ne||r.size===0)&&A(!0)};j.useEffect(()=>{r.size!==1&&A(!1)},[r.size]);const bn=H?i.people.filter(Y=>Y.name.toLowerCase().includes(H.toLowerCase())):[];return C.jsxs("div",{className:"w-screen h-screen flex flex-col relative",children:[C.jsx("div",{className:"absolute z-40 w-[90%] md:w-full md:max-w-sm px-4 left-1/2 -translate-x-1/2 top-14 md:top-4 transition-all duration-300",children:C.jsxs("div",{className:"relative group shadow-lg rounded-full",children:[C.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:C.jsx(ke.Search,{className:"h-5 w-5 text-gray-400"})}),C.jsx("input",{type:"text",className:"block w-full pl-10 pr-4 py-2.5 border border-transparent rounded-full leading-5 bg-white/90 backdrop-blur text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 sm:text-sm transition-all shadow-sm",placeholder:O.searchPlaceholder,value:H,onChange:Y=>$(Y.target.value),onFocus:()=>Ie(!0),onBlur:()=>setTimeout(()=>Ie(!1),200)}),he&&H&&C.jsx("div",{className:"absolute mt-2 w-full bg-white rounded-xl shadow-xl py-1 overflow-hidden border border-gray-100 max-h-60 overflow-y-auto",children:bn.length>0?bn.map(Y=>C.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-indigo-50 flex items-center gap-3 transition-colors border-b border-gray-50 last:border-0",onClick:()=>bt(Y.id),children:[C.jsx("img",{src:Y.photoUrl,alt:Y.name,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("div",{className:"font-medium text-gray-900 truncate",children:Y.name}),C.jsx("div",{className:"text-xs text-gray-500 truncate",children:Y.birthDate?`${O.born}: ${Y.birthDate}`:O.unknownDate})]})]},Y.id)):C.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 italic text-center",children:O.noResults})})]})}),C.jsxs("div",{className:"absolute top-4 right-4 z-40 flex items-center gap-2",children:[!R&&C.jsxs("div",{className:"relative",children:[C.jsxs("div",{className:"flex bg-white/90 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200",children:[C.jsx("button",{onClick:()=>Wn(),className:"p-2 text-gray-600 hover:text-indigo-600 border-r border-gray-200 hover:bg-gray-50 rounded-l-lg",title:O.autoLayout,children:C.jsx(ke.Grid,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>Q(!ce),className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-gray-50 rounded-r-lg",title:O.layoutSettings,children:C.jsx(ke.Settings,{className:"w-5 h-5"})})]}),ce&&C.jsxs("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 p-3 z-50",children:[C.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:O.layoutSettings}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:O.siblingGap}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"range",min:"20",max:"200",value:de,onChange:Y=>ue(Number(Y.target.value)),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),C.jsx("span",{className:"text-xs w-8 text-right font-mono",children:de})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:O.cousinGap}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("input",{type:"range",min:"50",max:"400",value:ae,onChange:Y=>Ce(Number(Y.target.value)),className:"flex-1 h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),C.jsx("span",{className:"text-xs w-8 text-right font-mono",children:ae})]})]}),C.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[C.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:O.editTriggerLabel}),C.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-0.5",children:[C.jsx("button",{onClick:()=>E("click"),className:`flex-1 text-[10px] py-1 rounded font-medium transition ${v==="click"?"bg-white text-indigo-600 shadow-sm":"text-gray-500"}`,children:O.editTriggerClick}),C.jsx("button",{onClick:()=>E("hold"),className:`flex-1 text-[10px] py-1 rounded font-medium transition ${v==="hold"?"bg-white text-indigo-600 shadow-sm":"text-gray-500"}`,children:O.editTriggerHold})]})]}),C.jsx("button",{onClick:()=>{Wn(),Q(!1)},className:"w-full bg-indigo-600 text-white text-xs font-bold py-1.5 rounded hover:bg-indigo-700 mt-1",children:O.apply})]})]})]}),C.jsx("button",{onClick:()=>$e(Y=>Y==="normal"?"mini":"normal"),className:"p-2 rounded-lg shadow-lg border border-gray-200 bg-white/90 text-gray-600 hover:text-indigo-600",title:O.viewMode,children:C.jsx(ke.Layout,{className:"w-5 h-5"})}),C.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200 flex overflow-hidden text-sm font-medium",children:[C.jsx("button",{onClick:()=>se("id"),className:`px-3 py-1.5 ${ve==="id"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"ID"}),C.jsx("div",{className:"w-px bg-gray-200"}),C.jsx("button",{onClick:()=>se("en"),className:`px-3 py-1.5 ${ve==="en"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"EN"})]})]}),C.jsxs("div",{className:"absolute z-40 bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-lg border border-gray-200 flex flex-col gap-2 bottom-6 right-4 md:top-4 md:left-24 md:bottom-auto md:right-auto transition-all duration-300",children:[C.jsx("div",{className:"flex gap-1 border-b border-gray-200 pb-2 mb-1",children:C.jsx("button",{onClick:Yo,className:`p-2 rounded transition shadow-sm w-full flex justify-center items-center ${R?"bg-red-500 text-white":"bg-green-500 text-white"}`,title:R?O.unlockEditing:O.lockEditing,children:R?C.jsx(ke.Lock,{className:"w-5 h-5"}):C.jsx(ke.Unlock,{className:"w-5 h-5"})})}),C.jsxs("div",{className:"flex flex-col gap-1 border-b border-gray-200 pb-2 mb-1",children:[C.jsx("button",{onClick:()=>g(xi.PAN),className:`p-2 rounded transition shadow-sm w-full flex justify-center items-center ${p===xi.PAN?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,title:O.toolPan,children:C.jsx(ke.Move,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>g(xi.SELECT),className:`p-2 rounded transition shadow-sm w-full flex justify-center items-center ${p===xi.SELECT?"bg-blue-100 text-blue-700":"text-gray-500 hover:bg-gray-100"}`,title:O.toolSelect,children:C.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("rect",{x:"5",y:"5",width:"14",height:"14",rx:"2",strokeWidth:"2",strokeDasharray:"4 2"})})})]}),C.jsx("div",{className:"flex flex-col gap-1 border-b border-gray-200 pb-2 mb-1",children:C.jsxs("button",{onClick:()=>m(Y=>Y==="pan"?"zoom":"pan"),className:`p-2 rounded transition shadow-sm w-full flex justify-center items-center relative group ${y==="zoom"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:bg-gray-100"}`,title:`${O.scrollModeLabel} ${y==="zoom"?O.scrollZoom:O.scrollPan}`,children:[C.jsx(ke.Mouse,{className:"w-5 h-5"}),C.jsxs("span",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 whitespace-nowrap pointer-events-none z-50 transition-opacity",children:[O.scrollModeLabel," ",y==="zoom"?O.scrollZoom:O.scrollPan]})]})}),!R&&C.jsx("div",{className:"flex gap-1 border-b border-gray-200 pb-2 mb-1",children:C.jsx("button",{onClick:()=>k(!0),className:"p-2 text-white bg-gradient-to-r from-purple-500 to-indigo-600 rounded hover:opacity-90 shadow-sm w-full flex justify-center",title:O.aiGenerator,children:C.jsx(ke.Wand2,{className:"w-5 h-5"})})}),C.jsxs("div",{className:"flex flex-col gap-1",children:[C.jsx("button",{onClick:()=>a(Y=>({...Y,scale:Math.min(Y.scale+.1,3)})),className:"p-2 text-gray-700 hover:bg-gray-100 rounded",title:"Zoom In",children:C.jsx(ke.ZoomIn,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>a(Y=>({...Y,scale:Math.max(Y.scale-.1,.1)})),className:"p-2 text-gray-700 hover:bg-gray-100 rounded",title:"Zoom Out",children:C.jsx(ke.ZoomOut,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>a(Hu),className:"p-2 text-gray-700 hover:bg-gray-100 rounded",title:"Reset View",children:C.jsx(ke.Maximize,{className:"w-5 h-5"})})]}),!R&&C.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-1 flex flex-col gap-1",children:[C.jsxs("label",{className:"p-2 text-gray-700 hover:bg-gray-100 rounded cursor-pointer",title:O.importJson,children:[C.jsx(ke.Upload,{className:"w-5 h-5"}),C.jsx("input",{type:"file",accept:".json",onChange:An,className:"hidden"})]}),C.jsx("button",{onClick:st,className:"p-2 text-gray-700 hover:bg-gray-100 rounded",title:O.exportJson,children:C.jsx(ke.Download,{className:"w-5 h-5"})})]})]}),C.jsx(DN,{viewport:l,language:ve}),C.jsx(UN,{ancestorLimit:De,descendantLimit:I,showDescendantSpouses:K,setAncestorLimit:b,setDescendantLimit:X,setShowDescendantSpouses:te,language:ve}),C.jsx("div",{className:"flex-1 bg-[#f4f1ea] overflow-hidden",children:C.jsx(gS,{data:Se,viewport:l,setViewport:a,onUpdatePersonPosition:Pe,onMoveSelectedNodes:qe,selectedPersonIds:r,onSelectPerson:Xi,onMultiSelect:Y=>f(Y),onNavigate:Me,language:ve,viewMode:He,toolMode:p,scrollMode:y,editTrigger:v})}),!R&&C.jsx(yS,{isOpen:T&&xe!==null,onClose:()=>A(!1),selectedPerson:i.people.find(Y=>Y.id===xe)||null,allPeople:i.people,relationships:i.relationships,onUpdatePerson:et,onUpdateRelationship:Xe,onDeletePerson:yt,onAddRelative:Cn,onLinkRelative:Ht,onUnlinkRelative:Pt,onTriggerLayout:Wn,onSetShortcutLink:ct,language:ve}),C.jsx(IN,{isOpen:N,onClose:()=>k(!1),onApplyData:Oo,existingPeople:i.people,language:ve,selectedPerson:i.people.find(Y=>Y.id===xe)}),Z&&C.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[100] backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-sm m-4 animate-scale-in",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[C.jsx(ke.Lock,{className:"w-5 h-5 text-red-500"}),O.unlockEditing]}),C.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600",children:C.jsx(ke.X,{className:"w-5 h-5"})})]}),C.jsx("p",{className:"text-sm text-gray-600 mb-4",children:O.enterPassword}),C.jsxs("form",{onSubmit:Ji,children:[C.jsx("input",{ref:me,type:"password",className:"w-full border border-gray-300 rounded-lg px-4 py-2 mb-4 focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"Password...",value:ee,onChange:Y=>oe(Y.target.value)}),C.jsxs("div",{className:"flex justify-end gap-2",children:[C.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm font-medium",children:O.cancel}),C.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium shadow-md",children:"OK"})]})]})]})})]})},$g=document.getElementById("root");if(!$g)throw new Error("Could not find root element to mount to");const GN=Tv.createRoot($g);GN.render(C.jsx(dv.StrictMode,{children:C.jsx(LN,{})}));
